<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Game: mtgb::FbxParts クラス</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Game
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classmtgb_1_1FbxParts.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">読み取り中…</div>
<div class="SRStatus" id="Searching">検索中…</div>
<div class="SRStatus" id="NoMatches">一致する文字列を見つけられません</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">クラス</a> &#124;
<a href="#pub-methods">公開メンバ関数</a> &#124;
<a href="#pro-methods">限定公開メンバ関数</a> &#124;
<a href="#pro-attribs">限定公開変数類</a> &#124;
<a href="#pri-methods">非公開メンバ関数</a> &#124;
<a href="#pri-attribs">非公開変数類</a> &#124;
<a href="classmtgb_1_1FbxParts-members.html">全メンバ一覧</a>  </div>
  <div class="headertitle"><div class="title">mtgb::FbxParts クラス</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="FbxParts_8h_source.html">FbxParts.h</a>&quot;</code></p>
<div class="dynheader">
mtgb::FbxParts の継承関係図</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1FbxParts__inherit__graph.svg" width="350" height="1490"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
mtgb::FbxParts 連携図</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1FbxParts__coll__graph.svg" width="1650" height="3062"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
クラス</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtgb_1_1FbxParts_1_1Bone.html">Bone</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ボーン (関節そのもの)  <a href="structmtgb_1_1FbxParts_1_1Bone.html#details">[詳解]</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtgb_1_1FbxParts_1_1BoneMatrices.html">BoneMatrices</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtgb_1_1FbxParts_1_1ConstantBuffer.html">ConstantBuffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtgb_1_1FbxParts_1_1Material.html">Material</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">マテリアル  <a href="structmtgb_1_1FbxParts_1_1Material.html#details">[詳解]</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtgb_1_1FbxParts_1_1Vertex.html">Vertex</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtgb_1_1FbxParts_1_1Weight.html">Weight</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ウェイト (関節同士の影響度合い)  <a href="structmtgb_1_1FbxParts_1_1Weight.html#details">[詳解]</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
公開メンバ関数</h2></td></tr>
<tr class="memitem:a455955eca54b84ae41c62313879731c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a455955eca54b84ae41c62313879731c8">FbxParts</a> (FbxNode *_parent, double _unitScaleFactor)</td></tr>
<tr class="separator:a455955eca54b84ae41c62313879731c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381a781dfe7a40961b0b5be900e9c424"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a381a781dfe7a40961b0b5be900e9c424">~FbxParts</a> ()</td></tr>
<tr class="separator:a381a781dfe7a40961b0b5be900e9c424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc50f4ad4fb62df9a62073765ce169d2"><td class="memItemLeft" align="right" valign="top">FbxNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#adc50f4ad4fb62df9a62073765ce169d2">GetNode</a> () const</td></tr>
<tr class="separator:adc50f4ad4fb62df9a62073765ce169d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ca4751bdeb002e74dd3d5d2a4d671b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a76ca4751bdeb002e74dd3d5d2a4d671b">Initialize</a> () override</td></tr>
<tr class="memdesc:a76ca4751bdeb002e74dd3d5d2a4d671b"><td class="mdescLeft">&#160;</td><td class="mdescRight">シェーダの初期化処理  <br /></td></tr>
<tr class="separator:a76ca4751bdeb002e74dd3d5d2a4d671b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ebacdb10f1a362d0cc2c2e51d2b6548"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a2ebacdb10f1a362d0cc2c2e51d2b6548">Release</a> () override</td></tr>
<tr class="separator:a2ebacdb10f1a362d0cc2c2e51d2b6548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1713fb4aa315c4474adb28c852d7b7c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a1713fb4aa315c4474adb28c852d7b7c5">Draw</a> (const <a class="el" href="classmtgb_1_1Transform.html">Transform</a> &amp;_transform)</td></tr>
<tr class="memdesc:a1713fb4aa315c4474adb28c852d7b7c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">モデルを描画する  <br /></td></tr>
<tr class="separator:a1713fb4aa315c4474adb28c852d7b7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9474b5995c377d4730fa7b3c0d84bda6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a9474b5995c377d4730fa7b3c0d84bda6">DrawSkinAnimation</a> (const <a class="el" href="classmtgb_1_1Transform.html">Transform</a> &amp;_transform, FbxTime _time)</td></tr>
<tr class="memdesc:a9474b5995c377d4730fa7b3c0d84bda6"><td class="mdescLeft">&#160;</td><td class="mdescRight">ボーンありでモデルを描画する  <br /></td></tr>
<tr class="separator:a9474b5995c377d4730fa7b3c0d84bda6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e55ab231d88f29ec44e95715f62fb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a40e55ab231d88f29ec44e95715f62fb3">DrawMeshAnimation</a> (const <a class="el" href="classmtgb_1_1Transform.html">Transform</a> &amp;_transform, FbxTime _time)</td></tr>
<tr class="memdesc:a40e55ab231d88f29ec44e95715f62fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">ボーン無しでモデルを描画する  <br /></td></tr>
<tr class="separator:a40e55ab231d88f29ec44e95715f62fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a7e481e5d26637ddd3cf89428b0f30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a17a7e481e5d26637ddd3cf89428b0f30">TryGetBonePosition</a> (const std::string &amp;_boneName, <a class="el" href="structmtgb_1_1Vector3.html">Vector3</a> *_pPosition)</td></tr>
<tr class="memdesc:a17a7e481e5d26637ddd3cf89428b0f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">試しにボーンのアニメーション無しのときの座標を取得する  <br /></td></tr>
<tr class="separator:a17a7e481e5d26637ddd3cf89428b0f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b2d9f529cfc1045075ee060b0c4487"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a05b2d9f529cfc1045075ee060b0c4487">TryGetBonePositionAtNow</a> (const std::string &amp;_boneName, <a class="el" href="structmtgb_1_1Vector3.html">Vector3</a> *_pPosition)</td></tr>
<tr class="memdesc:a05b2d9f529cfc1045075ee060b0c4487"><td class="mdescLeft">&#160;</td><td class="mdescRight">試しにボーンのアニメーション中の座標を取得する  <br /></td></tr>
<tr class="separator:a05b2d9f529cfc1045075ee060b0c4487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a405507c5278a5dd02c74be1a76c92b79"><td class="memItemLeft" align="right" valign="top">FbxSkin *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a405507c5278a5dd02c74be1a76c92b79">GetSkin</a> ()</td></tr>
<tr class="memdesc:a405507c5278a5dd02c74be1a76c92b79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fbxのスキンを取得  <br /></td></tr>
<tr class="separator:a405507c5278a5dd02c74be1a76c92b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac815823ba32d88817b7bd10b739945d6"><td class="memTemplParams" colspan="2">template&lt;typename ConstantBufferT , typename VertexT &gt; </td></tr>
<tr class="memitem:ac815823ba32d88817b7bd10b739945d6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#ac815823ba32d88817b7bd10b739945d6">Draw</a> (const std::function&lt; void(ConstantBufferT *)&gt; &amp;_makeConstantBufferCallback, const std::function&lt; void(ID3D11DeviceContext *)&gt; &amp;_contextSetterCallback, const int _drawIndexCount)</td></tr>
<tr class="separator:ac815823ba32d88817b7bd10b739945d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
限定公開メンバ関数</h2></td></tr>
<tr class="memitem:aac405970a9f1034d8e6e5504c60c34d5"><td class="memTemplParams" colspan="2">template&lt;typename ConstantBufferT , typename VertexT &gt; </td></tr>
<tr class="memitem:aac405970a9f1034d8e6e5504c60c34d5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#aac405970a9f1034d8e6e5504c60c34d5">Draw</a> (const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;_makeConstantBufferCallback, const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;_contextSetterCallback, const int _drawIndexCount=6)</td></tr>
<tr class="memdesc:aac405970a9f1034d8e6e5504c60c34d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">シェーダの描画処理(共通)  <br /></td></tr>
<tr class="separator:aac405970a9f1034d8e6e5504c60c34d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5190b06398850db0a1991fca52aade"><td class="memTemplParams" colspan="2">template&lt;typename ConstantBufferT , typename VertexT &gt; </td></tr>
<tr class="memitem:a3a5190b06398850db0a1991fca52aade"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#a3a5190b06398850db0a1991fca52aade">Draw</a> (const std::function&lt; void(VertexT *_pVertex)&gt; &amp;_makeVertexBufferCallback, const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;_makeConstantBufferCallback, const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;_contextSetterCallback, const int _drawIndexCount=6)</td></tr>
<tr class="separator:a3a5190b06398850db0a1991fca52aade"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
限定公開変数類</h2></td></tr>
<tr class="memitem:a1ca0458701c1f244741b2eec2035e529"><td class="memItemLeft" align="right" valign="top">ComPtr&lt; ID3D11Buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a></td></tr>
<tr class="memdesc:a1ca0458701c1f244741b2eec2035e529"><td class="mdescLeft">&#160;</td><td class="mdescRight">カメラの座標系を取得  <br /></td></tr>
<tr class="separator:a1ca0458701c1f244741b2eec2035e529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa684283886d8b16b40a26c0f7f9d2c69"><td class="memItemLeft" align="right" valign="top">ComPtr&lt; ID3D11Buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a></td></tr>
<tr class="separator:aa684283886d8b16b40a26c0f7f9d2c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa72729f876f52ada9160eafa3716ac"><td class="memItemLeft" align="right" valign="top">ComPtr&lt; ID3D11Buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a></td></tr>
<tr class="separator:acfa72729f876f52ada9160eafa3716ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
非公開メンバ関数</h2></td></tr>
<tr class="memitem:a5ac3028b3e4a572023e63ee45e44900b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a5ac3028b3e4a572023e63ee45e44900b">InitializeVertexBuffer</a> (ID3D11Device *_pDevice) override</td></tr>
<tr class="memdesc:a5ac3028b3e4a572023e63ee45e44900b"><td class="mdescLeft">&#160;</td><td class="mdescRight">頂点バッファの初期化  <br /></td></tr>
<tr class="separator:a5ac3028b3e4a572023e63ee45e44900b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a984ea117946982bce580a7fabc7ac912"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a984ea117946982bce580a7fabc7ac912">InitializeIndexBuffer</a> (ID3D11Device *_pDevice) override</td></tr>
<tr class="memdesc:a984ea117946982bce580a7fabc7ac912"><td class="mdescLeft">&#160;</td><td class="mdescRight">インデックスバッファの初期化  <br /></td></tr>
<tr class="separator:a984ea117946982bce580a7fabc7ac912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c8fdbe5ef2e0aa2447b871ea9c0b18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#ac1c8fdbe5ef2e0aa2447b871ea9c0b18">InitializeConstantBuffer</a> (ID3D11Device *_pDevice) override</td></tr>
<tr class="memdesc:ac1c8fdbe5ef2e0aa2447b871ea9c0b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">コンスタントバッファの初期化  <br /></td></tr>
<tr class="separator:ac1c8fdbe5ef2e0aa2447b871ea9c0b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad483cf282bafbbf79c55b82a99abb874"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#ad483cf282bafbbf79c55b82a99abb874">InitializeMaterial</a> ()</td></tr>
<tr class="memdesc:ad483cf282bafbbf79c55b82a99abb874"><td class="mdescLeft">&#160;</td><td class="mdescRight">マテリアルの初期化  <br /></td></tr>
<tr class="separator:ad483cf282bafbbf79c55b82a99abb874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9cd7add6238c2b3a2ba9176e6f39030"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#ab9cd7add6238c2b3a2ba9176e6f39030">InitializeTexture</a> (FbxSurfaceMaterial *_pMaterial, const DWORD _i)</td></tr>
<tr class="memdesc:ab9cd7add6238c2b3a2ba9176e6f39030"><td class="mdescLeft">&#160;</td><td class="mdescRight">テクスチャの初期化  <br /></td></tr>
<tr class="separator:ab9cd7add6238c2b3a2ba9176e6f39030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a025121b0ca47b981432824825652e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a3a025121b0ca47b981432824825652e3">InitializeSkelton</a> ()</td></tr>
<tr class="memdesc:a3a025121b0ca47b981432824825652e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">骨情報の初期化  <br /></td></tr>
<tr class="separator:a3a025121b0ca47b981432824825652e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64707ae7f4ad438f94a6a686118b6d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#aa64707ae7f4ad438f94a6a686118b6d1">SetBoneMatrix</a> ()</td></tr>
<tr class="separator:aa64707ae7f4ad438f94a6a686118b6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a40437a297fde6f8bbcabc88c0b128"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a96a40437a297fde6f8bbcabc88c0b128">HasSkinnedMesh</a> () const</td></tr>
<tr class="separator:a96a40437a297fde6f8bbcabc88c0b128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfd49f219723a19ec79278d0df10495"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a9bfd49f219723a19ec79278d0df10495">SetAnimationTime</a> (const FbxTime &amp;_time)</td></tr>
<tr class="separator:a9bfd49f219723a19ec79278d0df10495"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
非公開変数類</h2></td></tr>
<tr class="memitem:a2821cad5959223883d09220781ece047"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a2821cad5959223883d09220781ece047">DirectX11Draw</a></td></tr>
<tr class="separator:a2821cad5959223883d09220781ece047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e51536aad681ebd7ab1f173baaa2457"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">hasSkinnedMesh_</a></td></tr>
<tr class="separator:a3e51536aad681ebd7ab1f173baaa2457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539e9d3e0bea5224d38edaf510529137"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a></td></tr>
<tr class="separator:a539e9d3e0bea5224d38edaf510529137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a0286089f99a3e93d35c9c8a76f46b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a17a0286089f99a3e93d35c9c8a76f46b">polygonCount_</a></td></tr>
<tr class="separator:a17a0286089f99a3e93d35c9c8a76f46b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53cab168c94bf1180c4b2d27f6380e59"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a53cab168c94bf1180c4b2d27f6380e59">indexCount_</a></td></tr>
<tr class="separator:a53cab168c94bf1180c4b2d27f6380e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcbd5a3443c9c5ef018f6cf7ce02347f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a></td></tr>
<tr class="separator:abcbd5a3443c9c5ef018f6cf7ce02347f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7ff9f0e23cb026ddf77f255e539210"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a4c7ff9f0e23cb026ddf77f255e539210">polygonVertexCount_</a></td></tr>
<tr class="separator:a4c7ff9f0e23cb026ddf77f255e539210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a265f736ff20e8c7cd49f31dc72fc79"><td class="memItemLeft" align="right" valign="top">FbxNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a5a265f736ff20e8c7cd49f31dc72fc79">pNode_</a></td></tr>
<tr class="separator:a5a265f736ff20e8c7cd49f31dc72fc79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49119504bc235a618cf7c102db8844bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmtgb_1_1FbxParts_1_1Material.html">Material</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a></td></tr>
<tr class="separator:a49119504bc235a618cf7c102db8844bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ed272da66b6ea91f7130d3a0743f21"><td class="memItemLeft" align="right" valign="top">FbxMesh *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a></td></tr>
<tr class="separator:a94ed272da66b6ea91f7130d3a0743f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea98c37cebaa3e185a4668bbc849b96e"><td class="memItemLeft" align="right" valign="top">FbxSkin *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#aea98c37cebaa3e185a4668bbc849b96e">pSkin_</a></td></tr>
<tr class="separator:aea98c37cebaa3e185a4668bbc849b96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab326cfaebda9627c8b5e02bbc48b1838"><td class="memItemLeft" align="right" valign="top">FbxCluster **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a></td></tr>
<tr class="separator:ab326cfaebda9627c8b5e02bbc48b1838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990a152cad3970b77cba450cca3ff046"><td class="memItemLeft" align="right" valign="top">FbxTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a990a152cad3970b77cba450cca3ff046">currentTime_</a></td></tr>
<tr class="separator:a990a152cad3970b77cba450cca3ff046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf9fad8382f5a25343682446d7e7297"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a></td></tr>
<tr class="separator:a9bf9fad8382f5a25343682446d7e7297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582941238093848310ed93a82d8bed0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmtgb_1_1FbxParts_1_1Bone.html">Bone</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">pBones_</a></td></tr>
<tr class="separator:a582941238093848310ed93a82d8bed0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0fba41d4ce3eb2bcf4957bbb10df6f"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, <a class="el" href="structmtgb_1_1FbxParts_1_1Bone.html">Bone</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#aae0fba41d4ce3eb2bcf4957bbb10df6f">boneNamePair_</a></td></tr>
<tr class="separator:aae0fba41d4ce3eb2bcf4957bbb10df6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2250d227175ef0f541db62a3dabb3356"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmtgb_1_1FbxParts_1_1Weight.html">Weight</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a2250d227175ef0f541db62a3dabb3356">pWeights_</a></td></tr>
<tr class="separator:a2250d227175ef0f541db62a3dabb3356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaff9dd7bb6f471ea4900c4166fcb3ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmtgb_1_1FbxParts_1_1Vertex.html">Vertex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a></td></tr>
<tr class="separator:adaff9dd7bb6f471ea4900c4166fcb3ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae188d66fcf074b27f05b84ba55c1b939"><td class="memItemLeft" align="right" valign="top">DWORD **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">ppIndexData_</a></td></tr>
<tr class="separator:ae188d66fcf074b27f05b84ba55c1b939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6310fa605dfc98c1e456c2759fb1dd6b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; ComPtr&lt; ID3D11Buffer &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">ppIndexBuffer_</a></td></tr>
<tr class="separator:a6310fa605dfc98c1e456c2759fb1dd6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b44b01edaf7740990b40343921cb77"><td class="memItemLeft" align="right" valign="top">ComPtr&lt; ID3D11Buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#ac2b44b01edaf7740990b40343921cb77">pBoneConstantBuffer_</a></td></tr>
<tr class="separator:ac2b44b01edaf7740990b40343921cb77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b0cc993d842b425f6439ea8dbc4c13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmtgb_1_1FbxParts_1_1BoneMatrices.html">BoneMatrices</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a78b0cc993d842b425f6439ea8dbc4c13">boneMatrices_</a></td></tr>
<tr class="separator:a78b0cc993d842b425f6439ea8dbc4c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d7def2c53aeb2b9f5967f85d86b9abb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a5d7def2c53aeb2b9f5967f85d86b9abb">unitScaleFactor_</a></td></tr>
<tr class="separator:a5d7def2c53aeb2b9f5967f85d86b9abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61462899106091aefd1f92e288e20577"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1FbxParts.html#a61462899106091aefd1f92e288e20577">fbxToWorldScaleFactor_</a></td></tr>
<tr class="separator:a61462899106091aefd1f92e288e20577"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">詳解</h2>
<div class="textblock">
<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00029">29</a> 行目に定義があります。</p>
</div><h2 class="groupheader">構築子と解体子</h2>
<a id="a455955eca54b84ae41c62313879731c8" name="a455955eca54b84ae41c62313879731c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455955eca54b84ae41c62313879731c8">&#9670;&#160;</a></span>FbxParts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mtgb::FbxParts::FbxParts </td>
          <td>(</td>
          <td class="paramtype">FbxNode *&#160;</td>
          <td class="paramname"><em>_parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>_unitScaleFactor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00021">21</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>    : <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a>{0}</div>
<div class="line"><span class="lineno">   23</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a17a0286089f99a3e93d35c9c8a76f46b">polygonCount_</a>{0}</div>
<div class="line"><span class="lineno">   24</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a53cab168c94bf1180c4b2d27f6380e59">indexCount_</a>{0}</div>
<div class="line"><span class="lineno">   25</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>{0}</div>
<div class="line"><span class="lineno">   26</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a4c7ff9f0e23cb026ddf77f255e539210">polygonVertexCount_</a>{0}</div>
<div class="line"><span class="lineno">   27</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a5a265f736ff20e8c7cd49f31dc72fc79">pNode_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   28</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   29</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   30</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aea98c37cebaa3e185a4668bbc849b96e">pSkin_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   31</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   32</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>{0}</div>
<div class="line"><span class="lineno">   33</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">pBones_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   34</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a2250d227175ef0f541db62a3dabb3356">pWeights_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   35</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   36</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">ppIndexData_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   37</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">ppIndexBuffer_</a>{<span class="keyword">nullptr</span>}</div>
<div class="line"><span class="lineno">   38</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a5d7def2c53aeb2b9f5967f85d86b9abb">unitScaleFactor_</a>{_unitScaleFactor}</div>
<div class="line"><span class="lineno">   39</span>    , <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a61462899106091aefd1f92e288e20577">fbxToWorldScaleFactor_</a>{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(1.0f / _unitScaleFactor)}</div>
<div class="line"><span class="lineno">   40</span>{</div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">if</span> (_parent != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   42</span>    {</div>
<div class="line"><span class="lineno">   43</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a5a265f736ff20e8c7cd49f31dc72fc79">pNode_</a> = _parent;</div>
<div class="line"><span class="lineno">   44</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a> = _parent-&gt;GetMesh();</div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a> != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;FbxParts: pMesh_ is null&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span>}</div>
<div class="ttc" id="aMTAssert_8h_html_a7de4bc03eec86d2d1319f77ce98a93d7"><div class="ttname"><a href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a></div><div class="ttdeci">#define massert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="MTAssert_8h_source.html#l00009">MTAssert.h:9</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a17a0286089f99a3e93d35c9c8a76f46b"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a17a0286089f99a3e93d35c9c8a76f46b">mtgb::FbxParts::polygonCount_</a></div><div class="ttdeci">uint32_t polygonCount_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00188">FbxParts.h:188</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a2250d227175ef0f541db62a3dabb3356"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a2250d227175ef0f541db62a3dabb3356">mtgb::FbxParts::pWeights_</a></div><div class="ttdeci">Weight * pWeights_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00203">FbxParts.h:203</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a49119504bc235a618cf7c102db8844bb"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">mtgb::FbxParts::pMaterial_</a></div><div class="ttdeci">Material * pMaterial_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00194">FbxParts.h:194</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a4c7ff9f0e23cb026ddf77f255e539210"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a4c7ff9f0e23cb026ddf77f255e539210">mtgb::FbxParts::polygonVertexCount_</a></div><div class="ttdeci">uint32_t polygonVertexCount_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00191">FbxParts.h:191</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a539e9d3e0bea5224d38edaf510529137"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">mtgb::FbxParts::vertexCount_</a></div><div class="ttdeci">uint32_t vertexCount_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00187">FbxParts.h:187</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a53cab168c94bf1180c4b2d27f6380e59"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a53cab168c94bf1180c4b2d27f6380e59">mtgb::FbxParts::indexCount_</a></div><div class="ttdeci">uint32_t indexCount_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00189">FbxParts.h:189</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a582941238093848310ed93a82d8bed0d"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">mtgb::FbxParts::pBones_</a></div><div class="ttdeci">Bone * pBones_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00201">FbxParts.h:201</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a5a265f736ff20e8c7cd49f31dc72fc79"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a5a265f736ff20e8c7cd49f31dc72fc79">mtgb::FbxParts::pNode_</a></div><div class="ttdeci">FbxNode * pNode_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00193">FbxParts.h:193</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a5d7def2c53aeb2b9f5967f85d86b9abb"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a5d7def2c53aeb2b9f5967f85d86b9abb">mtgb::FbxParts::unitScaleFactor_</a></div><div class="ttdeci">double unitScaleFactor_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00212">FbxParts.h:212</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a61462899106091aefd1f92e288e20577"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a61462899106091aefd1f92e288e20577">mtgb::FbxParts::fbxToWorldScaleFactor_</a></div><div class="ttdeci">float fbxToWorldScaleFactor_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00213">FbxParts.h:213</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a6310fa605dfc98c1e456c2759fb1dd6b"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">mtgb::FbxParts::ppIndexBuffer_</a></div><div class="ttdeci">std::vector&lt; ComPtr&lt; ID3D11Buffer &gt; &gt; ppIndexBuffer_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00208">FbxParts.h:208</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a94ed272da66b6ea91f7130d3a0743f21"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">mtgb::FbxParts::pMesh_</a></div><div class="ttdeci">FbxMesh * pMesh_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00195">FbxParts.h:195</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a9bf9fad8382f5a25343682446d7e7297"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">mtgb::FbxParts::boneCount_</a></div><div class="ttdeci">int boneCount_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00200">FbxParts.h:200</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_ab326cfaebda9627c8b5e02bbc48b1838"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">mtgb::FbxParts::ppCluster_</a></div><div class="ttdeci">FbxCluster ** ppCluster_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00197">FbxParts.h:197</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_abcbd5a3443c9c5ef018f6cf7ce02347f"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">mtgb::FbxParts::materialCount_</a></div><div class="ttdeci">uint32_t materialCount_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00190">FbxParts.h:190</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_adaff9dd7bb6f471ea4900c4166fcb3ad"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">mtgb::FbxParts::pVertexes_</a></div><div class="ttdeci">Vertex * pVertexes_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00204">FbxParts.h:204</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_ae188d66fcf074b27f05b84ba55c1b939"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">mtgb::FbxParts::ppIndexData_</a></div><div class="ttdeci">DWORD ** ppIndexData_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00206">FbxParts.h:206</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_aea98c37cebaa3e185a4668bbc849b96e"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#aea98c37cebaa3e185a4668bbc849b96e">mtgb::FbxParts::pSkin_</a></div><div class="ttdeci">FbxSkin * pSkin_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00196">FbxParts.h:196</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>, <a class="el" href="FbxParts_8h_source.html#l00195">pMesh_</a>, <a class="el" href="FbxParts_8h_source.html#l00193">pNode_</a>.</p>

</div>
</div>
<a id="a381a781dfe7a40961b0b5be900e9c424" name="a381a781dfe7a40961b0b5be900e9c424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381a781dfe7a40961b0b5be900e9c424">&#9670;&#160;</a></span>~FbxParts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mtgb::FbxParts::~FbxParts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00050">50</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>{</div>
<div class="line"><span class="lineno">   52</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">関数詳解</h2>
<a id="ac815823ba32d88817b7bd10b739945d6" name="ac815823ba32d88817b7bd10b739945d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac815823ba32d88817b7bd10b739945d6">&#9670;&#160;</a></span>Draw() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConstantBufferT , typename VertexT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::IShader::Draw </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(ConstantBufferT *)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeConstantBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ID3D11DeviceContext *)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_contextSetterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>_drawIndexCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00081">81</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>    {</div>
<div class="line"><span class="lineno">   86</span>        UINT stride{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">   87</span>        UINT offset{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        stride = <span class="keyword">sizeof</span>(VertexT);</div>
<div class="line"><span class="lineno">   90</span>        offset = 0;</div>
<div class="line"><span class="lineno">   91</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetVertexBuffers(0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>, 1U, <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.GetAddressOf(), &amp;stride, &amp;offset);  <span class="comment">// 頂点バッファをセット</span></div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetIndexBuffer(<a class="code hl_variable" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a>.Get(), DXGI_FORMAT_R32_UINT, 0);  <span class="comment">// インデックスバッファをセット</span></div>
<div class="line"><span class="lineno">   93</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;VSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.GetAddressOf());  <span class="comment">// 頂点シェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">   94</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.GetAddressOf());  <span class="comment">// ピクセルシェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        ConstantBufferT constantBuffer{};</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        _makeConstantBufferCallback(&amp;constantBuffer);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        HRESULT hResult{};</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        <span class="comment">// シェーダに渡すためのデータ</span></div>
<div class="line"><span class="lineno">  103</span>        D3D11_MAPPED_SUBRESOURCE mappedSubresource{};</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>        <span class="comment">// GPUからのデータアクセスをせき止める</span></div>
<div class="line"><span class="lineno">  106</span>        hResult = <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(</div>
<div class="line"><span class="lineno">  107</span>            <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(),</div>
<div class="line"><span class="lineno">  108</span>            NULL,</div>
<div class="line"><span class="lineno">  109</span>            D3D11_MAP_WRITE_DISCARD,</div>
<div class="line"><span class="lineno">  110</span>            NULL,</div>
<div class="line"><span class="lineno">  111</span>            &amp;mappedSubresource);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)  <span class="comment">// GPUデータアクセスせき止めに成功</span></div>
<div class="line"><span class="lineno">  114</span>            &amp;&amp; <span class="stringliteral">&quot;GPUデータアクセスせき止めに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>        <span class="comment">// データ書き込み</span></div>
<div class="line"><span class="lineno">  117</span>        memcpy_s(</div>
<div class="line"><span class="lineno">  118</span>            mappedSubresource.pData,</div>
<div class="line"><span class="lineno">  119</span>            mappedSubresource.RowPitch,</div>
<div class="line"><span class="lineno">  120</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;constantBuffer),</div>
<div class="line"><span class="lineno">  121</span>            <span class="keyword">sizeof</span>(ConstantBufferT));</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>        <span class="comment">// GPUデータアクセスせき止め解除</span></div>
<div class="line"><span class="lineno">  124</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        _contextSetterCallback(<a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>.<a class="code hl_function" href="namespacemtgb_1_1WinCtxRes.html#ab0926fb61d0db1d7c5f68fa830731d9e">Get</a>());</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;DrawIndexed(_drawIndexCount, 0, 0);</div>
<div class="line"><span class="lineno">  129</span>    }</div>
<div class="ttc" id="aInputKeyCode_8h_html_a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb"><div class="ttname"><a href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">KeyCode::U</a></div><div class="ttdeci">@ U</div></div>
<div class="ttc" id="aclassmtgb_1_1DirectX11Draw_html_acad8126bc4c4a3ab9b2c871cf5dc94d1"><div class="ttname"><a href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">mtgb::DirectX11Draw::pContext_</a></div><div class="ttdeci">static ComPtr&lt; ID3D11DeviceContext &gt; pContext_</div><div class="ttdef"><b>Definition:</b> <a href="DirectX11Draw_8h_source.html#l00141">DirectX11Draw.h:141</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_a1ca0458701c1f244741b2eec2035e529"><div class="ttname"><a href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">mtgb::IShader::pVertexBuffer_</a></div><div class="ttdeci">ComPtr&lt; ID3D11Buffer &gt; pVertexBuffer_</div><div class="ttdoc">カメラの座標系を取得</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8h_source.html#l00075">IShader.h:75</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_aa684283886d8b16b40a26c0f7f9d2c69"><div class="ttname"><a href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">mtgb::IShader::pIndexBuffer_</a></div><div class="ttdeci">ComPtr&lt; ID3D11Buffer &gt; pIndexBuffer_</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8h_source.html#l00076">IShader.h:76</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_acfa72729f876f52ada9160eafa3716ac"><div class="ttname"><a href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">mtgb::IShader::pConstantBuffer_</a></div><div class="ttdeci">ComPtr&lt; ID3D11Buffer &gt; pConstantBuffer_</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8h_source.html#l00077">IShader.h:77</a></div></div>
<div class="ttc" id="anamespacemtgb_1_1WinCtxRes_html_ab0926fb61d0db1d7c5f68fa830731d9e"><div class="ttname"><a href="namespacemtgb_1_1WinCtxRes.html#ab0926fb61d0db1d7c5f68fa830731d9e">mtgb::WinCtxRes::Get</a></div><div class="ttdeci">ResourceT &amp; Get(WindowContext ctx)</div><div class="ttdoc">リソースを取得する</div><div class="ttdef"><b>Definition:</b> <a href="WindowContextUtil_8h_source.html#l00022">WindowContextUtil.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>, <a class="el" href="IShader_8h_source.html#l00077">mtgb::IShader::pConstantBuffer_</a>, <a class="el" href="DirectX11Draw_8h_source.html#l00141">mtgb::DirectX11Draw::pContext_</a>, <a class="el" href="IShader_8h_source.html#l00076">mtgb::IShader::pIndexBuffer_</a>, <a class="el" href="IShader_8h_source.html#l00075">mtgb::IShader::pVertexBuffer_</a>, <a class="el" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>.</p>

</div>
</div>
<a id="aac405970a9f1034d8e6e5504c60c34d5" name="aac405970a9f1034d8e6e5504c60c34d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac405970a9f1034d8e6e5504c60c34d5">&#9670;&#160;</a></span>Draw() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConstantBufferT , typename VertexT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::IShader::Draw </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeConstantBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_contextSetterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>_drawIndexCount</em> = <code>6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>シェーダの描画処理(共通) </p>
<dl class="tparams"><dt>テンプレート引数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ConstantBufferT</td><td>コンスタントバッファの型</td></tr>
    <tr><td class="paramname">VertexT</td><td>頂点の型</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_makeConstantBufferCallback</td><td>コンスタントバッファに入れる用のコールバック関数コールバック関数:(ConstantBufferT* _pCB)-&gt;void</td></tr>
    <tr><td class="paramname">_contextSetterCallback</td><td>コンスタントバッファ送信後のコンテキスト処理のコールバック関数コールバック関数:(ID3D11DeviceContext*)-&gt;void</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a5190b06398850db0a1991fca52aade" name="a3a5190b06398850db0a1991fca52aade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a5190b06398850db0a1991fca52aade">&#9670;&#160;</a></span>Draw() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConstantBufferT , typename VertexT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::IShader::Draw </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(VertexT *_pVertex)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeVertexBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeConstantBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_contextSetterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>_drawIndexCount</em> = <code>6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00132">132</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span>    {</div>
<div class="line"><span class="lineno">  138</span>        UINT stride{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">  139</span>        UINT offset{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>        stride = <span class="keyword">sizeof</span>(VertexT);</div>
<div class="line"><span class="lineno">  142</span>        offset = 0;</div>
<div class="line"><span class="lineno">  143</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetVertexBuffers(0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>, 1U, <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.Get(), &amp;stride, &amp;offset);  <span class="comment">// 頂点バッファをセット</span></div>
<div class="line"><span class="lineno">  144</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetIndexBuffer(<a class="code hl_variable" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a>, DXGI_FORMAT_R32_UINT, 0);  <span class="comment">// インデックスバッファをセット</span></div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;VSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get());  <span class="comment">// 頂点シェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get());  <span class="comment">// ピクセルシェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        ConstantBufferT constantBuffer{};</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>        _makeConstantBufferCallback(&amp;constantBuffer);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>        HRESULT hResult{};</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        <span class="comment">// シェーダに渡すためのデータ</span></div>
<div class="line"><span class="lineno">  155</span>        D3D11_MAPPED_SUBRESOURCE mappedSubresource{};</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>        <span class="comment">// GPUからのデータアクセスをせき止める</span></div>
<div class="line"><span class="lineno">  158</span>        hResult = <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(</div>
<div class="line"><span class="lineno">  159</span>            <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(),</div>
<div class="line"><span class="lineno">  160</span>            NULL,</div>
<div class="line"><span class="lineno">  161</span>            D3D11_MAP_WRITE_DISCARD,</div>
<div class="line"><span class="lineno">  162</span>            NULL,</div>
<div class="line"><span class="lineno">  163</span>            &amp;mappedSubresource);</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)  <span class="comment">// GPUデータアクセスせき止めに成功</span></div>
<div class="line"><span class="lineno">  166</span>            &amp;&amp; <span class="stringliteral">&quot;GPUデータアクセスせき止めに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <span class="comment">// データ書き込み</span></div>
<div class="line"><span class="lineno">  169</span>        memcpy_s(</div>
<div class="line"><span class="lineno">  170</span>            mappedSubresource.pData,</div>
<div class="line"><span class="lineno">  171</span>            mappedSubresource.RowPitch,</div>
<div class="line"><span class="lineno">  172</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;constantBuffer),</div>
<div class="line"><span class="lineno">  173</span>            <span class="keyword">sizeof</span>(ConstantBufferT));</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        <span class="comment">// GPUデータアクセスせき止め解除</span></div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>        <span class="comment">// シェーダに渡すためのデータ</span></div>
<div class="line"><span class="lineno">  179</span>        D3D11_MAPPED_SUBRESOURCE mappedSubresource{};</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>        <span class="comment">// GPUからのデータアクセスをせき止める</span></div>
<div class="line"><span class="lineno">  182</span>        hResult = <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(</div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(),</div>
<div class="line"><span class="lineno">  184</span>            NULL,</div>
<div class="line"><span class="lineno">  185</span>            D3D11_MAP_WRITE_DISCARD,</div>
<div class="line"><span class="lineno">  186</span>            NULL,</div>
<div class="line"><span class="lineno">  187</span>            &amp;mappedSubresource);</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)  <span class="comment">// GPUデータアクセスせき止めに成功</span></div>
<div class="line"><span class="lineno">  190</span>            &amp;&amp; <span class="stringliteral">&quot;GPUデータアクセスせき止めに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>        <span class="comment">// データ書き込み</span></div>
<div class="line"><span class="lineno">  193</span>        memcpy_s(</div>
<div class="line"><span class="lineno">  194</span>            mappedSubresource.pData,</div>
<div class="line"><span class="lineno">  195</span>            mappedSubresource.RowPitch,</div>
<div class="line"><span class="lineno">  196</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;constantBuffer),</div>
<div class="line"><span class="lineno">  197</span>            <span class="keyword">sizeof</span>(ConstantBufferT));</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        <span class="comment">// GPUデータアクセスせき止め解除</span></div>
<div class="line"><span class="lineno">  200</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        _contextSetterCallback(<a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>.<a class="code hl_function" href="namespacemtgb_1_1WinCtxRes.html#ab0926fb61d0db1d7c5f68fa830731d9e">Get</a>());</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;DrawIndexed(_drawIndexCount, 0, 0);</div>
<div class="line"><span class="lineno">  205</span>    }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>, <a class="el" href="IShader_8h_source.html#l00077">mtgb::IShader::pConstantBuffer_</a>, <a class="el" href="DirectX11Draw_8h_source.html#l00141">mtgb::DirectX11Draw::pContext_</a>, <a class="el" href="IShader_8h_source.html#l00076">mtgb::IShader::pIndexBuffer_</a>, <a class="el" href="IShader_8h_source.html#l00075">mtgb::IShader::pVertexBuffer_</a>, <a class="el" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>.</p>

</div>
</div>
<a id="a1713fb4aa315c4474adb28c852d7b7c5" name="a1713fb4aa315c4474adb28c852d7b7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1713fb4aa315c4474adb28c852d7b7c5">&#9670;&#160;</a></span>Draw() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::Draw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmtgb_1_1Transform.html">Transform</a> &amp;&#160;</td>
          <td class="paramname"><em>_transform</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>モデルを描画する </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_transform</td><td>座標系</td></tr>
  </table>
  </dd>
</dl>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00099">99</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>{</div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">using namespace </span>DirectX;</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_function" href="classmtgb_1_1DirectX11Draw.html#a80c3f65ad5458eebc5095d6520d85510">DirectX11Draw::SetIsWriteToDepthBuffer</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  104</span>    <span class="comment">// 描画情報をシェーダに渡す</span></div>
<div class="line"><span class="lineno">  105</span>    UINT stride{ <span class="keyword">sizeof</span>(Vertex) };</div>
<div class="line"><span class="lineno">  106</span>    UINT offset{ 0 };</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetVertexBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.GetAddressOf(), &amp;stride, &amp;offset);</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">// 使用するコンスタントバッファをシェーダに伝える</span></div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;VSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.GetAddressOf());</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.GetAddressOf());</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">hasSkinnedMesh_</a>)</div>
<div class="line"><span class="lineno">  114</span>    {</div>
<div class="line"><span class="lineno">  115</span>        <a class="code hl_function" href="classmtgb_1_1DirectX11Draw.html#af785597070f75b637902ae9adb60f735">DirectX11Draw::SetShader</a>(<a class="code hl_enumvalue" href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fda4f4ef2d5fdce24d142a29d1d8b273cf3">ShaderType::FbxPartsSkin</a>);</div>
<div class="line"><span class="lineno">  116</span>        <a class="code hl_function" href="classmtgb_1_1FbxParts.html#aa64707ae7f4ad438f94a6a686118b6d1">SetBoneMatrix</a>(); <span class="comment">// ボーン行列</span></div>
<div class="line"><span class="lineno">  117</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;VSSetConstantBuffers(1, 1, <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ac2b44b01edaf7740990b40343921cb77">pBoneConstantBuffer_</a>.GetAddressOf());</div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_function" href="classmtgb_1_1DirectX11Draw.html#af785597070f75b637902ae9adb60f735">DirectX11Draw::SetShader</a>(<a class="code hl_enumvalue" href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fdab359fb7b514d02d86aa33aae5ce85b64">ShaderType::FbxParts</a>);</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="comment">// カメラシステムへのアクセス用</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="keyword">const</span> CameraSystem&amp; CAMERA{ Game::System&lt;CameraSystem&gt;() };</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">// シェーダのコンスタントバッファーに各種データを渡す</span></div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">for</span> (DWORD i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>; i++)</div>
<div class="line"><span class="lineno">  126</span>    {</div>
<div class="line"><span class="lineno">  127</span>        UINT stride{ <span class="keyword">sizeof</span>(int) };</div>
<div class="line"><span class="lineno">  128</span>        UINT offset{ 0 };</div>
<div class="line"><span class="lineno">  129</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetIndexBuffer(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">ppIndexBuffer_</a>[i].<a class="code hl_function" href="namespacemtgb_1_1WinCtxRes.html#ab0926fb61d0db1d7c5f68fa830731d9e">Get</a>(), DXGI_FORMAT_R32_UINT, 0);</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        <span class="comment">// パラメータの受け渡し</span></div>
<div class="line"><span class="lineno">  132</span>        D3D11_MAPPED_SUBRESOURCE pdata_;</div>
<div class="line"><span class="lineno">  133</span>        ConstantBuffer cb{};</div>
<div class="line"><span class="lineno">  134</span>        Matrix4x4 mWorld{};</div>
<div class="line"><span class="lineno">  135</span>        _transform.GenerateWorldMatrix(&amp;mWorld);</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>        Matrix4x4 mView{};  <span class="comment">// ビュー行列</span></div>
<div class="line"><span class="lineno">  138</span>        CAMERA.GetViewMatrix(&amp;mView);</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        Matrix4x4 mProj{};  <span class="comment">// プロジェクション行列</span></div>
<div class="line"><span class="lineno">  141</span>        CAMERA.GetProjMatrix(&amp;mProj);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        cb.g_matrixWorldViewProj = XMMatrixTranspose(mWorld * mView * mProj);</div>
<div class="line"><span class="lineno">  144</span>        cb.g_matrixWorld = XMMatrixTranspose(mWorld);</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        XMMATRIX matRotate_, rotateX_, rotateY_, rotateZ_;</div>
<div class="line"><span class="lineno">  147</span>        rotateX_ = XMMatrixRotationX(XMConvertToRadians(_transform.rotate.f[0]));</div>
<div class="line"><span class="lineno">  148</span>        rotateY_ = XMMatrixRotationY(XMConvertToRadians(_transform.rotate.f[1]));</div>
<div class="line"><span class="lineno">  149</span>        rotateZ_ = XMMatrixRotationZ(XMConvertToRadians(_transform.rotate.f[2]));</div>
<div class="line"><span class="lineno">  150</span>        matRotate_ = rotateZ_ * rotateY_ * rotateX_   ;</div>
<div class="line"><span class="lineno">  151</span>        </div>
<div class="line"><span class="lineno">  152</span>        XMMATRIX matScale_ = XMMatrixScaling(_transform.scale.x, _transform.scale.y, _transform.scale.z);</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        cb.g_matrixNormalTrans = XMMatrixTranspose(matRotate_ * XMMatrixInverse(<span class="keyword">nullptr</span>, matScale_));</div>
<div class="line"><span class="lineno">  155</span>        cb.g_ambient = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#ae8ff2aff16ec8ff786af448572353d9c">ambient</a>;</div>
<div class="line"><span class="lineno">  156</span>        cb.g_diffuse = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#ae36162a2e3d809c078b754c74ab9cf04">diffuse</a>;</div>
<div class="line"><span class="lineno">  157</span>        cb.g_speculer = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a4d4d7fb96c3f83cdc92f136013b012f6">specular</a>;</div>
<div class="line"><span class="lineno">  158</span>        cb.g_shininess = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a520cef138d92b56264b38a5db014a57f">shininess</a>;</div>
<div class="line"><span class="lineno">  159</span>        CAMERA.GetPosition(&amp;cb.g_cameraPosition);</div>
<div class="line"><span class="lineno">  160</span>        </div>
<div class="line"><span class="lineno">  161</span>        cb.g_lightDirection = <a class="code hl_variable" href="namespaceanonymous__namespace_02FbxParts_8cpp_03.html#a4b99192470cc623eda5b66d16c8589f3">lightDir</a>; <span class="comment">// ライトの向き</span></div>
<div class="line"><span class="lineno">  162</span>        cb.g_isTexture = (<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a866589b100c94a7fd620cd82cfbeb745">pTexture</a> != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  163</span>        cb.g_textureScale = Vector4(_transform.scale.x, _transform.scale.y,_transform.scale.z,0.0f);</div>
<div class="line"><span class="lineno">  164</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0, D3D11_MAP_WRITE_DISCARD, 0, &amp;pdata_);</div>
<div class="line"><span class="lineno">  165</span>        memcpy_s(pdata_.pData, pdata_.RowPitch, (<span class="keywordtype">void</span>*)(&amp;cb), <span class="keyword">sizeof</span>(cb));</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">if</span> (cb.g_isTexture)</div>
<div class="line"><span class="lineno">  168</span>        {</div>
<div class="line"><span class="lineno">  169</span>            ID3D11SamplerState* pSampler = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a866589b100c94a7fd620cd82cfbeb745">pTexture</a>-&gt;<a class="code hl_function" href="classmtgb_1_1Texture2D.html#a5da7e1bf04b285da9c8211f154fe6ce6">GetSamplerState</a>();</div>
<div class="line"><span class="lineno">  170</span>            <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetSamplers(0, 1, &amp;pSampler);</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>            ID3D11ShaderResourceView* pShaderResourceView = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a866589b100c94a7fd620cd82cfbeb745">pTexture</a>-&gt;<a class="code hl_function" href="classmtgb_1_1Texture2D.html#a2c6ff8d54cdc2b032c0b36a1d8dac342">GetShaderResourceView</a>();</div>
<div class="line"><span class="lineno">  173</span>            <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetShaderResources(0, 1, &amp;pShaderResourceView);</div>
<div class="line"><span class="lineno">  174</span>        }</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  176</span>        {</div>
<div class="line"><span class="lineno">  177</span>            <span class="comment">// テクスチャがない場合でもデフォルトサンプラーを設定</span></div>
<div class="line"><span class="lineno">  178</span>            ID3D11SamplerState* pDefaultSampler = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  179</span>            <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetSamplers(0, 1, <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#aee9bc0c977bdb81200a5d302f38f1037">DirectX11Draw::pDefaultSamplerState_</a>.GetAddressOf());</div>
<div class="line"><span class="lineno">  180</span>            </div>
<div class="line"><span class="lineno">  181</span>            ID3D11ShaderResourceView* pNullSRV = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  182</span>            <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetShaderResources(0, 1, &amp;pNullSRV);</div>
<div class="line"><span class="lineno">  183</span>        }</div>
<div class="line"><span class="lineno">  184</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>        <span class="comment">// ポリゴンメッシュを描画する</span></div>
<div class="line"><span class="lineno">  187</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;DrawIndexed(</div>
<div class="line"><span class="lineno">  188</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].polygonCount * 3,</div>
<div class="line"><span class="lineno">  189</span>            0,</div>
<div class="line"><span class="lineno">  190</span>            0</div>
<div class="line"><span class="lineno">  191</span>        );</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>}</div>
<div class="ttc" id="aclassmtgb_1_1DirectX11Draw_html_a80c3f65ad5458eebc5095d6520d85510"><div class="ttname"><a href="classmtgb_1_1DirectX11Draw.html#a80c3f65ad5458eebc5095d6520d85510">mtgb::DirectX11Draw::SetIsWriteToDepthBuffer</a></div><div class="ttdeci">static void SetIsWriteToDepthBuffer(const bool _enabled)</div><div class="ttdoc">深度バッファへの書き込みをするか</div><div class="ttdef"><b>Definition:</b> <a href="DirectX11Draw_8cpp_source.html#l00053">DirectX11Draw.cpp:53</a></div></div>
<div class="ttc" id="aclassmtgb_1_1DirectX11Draw_html_aee9bc0c977bdb81200a5d302f38f1037"><div class="ttname"><a href="classmtgb_1_1DirectX11Draw.html#aee9bc0c977bdb81200a5d302f38f1037">mtgb::DirectX11Draw::pDefaultSamplerState_</a></div><div class="ttdeci">static ComPtr&lt; ID3D11SamplerState &gt; pDefaultSamplerState_</div><div class="ttdef"><b>Definition:</b> <a href="DirectX11Draw_8h_source.html#l00156">DirectX11Draw.h:156</a></div></div>
<div class="ttc" id="aclassmtgb_1_1DirectX11Draw_html_af785597070f75b637902ae9adb60f735"><div class="ttname"><a href="classmtgb_1_1DirectX11Draw.html#af785597070f75b637902ae9adb60f735">mtgb::DirectX11Draw::SetShader</a></div><div class="ttdeci">static void SetShader(const ShaderType _type)</div><div class="ttdoc">描画するシェーダをセットする</div><div class="ttdef"><b>Definition:</b> <a href="DirectX11Draw_8cpp_source.html#l00032">DirectX11Draw.cpp:32</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a3e51536aad681ebd7ab1f173baaa2457"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">mtgb::FbxParts::hasSkinnedMesh_</a></div><div class="ttdeci">bool hasSkinnedMesh_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00186">FbxParts.h:186</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_aa64707ae7f4ad438f94a6a686118b6d1"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#aa64707ae7f4ad438f94a6a686118b6d1">mtgb::FbxParts::SetBoneMatrix</a></div><div class="ttdeci">void SetBoneMatrix()</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8cpp_source.html#l00653">FbxParts.cpp:653</a></div></div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_ac2b44b01edaf7740990b40343921cb77"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#ac2b44b01edaf7740990b40343921cb77">mtgb::FbxParts::pBoneConstantBuffer_</a></div><div class="ttdeci">ComPtr&lt; ID3D11Buffer &gt; pBoneConstantBuffer_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00209">FbxParts.h:209</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Texture2D_html_a2c6ff8d54cdc2b032c0b36a1d8dac342"><div class="ttname"><a href="classmtgb_1_1Texture2D.html#a2c6ff8d54cdc2b032c0b36a1d8dac342">mtgb::Texture2D::GetShaderResourceView</a></div><div class="ttdeci">ID3D11ShaderResourceView * GetShaderResourceView()</div><div class="ttdoc">シェーダリソースビュを取得</div><div class="ttdef"><b>Definition:</b> <a href="Texture2D_8h_source.html#l00040">Texture2D.h:40</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Texture2D_html_a5da7e1bf04b285da9c8211f154fe6ce6"><div class="ttname"><a href="classmtgb_1_1Texture2D.html#a5da7e1bf04b285da9c8211f154fe6ce6">mtgb::Texture2D::GetSamplerState</a></div><div class="ttdeci">ID3D11SamplerState * GetSamplerState()</div><div class="ttdoc">サンプラーステートを取得</div><div class="ttdef"><b>Definition:</b> <a href="Texture2D_8h_source.html#l00035">Texture2D.h:35</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02FbxParts_8cpp_03_html_a4b99192470cc623eda5b66d16c8589f3"><div class="ttname"><a href="namespaceanonymous__namespace_02FbxParts_8cpp_03.html#a4b99192470cc623eda5b66d16c8589f3">anonymous_namespace{FbxParts.cpp}::lightDir</a></div><div class="ttdeci">Vector4 lightDir</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8cpp_source.html#l00017">FbxParts.cpp:17</a></div></div>
<div class="ttc" id="anamespacemtgb_html_abd56f621e81af02c018dca9fbb31a5fda4f4ef2d5fdce24d142a29d1d8b273cf3"><div class="ttname"><a href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fda4f4ef2d5fdce24d142a29d1d8b273cf3">mtgb::ShaderType::FbxPartsSkin</a></div><div class="ttdeci">@ FbxPartsSkin</div></div>
<div class="ttc" id="anamespacemtgb_html_abd56f621e81af02c018dca9fbb31a5fdab359fb7b514d02d86aa33aae5ce85b64"><div class="ttname"><a href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fdab359fb7b514d02d86aa33aae5ce85b64">mtgb::ShaderType::FbxParts</a></div><div class="ttdeci">@ FbxParts</div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Material_html_a4d4d7fb96c3f83cdc92f136013b012f6"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Material.html#a4d4d7fb96c3f83cdc92f136013b012f6">mtgb::FbxParts::Material::specular</a></div><div class="ttdeci">Vector4 specular</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00069">FbxParts.h:69</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Material_html_a520cef138d92b56264b38a5db014a57f"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Material.html#a520cef138d92b56264b38a5db014a57f">mtgb::FbxParts::Material::shininess</a></div><div class="ttdeci">float shininess</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00070">FbxParts.h:70</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Material_html_a866589b100c94a7fd620cd82cfbeb745"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Material.html#a866589b100c94a7fd620cd82cfbeb745">mtgb::FbxParts::Material::pTexture</a></div><div class="ttdeci">Texture2D * pTexture</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00071">FbxParts.h:71</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Material_html_ae36162a2e3d809c078b754c74ab9cf04"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Material.html#ae36162a2e3d809c078b754c74ab9cf04">mtgb::FbxParts::Material::diffuse</a></div><div class="ttdeci">Vector4 diffuse</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00067">FbxParts.h:67</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Material_html_ae8ff2aff16ec8ff786af448572353d9c"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Material.html#ae8ff2aff16ec8ff786af448572353d9c">mtgb::FbxParts::Material::ambient</a></div><div class="ttdeci">Vector4 ambient</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00068">FbxParts.h:68</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fdab359fb7b514d02d86aa33aae5ce85b64">mtgb::FbxParts</a>, <a class="el" href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fda4f4ef2d5fdce24d142a29d1d8b273cf3">mtgb::FbxPartsSkin</a>, <a class="el" href="Transform_8cpp_source.html#l00084">mtgb::Transform::GenerateWorldMatrix()</a>, <a class="el" href="DirectX11Draw_8h_source.html#l00141">mtgb::DirectX11Draw::pContext_</a>, <a class="el" href="DirectX11Draw_8h_source.html#l00156">mtgb::DirectX11Draw::pDefaultSamplerState_</a>, <a class="el" href="Transform_8h_source.html#l00163">mtgb::Transform::rotate</a>, <a class="el" href="Transform_8h_source.html#l00161">mtgb::Transform::scale</a>, <a class="el" href="DirectX11Draw_8cpp_source.html#l00053">mtgb::DirectX11Draw::SetIsWriteToDepthBuffer()</a>, <a class="el" href="DirectX11Draw_8cpp_source.html#l00032">mtgb::DirectX11Draw::SetShader()</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1FbxParts_a1713fb4aa315c4474adb28c852d7b7c5_cgraph.svg" width="419" height="179"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a40e55ab231d88f29ec44e95715f62fb3" name="a40e55ab231d88f29ec44e95715f62fb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e55ab231d88f29ec44e95715f62fb3">&#9670;&#160;</a></span>DrawMeshAnimation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::DrawMeshAnimation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmtgb_1_1Transform.html">Transform</a> &amp;&#160;</td>
          <td class="paramname"><em>_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FbxTime&#160;</td>
          <td class="paramname"><em>_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ボーン無しでモデルを描画する </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_transform</td><td>座標系</td></tr>
    <tr><td class="paramname">_time</td><td>フレーム</td></tr>
  </table>
  </dd>
</dl>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00205">205</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>{</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="classmtgb_1_1FbxParts.html#a1713fb4aa315c4474adb28c852d7b7c5">Draw</a>(_transform);</div>
<div class="line"><span class="lineno">  208</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a1713fb4aa315c4474adb28c852d7b7c5"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a1713fb4aa315c4474adb28c852d7b7c5">mtgb::FbxParts::Draw</a></div><div class="ttdeci">void Draw(const Transform &amp;_transform)</div><div class="ttdoc">モデルを描画する</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8cpp_source.html#l00099">FbxParts.cpp:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9474b5995c377d4730fa7b3c0d84bda6" name="a9474b5995c377d4730fa7b3c0d84bda6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9474b5995c377d4730fa7b3c0d84bda6">&#9670;&#160;</a></span>DrawSkinAnimation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::DrawSkinAnimation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmtgb_1_1Transform.html">Transform</a> &amp;&#160;</td>
          <td class="paramname"><em>_transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FbxTime&#160;</td>
          <td class="paramname"><em>_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ボーンありでモデルを描画する </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_transform</td><td>座標系</td></tr>
    <tr><td class="paramname">_time</td><td>アニメーションフレーム</td></tr>
  </table>
  </dd>
</dl>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00196">196</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>{</div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">// アニメーション時間を設定</span></div>
<div class="line"><span class="lineno">  199</span>    <a class="code hl_function" href="classmtgb_1_1FbxParts.html#a9bfd49f219723a19ec79278d0df10495">SetAnimationTime</a>(_time);</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    <span class="comment">// 通常の描画処理を呼び出し</span></div>
<div class="line"><span class="lineno">  202</span>    <a class="code hl_function" href="classmtgb_1_1FbxParts.html#a1713fb4aa315c4474adb28c852d7b7c5">Draw</a>(_transform);</div>
<div class="line"><span class="lineno">  203</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a9bfd49f219723a19ec79278d0df10495"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a9bfd49f219723a19ec79278d0df10495">mtgb::FbxParts::SetAnimationTime</a></div><div class="ttdeci">void SetAnimationTime(const FbxTime &amp;_time)</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8cpp_source.html#l00697">FbxParts.cpp:697</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc50f4ad4fb62df9a62073765ce169d2" name="adc50f4ad4fb62df9a62073765ce169d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc50f4ad4fb62df9a62073765ce169d2">&#9670;&#160;</a></span>GetNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FbxNode * mtgb::FbxParts::GetNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00108">108</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a5a265f736ff20e8c7cd49f31dc72fc79">pNode_</a>; }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="FbxParts_8h_source.html#l00193">pNode_</a>.</p>

</div>
</div>
<a id="a405507c5278a5dd02c74be1a76c92b79" name="a405507c5278a5dd02c74be1a76c92b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a405507c5278a5dd02c74be1a76c92b79">&#9670;&#160;</a></span>GetSkin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FbxSkin * mtgb::FbxParts::GetSkin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fbxのスキンを取得 </p>
<dl class="section return"><dt>戻り値</dt><dd>スキンのポインタ</dd></dl>

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00151">151</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  151</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aea98c37cebaa3e185a4668bbc849b96e">pSkin_</a>; }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="FbxParts_8h_source.html#l00196">pSkin_</a>.</p>

</div>
</div>
<a id="a96a40437a297fde6f8bbcabc88c0b128" name="a96a40437a297fde6f8bbcabc88c0b128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a40437a297fde6f8bbcabc88c0b128">&#9670;&#160;</a></span>HasSkinnedMesh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mtgb::FbxParts::HasSkinnedMesh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00181">181</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">hasSkinnedMesh_</a>; }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="FbxParts_8h_source.html#l00186">hasSkinnedMesh_</a>.</p>

</div>
</div>
<a id="a76ca4751bdeb002e74dd3d5d2a4d671b" name="a76ca4751bdeb002e74dd3d5d2a4d671b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ca4751bdeb002e74dd3d5d2a4d671b">&#9670;&#160;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>シェーダの初期化処理 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#add59a2eace0eecf37919bb05a769dc7b">mtgb::IShader</a>を再実装しています。</p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00054">54</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>{</div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">// MEMO: テクスチャUVが異なる頂点を分割&amp;複製 → UV情報と頂点情報の一致調整</span></div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;SplitPoints(FbxLayerElement::eTextureDiffuse);</div>
<div class="line"><span class="lineno">   58</span>    <span class="comment">//各情報の個数を取得</span></div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a> = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetControlPointsCount();         <span class="comment">// 頂点の数</span></div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a17a0286089f99a3e93d35c9c8a76f46b">polygonCount_</a> = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetPolygonCount();              <span class="comment">// ポリゴンの数</span></div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a4c7ff9f0e23cb026ddf77f255e539210">polygonVertexCount_</a> = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetPolygonVertexCount();  <span class="comment">// ポリゴン頂点インデックス数 </span></div>
<div class="line"><span class="lineno">   62</span>    <a class="code hl_function" href="classmtgb_1_1FbxParts.html#ad483cf282bafbbf79c55b82a99abb874">InitializeMaterial</a>();</div>
<div class="line"><span class="lineno">   63</span>    <a class="code hl_function" href="classmtgb_1_1IShader.html#add59a2eace0eecf37919bb05a769dc7b">IShader::Initialize</a>();  <span class="comment">// 頂点・インデックス・定数 バッファの初期化</span></div>
<div class="line"><span class="lineno">   64</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_ad483cf282bafbbf79c55b82a99abb874"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#ad483cf282bafbbf79c55b82a99abb874">mtgb::FbxParts::InitializeMaterial</a></div><div class="ttdeci">void InitializeMaterial()</div><div class="ttdoc">マテリアルの初期化</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8cpp_source.html#l00458">FbxParts.cpp:458</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_add59a2eace0eecf37919bb05a769dc7b"><div class="ttname"><a href="classmtgb_1_1IShader.html#add59a2eace0eecf37919bb05a769dc7b">mtgb::IShader::Initialize</a></div><div class="ttdeci">virtual void Initialize()</div><div class="ttdoc">シェーダの初期化処理</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8cpp_source.html#l00014">IShader.cpp:14</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="IShader_8cpp_source.html#l00014">mtgb::IShader::Initialize()</a>.</p>

<p class="reference">参照元 <a class="el" href="FbxModel_8cpp_source.html#l00149">mtgb::FbxModel::CheckNode()</a>, <a class="el" href="FbxModel_8cpp_source.html#l00023">mtgb::FbxModel::Load()</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1FbxParts_a76ca4751bdeb002e74dd3d5d2a4d671b_cgraph.svg" width="420" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
被呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1FbxParts_a76ca4751bdeb002e74dd3d5d2a4d671b_icgraph.svg" width="871" height="492"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac1c8fdbe5ef2e0aa2447b871ea9c0b18" name="ac1c8fdbe5ef2e0aa2447b871ea9c0b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c8fdbe5ef2e0aa2447b871ea9c0b18">&#9670;&#160;</a></span>InitializeConstantBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::InitializeConstantBuffer </td>
          <td>(</td>
          <td class="paramtype">ID3D11Device *&#160;</td>
          <td class="paramname"><em>_pDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>コンスタントバッファの初期化 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#a2efd5e58741a637cfbfc20c88584a802">mtgb::IShader</a>を実装しています。</p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00412">412</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  413</span>{</div>
<div class="line"><span class="lineno">  414</span>    <span class="keyword">const</span> D3D11_BUFFER_DESC BUFFER_DESC</div>
<div class="line"><span class="lineno">  415</span>    {</div>
<div class="line"><span class="lineno">  416</span>        .ByteWidth = <span class="keyword">sizeof</span>(ConstantBuffer),</div>
<div class="line"><span class="lineno">  417</span>        .Usage = D3D11_USAGE_DYNAMIC,  <span class="comment">// MEMO: 途中で書き換えるためdynamic</span></div>
<div class="line"><span class="lineno">  418</span>        .BindFlags = D3D11_BIND_CONSTANT_BUFFER,</div>
<div class="line"><span class="lineno">  419</span>        .CPUAccessFlags = D3D11_CPU_ACCESS_WRITE,</div>
<div class="line"><span class="lineno">  420</span>        .MiscFlags = 0,</div>
<div class="line"><span class="lineno">  421</span>        .StructureByteStride = 0,</div>
<div class="line"><span class="lineno">  422</span>    };</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    HRESULT hResult{};</div>
<div class="line"><span class="lineno">  425</span>    hResult = _pDevice-&gt;CreateBuffer(</div>
<div class="line"><span class="lineno">  426</span>        &amp;BUFFER_DESC,</div>
<div class="line"><span class="lineno">  427</span>        <span class="keyword">nullptr</span>,  <span class="comment">// 初期データなし</span></div>
<div class="line"><span class="lineno">  428</span>        <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.ReleaseAndGetAddressOf());</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)</div>
<div class="line"><span class="lineno">  431</span>        &amp;&amp; <span class="stringliteral">&quot;コンスタントバッファの作成に失敗 @FbxParts::InitializeConstantBuffer&quot;</span>);</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">// ボーン行列用コンスタントバッファ</span></div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">hasSkinnedMesh_</a>)</div>
<div class="line"><span class="lineno">  435</span>    {</div>
<div class="line"><span class="lineno">  436</span>        <span class="keyword">const</span> D3D11_BUFFER_DESC BUFFER_DESC</div>
<div class="line"><span class="lineno">  437</span>        {</div>
<div class="line"><span class="lineno">  438</span>            .ByteWidth = <span class="keyword">sizeof</span>(BoneMatrices),</div>
<div class="line"><span class="lineno">  439</span>            .Usage = D3D11_USAGE_DYNAMIC,</div>
<div class="line"><span class="lineno">  440</span>            .BindFlags = D3D11_BIND_CONSTANT_BUFFER,</div>
<div class="line"><span class="lineno">  441</span>            .CPUAccessFlags = D3D11_CPU_ACCESS_WRITE,</div>
<div class="line"><span class="lineno">  442</span>            .MiscFlags = 0,</div>
<div class="line"><span class="lineno">  443</span>            .StructureByteStride = 0,</div>
<div class="line"><span class="lineno">  444</span>        };</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>        hResult = _pDevice-&gt;CreateBuffer(</div>
<div class="line"><span class="lineno">  447</span>            &amp;BUFFER_DESC,</div>
<div class="line"><span class="lineno">  448</span>            <span class="keyword">nullptr</span>,  <span class="comment">// 初期データなし</span></div>
<div class="line"><span class="lineno">  449</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ac2b44b01edaf7740990b40343921cb77">pBoneConstantBuffer_</a>.ReleaseAndGetAddressOf());</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)</div>
<div class="line"><span class="lineno">  452</span>            &amp;&amp; <span class="stringliteral">&quot;ボーン行列用コンスタントバッファの作成に失敗 @FbxParts::InitializeConstantBuffer&quot;</span>);</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a78b0cc993d842b425f6439ea8dbc4c13">boneMatrices_</a>.<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1BoneMatrices.html#a7a4ed3ffaa0fb8c82a3eca3e820f7605">hasSkinnedMesh</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  455</span>    }</div>
<div class="line"><span class="lineno">  456</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a78b0cc993d842b425f6439ea8dbc4c13"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a78b0cc993d842b425f6439ea8dbc4c13">mtgb::FbxParts::boneMatrices_</a></div><div class="ttdeci">BoneMatrices boneMatrices_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00211">FbxParts.h:211</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1BoneMatrices_html_a7a4ed3ffaa0fb8c82a3eca3e820f7605"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1BoneMatrices.html#a7a4ed3ffaa0fb8c82a3eca3e820f7605">mtgb::FbxParts::BoneMatrices::hasSkinnedMesh</a></div><div class="ttdeci">bool hasSkinnedMesh</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00078">FbxParts.h:78</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>.</p>

</div>
</div>
<a id="a984ea117946982bce580a7fabc7ac912" name="a984ea117946982bce580a7fabc7ac912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a984ea117946982bce580a7fabc7ac912">&#9670;&#160;</a></span>InitializeIndexBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::InitializeIndexBuffer </td>
          <td>(</td>
          <td class="paramtype">ID3D11Device *&#160;</td>
          <td class="paramname"><em>_pDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>インデックスバッファの初期化 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#a93078eb9d027567e1071224e104f954a">mtgb::IShader</a>を実装しています。</p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00354">354</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">ppIndexBuffer_</a>.resize(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>);</div>
<div class="line"><span class="lineno">  357</span>    <span class="comment">//ppIndexBuffer_.resize(materialCount_);</span></div>
<div class="line"><span class="lineno">  358</span>    <span class="comment">//ppIndexBuffer_ = new ID3D11Buffer* [materialCount_] ;</span></div>
<div class="line"><span class="lineno">  359</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">ppIndexData_</a> = <span class="keyword">new</span> DWORD* [<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>] ;</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordtype">int</span> count{ 0 };</div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">for</span> (DWORD i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>; i++)</div>
<div class="line"><span class="lineno">  363</span>    {</div>
<div class="line"><span class="lineno">  364</span>        count = 0;</div>
<div class="line"><span class="lineno">  365</span>        DWORD* pIndex{ <span class="keyword">new</span> DWORD[<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a17a0286089f99a3e93d35c9c8a76f46b">polygonCount_</a> * 3]{} };</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">for</span> (DWORD j = 0; j &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a17a0286089f99a3e93d35c9c8a76f46b">polygonCount_</a>; j++)</div>
<div class="line"><span class="lineno">  367</span>        {</div>
<div class="line"><span class="lineno">  368</span>            FbxLayerElementMaterial* material{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetLayer(0)-&gt;GetMaterials() };</div>
<div class="line"><span class="lineno">  369</span>            <span class="keywordtype">int</span> materialId{ material-&gt;GetIndexArray().GetAt(j) };</div>
<div class="line"><span class="lineno">  370</span>            <span class="keywordflow">if</span> (materialId == i)</div>
<div class="line"><span class="lineno">  371</span>            {</div>
<div class="line"><span class="lineno">  372</span>                <span class="keywordflow">for</span> (DWORD k = 0; k &lt; 3; k++)</div>
<div class="line"><span class="lineno">  373</span>                {</div>
<div class="line"><span class="lineno">  374</span>                    pIndex[count + k] = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetPolygonVertex(j, k);</div>
<div class="line"><span class="lineno">  375</span>                }</div>
<div class="line"><span class="lineno">  376</span>                count += 3;</div>
<div class="line"><span class="lineno">  377</span>            }</div>
<div class="line"><span class="lineno">  378</span>        }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>        <span class="comment">// バッファの設定</span></div>
<div class="line"><span class="lineno">  381</span>        <span class="keyword">const</span> D3D11_BUFFER_DESC BUFFER_DESC</div>
<div class="line"><span class="lineno">  382</span>        {</div>
<div class="line"><span class="lineno">  383</span>            .ByteWidth = <span class="keyword">sizeof</span>(DWORD) * count,</div>
<div class="line"><span class="lineno">  384</span>            .Usage = D3D11_USAGE_DEFAULT,  <span class="comment">// MEMO: 途中で書き換えないため DEFAULT</span></div>
<div class="line"><span class="lineno">  385</span>            .BindFlags = D3D11_BIND_INDEX_BUFFER,</div>
<div class="line"><span class="lineno">  386</span>            .CPUAccessFlags = 0,</div>
<div class="line"><span class="lineno">  387</span>            .MiscFlags = 0,</div>
<div class="line"><span class="lineno">  388</span>            .StructureByteStride = 0,</div>
<div class="line"><span class="lineno">  389</span>        };</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>        <span class="comment">// 初期データ</span></div>
<div class="line"><span class="lineno">  392</span>        <span class="keyword">const</span> D3D11_SUBRESOURCE_DATA INITIALIZE_DATA</div>
<div class="line"><span class="lineno">  393</span>        {</div>
<div class="line"><span class="lineno">  394</span>            .pSysMem = pIndex,</div>
<div class="line"><span class="lineno">  395</span>            .SysMemPitch = 0,</div>
<div class="line"><span class="lineno">  396</span>            .SysMemSlicePitch = 0,</div>
<div class="line"><span class="lineno">  397</span>        };</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        HRESULT hResult{};</div>
<div class="line"><span class="lineno">  400</span>        hResult = _pDevice-&gt;CreateBuffer(&amp;BUFFER_DESC, &amp;INITIALIZE_DATA, <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">ppIndexBuffer_</a>[i].ReleaseAndGetAddressOf());</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)</div>
<div class="line"><span class="lineno">  403</span>            &amp;&amp; <span class="stringliteral">&quot;インデックスバッファの作成に失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#abdad0dc6f2f73f86c3ba7d2b74345fb0">polygonCount</a> = count / 3;</div>
<div class="line"><span class="lineno">  406</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">ppIndexData_</a>[i] = <span class="keyword">new</span> DWORD[count];</div>
<div class="line"><span class="lineno">  407</span>        memcpy(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">ppIndexData_</a>[i], pIndex, <span class="keyword">sizeof</span>(DWORD) * count);</div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(pIndex);</div>
<div class="line"><span class="lineno">  409</span>    }</div>
<div class="line"><span class="lineno">  410</span>}</div>
<div class="ttc" id="aReleaseUtility_8h_html_a506b3685b3eb05aac751f9e14cbed93b"><div class="ttname"><a href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a></div><div class="ttdeci">#define SAFE_DELETE_ARRAY(p)</div><div class="ttdef"><b>Definition:</b> <a href="ReleaseUtility_8h_source.html#l00012">ReleaseUtility.h:12</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Material_html_abdad0dc6f2f73f86c3ba7d2b74345fb0"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Material.html#abdad0dc6f2f73f86c3ba7d2b74345fb0">mtgb::FbxParts::Material::polygonCount</a></div><div class="ttdeci">uint32_t polygonCount</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00066">FbxParts.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>, <a class="el" href="ReleaseUtility_8h_source.html#l00012">SAFE_DELETE_ARRAY</a>.</p>

</div>
</div>
<a id="ad483cf282bafbbf79c55b82a99abb874" name="ad483cf282bafbbf79c55b82a99abb874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad483cf282bafbbf79c55b82a99abb874">&#9670;&#160;</a></span>InitializeMaterial()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::InitializeMaterial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>マテリアルの初期化 </p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00458">458</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  459</span>{</div>
<div class="line"><span class="lineno">  460</span>    <span class="comment">// マテリアルバッファの作成</span></div>
<div class="line"><span class="lineno">  461</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a> = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a5a265f736ff20e8c7cd49f31dc72fc79">pNode_</a>-&gt;GetMaterialCount();</div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a> = <span class="keyword">new</span> Material[<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>]{};</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">for</span> (DWORD i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>; i++)</div>
<div class="line"><span class="lineno">  465</span>    {</div>
<div class="line"><span class="lineno">  466</span>        FbxSurfaceMaterial* pSurfaceMaterial = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a5a265f736ff20e8c7cd49f31dc72fc79">pNode_</a>-&gt;GetMaterial(i);</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>        FbxSurfacePhong* pPhong = <span class="keyword">static_cast&lt;</span>FbxSurfacePhong*<span class="keyword">&gt;</span>(pSurfaceMaterial);</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>        <span class="comment">// 環境光 </span></div>
<div class="line"><span class="lineno">  471</span>        FbxDouble3 ambient = FbxDouble3(0, 0, 0);</div>
<div class="line"><span class="lineno">  472</span>        <span class="comment">// 拡散反射光</span></div>
<div class="line"><span class="lineno">  473</span>        FbxDouble3 diffuse = FbxDouble3(0, 0, 0);</div>
<div class="line"><span class="lineno">  474</span>        <span class="comment">// 鏡面反射</span></div>
<div class="line"><span class="lineno">  475</span>        FbxDouble3 specular = FbxDouble3(0, 0, 0);</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>        <span class="comment">// Ambientのプロパティを見つける</span></div>
<div class="line"><span class="lineno">  478</span>        FbxProperty prop{};</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>        prop = pPhong-&gt;FindProperty(FbxSurfaceMaterial::sAmbient);</div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span> (prop.IsValid())</div>
<div class="line"><span class="lineno">  482</span>        {</div>
<div class="line"><span class="lineno">  483</span>            ambient = pPhong-&gt;Ambient;</div>
<div class="line"><span class="lineno">  484</span>        }</div>
<div class="line"><span class="lineno">  485</span>        prop = pPhong-&gt;FindProperty(FbxSurfaceMaterial::sDiffuse);</div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">if</span> (prop.IsValid())</div>
<div class="line"><span class="lineno">  487</span>        {</div>
<div class="line"><span class="lineno">  488</span>            diffuse = pPhong-&gt;Diffuse;</div>
<div class="line"><span class="lineno">  489</span>        }</div>
<div class="line"><span class="lineno">  490</span>        <span class="comment">// MEMO: 内部でtypedef double FbxDouble されているためfloatにキャスト</span></div>
<div class="line"><span class="lineno">  491</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#ae8ff2aff16ec8ff786af448572353d9c">ambient</a> = { (float)ambient[0], (<span class="keywordtype">float</span>)ambient[1], (float)ambient[2], 1.0f };</div>
<div class="line"><span class="lineno">  492</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#ae36162a2e3d809c078b754c74ab9cf04">diffuse</a> = { (float)diffuse[0], (<span class="keywordtype">float</span>)diffuse[1], (float)diffuse[2], 1.0f };</div>
<div class="line"><span class="lineno">  493</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a4d4d7fb96c3f83cdc92f136013b012f6">specular</a> = { 0, 0, 0, 0 };</div>
<div class="line"><span class="lineno">  494</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a520cef138d92b56264b38a5db014a57f">shininess</a> = 0;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>        <span class="keywordflow">if</span> (pSurfaceMaterial-&gt;GetClassId().Is(FbxSurfacePhong::ClassId))</div>
<div class="line"><span class="lineno">  497</span>        {</div>
<div class="line"><span class="lineno">  498</span>            prop = pPhong-&gt;FindProperty(FbxSurfaceMaterial::sSpecular);</div>
<div class="line"><span class="lineno">  499</span>            <span class="keywordflow">if</span> (prop.IsValid())  <span class="comment">// 有効値なら</span></div>
<div class="line"><span class="lineno">  500</span>            {</div>
<div class="line"><span class="lineno">  501</span>                specular = pPhong-&gt;Specular;</div>
<div class="line"><span class="lineno">  502</span>            }</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a4d4d7fb96c3f83cdc92f136013b012f6">specular</a> = { (float)specular[0], (<span class="keywordtype">float</span>)specular[1], (float)specular[2], 1.0f };</div>
<div class="line"><span class="lineno">  505</span>            prop = pPhong-&gt;FindProperty(FbxSurfaceMaterial::sShininess);</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>            <span class="keywordflow">if</span> (prop.IsValid())</div>
<div class="line"><span class="lineno">  508</span>            {</div>
<div class="line"><span class="lineno">  509</span>                <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a520cef138d92b56264b38a5db014a57f">shininess</a> = (float)pPhong-&gt;Shininess;</div>
<div class="line"><span class="lineno">  510</span>            }</div>
<div class="line"><span class="lineno">  511</span>            <span class="keywordflow">else</span>  <span class="comment">// Shininessの値が無効なら</span></div>
<div class="line"><span class="lineno">  512</span>            {</div>
<div class="line"><span class="lineno">  513</span>                <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a520cef138d92b56264b38a5db014a57f">shininess</a> = 1.0f;</div>
<div class="line"><span class="lineno">  514</span>            }</div>
<div class="line"><span class="lineno">  515</span>        }</div>
<div class="line"><span class="lineno">  516</span>        <a class="code hl_function" href="classmtgb_1_1FbxParts.html#ab9cd7add6238c2b3a2ba9176e6f39030">InitializeTexture</a>(pSurfaceMaterial, i);</div>
<div class="line"><span class="lineno">  517</span>    }</div>
<div class="line"><span class="lineno">  518</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_ab9cd7add6238c2b3a2ba9176e6f39030"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#ab9cd7add6238c2b3a2ba9176e6f39030">mtgb::FbxParts::InitializeTexture</a></div><div class="ttdeci">void InitializeTexture(FbxSurfaceMaterial *_pMaterial, const DWORD _i)</div><div class="ttdoc">テクスチャの初期化</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8cpp_source.html#l00520">FbxParts.cpp:520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a025121b0ca47b981432824825652e3" name="a3a025121b0ca47b981432824825652e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a025121b0ca47b981432824825652e3">&#9670;&#160;</a></span>InitializeSkelton()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::InitializeSkelton </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>骨情報の初期化 </p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00547">547</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  548</span>{</div>
<div class="line"><span class="lineno">  549</span>    FbxDeformer* pDeformer{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetDeformer(0) };</div>
<div class="line"><span class="lineno">  550</span>    <span class="keywordflow">if</span> (pDeformer == <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  551</span>    {</div>
<div class="line"><span class="lineno">  552</span>        <span class="keywordflow">return</span>;  <span class="comment">// ボーンがないため回帰</span></div>
<div class="line"><span class="lineno">  553</span>    }</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aea98c37cebaa3e185a4668bbc849b96e">pSkin_</a> = <span class="keyword">static_cast&lt;</span>FbxSkin*<span class="keyword">&gt;</span>(pDeformer);</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="keyword">struct </span>POLY_INDEX</div>
<div class="line"><span class="lineno">  558</span>    {</div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordtype">int</span>* polyIndex;    <span class="comment">// ポリゴンの番号</span></div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordtype">int</span>* vertexIndex;  <span class="comment">// 頂点の番号</span></div>
<div class="line"><span class="lineno">  561</span>        <span class="keywordtype">int</span> numRef;        <span class="comment">// 頂点を共有するポリゴン数</span></div>
<div class="line"><span class="lineno">  562</span>    };</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>    <span class="comment">// 各ボーンの情報を取得する</span></div>
<div class="line"><span class="lineno">  565</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a> = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aea98c37cebaa3e185a4668bbc849b96e">pSkin_</a>-&gt;GetClusterCount();</div>
<div class="line"><span class="lineno">  566</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a> = <span class="keyword">new</span> FbxCluster* [<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>];</div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>; i++)</div>
<div class="line"><span class="lineno">  568</span>    {</div>
<div class="line"><span class="lineno">  569</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i] = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aea98c37cebaa3e185a4668bbc849b96e">pSkin_</a>-&gt;GetCluster(i);</div>
<div class="line"><span class="lineno">  570</span>    }</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>    <span class="comment">// ボーンの数に合わせてウェイト情報を準備</span></div>
<div class="line"><span class="lineno">  573</span>    <span class="comment">//pWeights_ = new Weight[vertexCount_];</span></div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>; i++)</div>
<div class="line"><span class="lineno">  576</span>    {</div>
<div class="line"><span class="lineno">  577</span>        <span class="comment">// i番目のボーンが影響を与える頂点数</span></div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordtype">int</span> influencedVertexCount{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetControlPointIndicesCount() };</div>
<div class="line"><span class="lineno">  579</span>        <span class="comment">// 頂点のインデックスの配列</span></div>
<div class="line"><span class="lineno">  580</span>        <span class="keywordtype">int</span>* boneInfluencedVertexIndices{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetControlPointIndices() };</div>
<div class="line"><span class="lineno">  581</span>        <span class="comment">// 頂点のウェイトの配列</span></div>
<div class="line"><span class="lineno">  582</span>        <span class="keywordtype">double</span>* boneInfluencedWeights{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetControlPointWeights() };</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>        <span class="comment">// 影響を受けている頂点の数だけループ</span></div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; influencedVertexCount; k++)</div>
<div class="line"><span class="lineno">  586</span>        {</div>
<div class="line"><span class="lineno">  587</span>            <span class="comment">// k番目の頂点のインデックス</span></div>
<div class="line"><span class="lineno">  588</span>            <span class="keywordtype">int</span> vertexIndex = boneInfluencedVertexIndices[k];</div>
<div class="line"><span class="lineno">  589</span>            <span class="comment">// k番目の頂点のウェイト</span></div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordtype">double</span> weight = boneInfluencedWeights[k];</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>            <span class="comment">// 1頂点最大4つまでのボーンから影響を受けるよう制限</span></div>
<div class="line"><span class="lineno">  593</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> m = 0; <a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a> &lt; 4; <a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>++)</div>
<div class="line"><span class="lineno">  594</span>            {</div>
<div class="line"><span class="lineno">  595</span>                <span class="keywordflow">if</span> (m &gt;= <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>)</div>
<div class="line"><span class="lineno">  596</span>                {</div>
<div class="line"><span class="lineno">  597</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  598</span>                }</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>                <span class="comment">// m番目のウェイトより大きいなら上書き</span></div>
<div class="line"><span class="lineno">  601</span>                <span class="comment">// 本来はウェイトの大きい順にソートすべき</span></div>
<div class="line"><span class="lineno">  602</span>                <span class="keywordflow">if</span> (weight &gt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[vertexIndex].boneWeight[m])</div>
<div class="line"><span class="lineno">  603</span>                {</div>
<div class="line"><span class="lineno">  604</span>                    <span class="comment">/*for (int n = boneCount_ - 1; n &gt; m; n--)</span></div>
<div class="line"><span class="lineno">  605</span><span class="comment">                    {</span></div>
<div class="line"><span class="lineno">  606</span><span class="comment">                        pVertexes_[vertexIndex].boneIndex[n] = pVertexes_[vertexIndex].boneIndex[n - 1];</span></div>
<div class="line"><span class="lineno">  607</span><span class="comment">                        pVertexes_[vertexIndex].boneWeight[n] = pVertexes_[vertexIndex].boneWeight[n - 1];</span></div>
<div class="line"><span class="lineno">  608</span><span class="comment">                    }*/</span></div>
<div class="line"><span class="lineno">  609</span>                    </div>
<div class="line"><span class="lineno">  610</span>                    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[vertexIndex].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a2a6d73b3cb33f8d37ec203c679d05c98">boneIndex</a>[<a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>] = i;</div>
<div class="line"><span class="lineno">  611</span>                    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[vertexIndex].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a4e4e891f0be3a9d3b1bf6aee449c3716">boneWeight</a>[<a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>] = (float)weight;</div>
<div class="line"><span class="lineno">  612</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  613</span>                }</div>
<div class="line"><span class="lineno">  614</span>            }</div>
<div class="line"><span class="lineno">  615</span>        }</div>
<div class="line"><span class="lineno">  616</span>    }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>    <span class="comment">/*for (DWORD i = 0; i &lt; vertexCount_; i++)</span></div>
<div class="line"><span class="lineno">  619</span><span class="comment">    {</span></div>
<div class="line"><span class="lineno">  620</span><span class="comment">        pWeights_[i].posOrigin = pVertexes_[i].position;</span></div>
<div class="line"><span class="lineno">  621</span><span class="comment">        pWeights_[i].normalOrigin = pVertexes_[i].normal;</span></div>
<div class="line"><span class="lineno">  622</span><span class="comment">        pWeights_[i].pBoneIndex = new int[boneCount_];</span></div>
<div class="line"><span class="lineno">  623</span><span class="comment">        pWeights_[i].pBoneWeight = new float[boneCount_];</span></div>
<div class="line"><span class="lineno">  624</span><span class="comment">        for (int j = 0; j &lt; boneCount_; j++)</span></div>
<div class="line"><span class="lineno">  625</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno">  626</span><span class="comment">            pWeights_[i].pBoneIndex[j] = -1;</span></div>
<div class="line"><span class="lineno">  627</span><span class="comment">            pWeights_[i].pBoneWeight[j] = 0.0f;</span></div>
<div class="line"><span class="lineno">  628</span><span class="comment">        }</span></div>
<div class="line"><span class="lineno">  629</span><span class="comment">    }*/</span></div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>    <span class="comment">// ボーン作る</span></div>
<div class="line"><span class="lineno">  632</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">pBones_</a> = <span class="keyword">new</span> Bone[<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>];</div>
<div class="line"><span class="lineno">  633</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>; i++)</div>
<div class="line"><span class="lineno">  634</span>    {</div>
<div class="line"><span class="lineno">  635</span>        FbxAMatrix <a class="code hl_variable" href="namespaceanonymous__namespace_02Collider_8cpp_03.html#a0f3f3d9de3a2ce7f1fd481d988992861">matrix</a>;</div>
<div class="line"><span class="lineno">  636</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetTransformLinkMatrix(matrix);</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>        DirectX::XMFLOAT4X4 pose{};</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">for</span> (DWORD x = 0; x &lt; 4; x++)</div>
<div class="line"><span class="lineno">  640</span>        {</div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">for</span> (DWORD y = 0; y &lt; 4; y++)</div>
<div class="line"><span class="lineno">  642</span>            {</div>
<div class="line"><span class="lineno">  643</span>                pose(x, y) = (float)<a class="code hl_variable" href="namespaceanonymous__namespace_02Collider_8cpp_03.html#a0f3f3d9de3a2ce7f1fd481d988992861">matrix</a>.Get(x, y);</div>
<div class="line"><span class="lineno">  644</span>            }</div>
<div class="line"><span class="lineno">  645</span>        }</div>
<div class="line"><span class="lineno">  646</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">pBones_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Bone.html#a60e5971ad050b2190b2481a27f931cba">bindPose</a> = DirectX::XMLoadFloat4x4(&amp;pose);</div>
<div class="line"><span class="lineno">  647</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aae0fba41d4ce3eb2bcf4957bbb10df6f">boneNamePair_</a>[<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetLink()-&gt;GetName()] = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">pBones_</a> + i;</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_aae0fba41d4ce3eb2bcf4957bbb10df6f"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#aae0fba41d4ce3eb2bcf4957bbb10df6f">mtgb::FbxParts::boneNamePair_</a></div><div class="ttdeci">std::unordered_map&lt; std::string, Bone * &gt; boneNamePair_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00202">FbxParts.h:202</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02Collider_8cpp_03_html_a0f3f3d9de3a2ce7f1fd481d988992861"><div class="ttname"><a href="namespaceanonymous__namespace_02Collider_8cpp_03.html#a0f3f3d9de3a2ce7f1fd481d988992861">anonymous_namespace{Collider.cpp}::matrix</a></div><div class="ttdeci">mtgb::Matrix4x4 matrix</div><div class="ttdef"><b>Definition:</b> <a href="Collider_8cpp_source.html#l00011">Collider.cpp:11</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02Transform_8cpp_03_html_a7a244191fc18de0d71146133a1539531"><div class="ttname"><a href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">anonymous_namespace{Transform.cpp}::m</a></div><div class="ttdeci">Matrix4x4 m</div><div class="ttdef"><b>Definition:</b> <a href="Transform_8cpp_source.html#l00006">Transform.cpp:6</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Bone_html_a60e5971ad050b2190b2481a27f931cba"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Bone.html#a60e5971ad050b2190b2481a27f931cba">mtgb::FbxParts::Bone::bindPose</a></div><div class="ttdeci">Matrix4x4 bindPose</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00088">FbxParts.h:88</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Vertex_html_a2a6d73b3cb33f8d37ec203c679d05c98"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Vertex.html#a2a6d73b3cb33f8d37ec203c679d05c98">mtgb::FbxParts::Vertex::boneIndex</a></div><div class="ttdeci">uint32_t boneIndex[4]</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00038">FbxParts.h:38</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Vertex_html_a4e4e891f0be3a9d3b1bf6aee449c3716"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Vertex.html#a4e4e891f0be3a9d3b1bf6aee449c3716">mtgb::FbxParts::Vertex::boneWeight</a></div><div class="ttdeci">float boneWeight[4]</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00039">FbxParts.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9cd7add6238c2b3a2ba9176e6f39030" name="ab9cd7add6238c2b3a2ba9176e6f39030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9cd7add6238c2b3a2ba9176e6f39030">&#9670;&#160;</a></span>InitializeTexture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::InitializeTexture </td>
          <td>(</td>
          <td class="paramtype">FbxSurfaceMaterial *&#160;</td>
          <td class="paramname"><em>_pMaterial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DWORD&#160;</td>
          <td class="paramname"><em>_i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>テクスチャの初期化 </p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00520">520</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  521</span>{</div>
<div class="line"><span class="lineno">  522</span>    <span class="comment">// テクスチャの情報</span></div>
<div class="line"><span class="lineno">  523</span>    FbxProperty prop = _pMaterial-&gt;FindProperty(FbxSurfaceMaterial::sDiffuse);</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>    <span class="comment">// テクスチャ数</span></div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordtype">int</span> fileTextureCount{ prop.GetSrcObjectCount&lt;FbxFileTexture&gt;() };</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">if</span> (fileTextureCount &gt; 0)  <span class="comment">// テクスチャがあるなら</span></div>
<div class="line"><span class="lineno">  529</span>    {</div>
<div class="line"><span class="lineno">  530</span>        FbxFileTexture* pTexture{ prop.GetSrcObject&lt;FbxFileTexture&gt;() };</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>        <span class="comment">// ファイル名 + 拡張 だけにする</span></div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordtype">char</span> name[_MAX_FNAME]{};</div>
<div class="line"><span class="lineno">  534</span>        <span class="keywordtype">char</span> ext[_MAX_EXT]{};</div>
<div class="line"><span class="lineno">  535</span>        _splitpath_s(pTexture-&gt;GetRelativeFileName(), </div>
<div class="line"><span class="lineno">  536</span>            <span class="keyword">nullptr</span>, 0,</div>
<div class="line"><span class="lineno">  537</span>            <span class="keyword">nullptr</span>, 0, </div>
<div class="line"><span class="lineno">  538</span>            name, _MAX_FNAME,</div>
<div class="line"><span class="lineno">  539</span>            ext, _MAX_EXT);</div>
<div class="line"><span class="lineno">  540</span>        wsprintf(name, <span class="stringliteral">&quot;%s%s&quot;</span>, name, ext);</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[_i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a866589b100c94a7fd620cd82cfbeb745">pTexture</a> = <span class="keyword">new</span> Texture2D{};</div>
<div class="line"><span class="lineno">  543</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[_i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Material.html#a866589b100c94a7fd620cd82cfbeb745">pTexture</a>-&gt;<a class="code hl_function" href="classmtgb_1_1Texture2D.html#aff9a90bf2554b43fffcd66942e35f3a8">Load</a>(<a class="code hl_function" href="namespacemtgb.html#a617eca76bf9fafbeec11995aa89bedc9">ToWString</a>(std::string{ name }));</div>
<div class="line"><span class="lineno">  544</span>    }</div>
<div class="line"><span class="lineno">  545</span>}</div>
<div class="ttc" id="aclassmtgb_1_1Texture2D_html_aff9a90bf2554b43fffcd66942e35f3a8"><div class="ttname"><a href="classmtgb_1_1Texture2D.html#aff9a90bf2554b43fffcd66942e35f3a8">mtgb::Texture2D::Load</a></div><div class="ttdeci">void Load(const std::wstring &amp;_fileName)</div><div class="ttdoc">画像ファイルからテクスチャをロードする</div><div class="ttdef"><b>Definition:</b> <a href="Texture2D_8cpp_source.html#l00021">Texture2D.cpp:21</a></div></div>
<div class="ttc" id="anamespacemtgb_html_a617eca76bf9fafbeec11995aa89bedc9"><div class="ttname"><a href="namespacemtgb.html#a617eca76bf9fafbeec11995aa89bedc9">mtgb::ToWString</a></div><div class="ttdeci">std::wstring ToWString(const std::string &amp;_string)</div><div class="ttdoc">ワイド文字列に変換する</div><div class="ttdef"><b>Definition:</b> <a href="MTStringUtility_8h_source.html#l00027">MTStringUtility.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="Texture2D_8cpp_source.html#l00021">mtgb::Texture2D::Load()</a>, <a class="el" href="MTStringUtility_8h_source.html#l00027">mtgb::ToWString()</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1FbxParts_ab9cd7add6238c2b3a2ba9176e6f39030_cgraph.svg" width="412" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5ac3028b3e4a572023e63ee45e44900b" name="a5ac3028b3e4a572023e63ee45e44900b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac3028b3e4a572023e63ee45e44900b">&#9670;&#160;</a></span>InitializeVertexBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::InitializeVertexBuffer </td>
          <td>(</td>
          <td class="paramtype">ID3D11Device *&#160;</td>
          <td class="paramname"><em>_pDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>頂点バッファの初期化 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#ac138fa61a4127f0db4e15ac0b40608ea">mtgb::IShader</a>を実装しています。</p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00247">247</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>{</div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a> = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetControlPointsCount();</div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a> = <span class="keyword">new</span> Vertex[<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a>]{};</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">for</span> (uint32_t poly = 0; poly &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a17a0286089f99a3e93d35c9c8a76f46b">polygonCount_</a>; poly++)</div>
<div class="line"><span class="lineno">  253</span>    {</div>
<div class="line"><span class="lineno">  254</span>        <span class="keywordflow">for</span> (uint32_t vertex = 0; vertex &lt; 3; vertex++)</div>
<div class="line"><span class="lineno">  255</span>        {</div>
<div class="line"><span class="lineno">  256</span>            <span class="keywordtype">int</span> index{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetPolygonVertex(poly, vertex) };</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>            <span class="comment">// インデックスが範囲内かチェック</span></div>
<div class="line"><span class="lineno">  259</span>            <span class="keywordflow">if</span> (index &lt; 0 || index &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a>))</div>
<div class="line"><span class="lineno">  260</span>            {</div>
<div class="line"><span class="lineno">  261</span>                <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Vertex index out of range in FbxParts::InitializeVertexBuffer&quot;</span>);</div>
<div class="line"><span class="lineno">  262</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  263</span>            }</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>            <span class="comment">// 頂点の座標</span></div>
<div class="line"><span class="lineno">  266</span>            FbxVector4 position = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetControlPointAt(index);</div>
<div class="line"><span class="lineno">  267</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a266e9682d321d75fc8746ce77ccaf1bc">position</a> = </div>
<div class="line"><span class="lineno">  268</span>            {</div>
<div class="line"><span class="lineno">  269</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(position[0]) * <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a61462899106091aefd1f92e288e20577">fbxToWorldScaleFactor_</a>,</div>
<div class="line"><span class="lineno">  270</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(position[1]) * <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a61462899106091aefd1f92e288e20577">fbxToWorldScaleFactor_</a>,</div>
<div class="line"><span class="lineno">  271</span>                -<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(position[2]) * <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a61462899106091aefd1f92e288e20577">fbxToWorldScaleFactor_</a>,</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>            };</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>            <span class="comment">// 頂点の法線</span></div>
<div class="line"><span class="lineno">  276</span>            FbxVector4 normal;</div>
<div class="line"><span class="lineno">  277</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetPolygonVertexNormal(poly, vertex, normal);</div>
<div class="line"><span class="lineno">  278</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#aed2667652a581038d062cd29afbe11b3">normal</a> =</div>
<div class="line"><span class="lineno">  279</span>            {</div>
<div class="line"><span class="lineno">  280</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(normal[0]),</div>
<div class="line"><span class="lineno">  281</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(normal[1]),</div>
<div class="line"><span class="lineno">  282</span>                -<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(normal[2]),</div>
<div class="line"><span class="lineno">  283</span>            };</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>            <span class="comment">// スキニング関連の初期化</span></div>
<div class="line"><span class="lineno">  286</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">hasSkinnedMesh_</a>) </div>
<div class="line"><span class="lineno">  287</span>            {</div>
<div class="line"><span class="lineno">  288</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i) </div>
<div class="line"><span class="lineno">  289</span>                {</div>
<div class="line"><span class="lineno">  290</span>                    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a2a6d73b3cb33f8d37ec203c679d05c98">boneIndex</a>[i] = 0;</div>
<div class="line"><span class="lineno">  291</span>                    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a4e4e891f0be3a9d3b1bf6aee449c3716">boneWeight</a>[i] = 0.0f;</div>
<div class="line"><span class="lineno">  292</span>                }</div>
<div class="line"><span class="lineno">  293</span>            }</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">else</span> </div>
<div class="line"><span class="lineno">  295</span>            {</div>
<div class="line"><span class="lineno">  296</span>                <span class="comment">// スキニング無しの場合はデフォルト値</span></div>
<div class="line"><span class="lineno">  297</span>                <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a2a6d73b3cb33f8d37ec203c679d05c98">boneIndex</a>[0] = 0;</div>
<div class="line"><span class="lineno">  298</span>                <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a4e4e891f0be3a9d3b1bf6aee449c3716">boneWeight</a>[0] = 1.0f;</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; 4; ++i) </div>
<div class="line"><span class="lineno">  300</span>                {</div>
<div class="line"><span class="lineno">  301</span>                    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a2a6d73b3cb33f8d37ec203c679d05c98">boneIndex</a>[i] = 0;</div>
<div class="line"><span class="lineno">  302</span>                    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[index].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a4e4e891f0be3a9d3b1bf6aee449c3716">boneWeight</a>[i] = 0.0f;</div>
<div class="line"><span class="lineno">  303</span>                }</div>
<div class="line"><span class="lineno">  304</span>            }</div>
<div class="line"><span class="lineno">  305</span>        }</div>
<div class="line"><span class="lineno">  306</span>    }</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>    <span class="comment">// UV座標の処理</span></div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordtype">int</span> uvCount{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetTextureUVCount() };</div>
<div class="line"><span class="lineno">  311</span>    FbxLayerElementUV* pUV{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetLayer(0)-&gt;GetUVs() };</div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">if</span> (uvCount &gt; 0 &amp;&amp; pUV-&gt;GetMappingMode() == FbxLayerElement::eByControlPoint)</div>
<div class="line"><span class="lineno">  313</span>    {</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordtype">int</span> writeCount = (std::min)(uvCount, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a>));</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; writeCount; i++)</div>
<div class="line"><span class="lineno">  316</span>        {</div>
<div class="line"><span class="lineno">  317</span>            fbxsdk::FbxVector2 uv{ pUV-&gt;GetDirectArray().GetAt(i) };</div>
<div class="line"><span class="lineno">  318</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>[i].<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1Vertex.html#a154c8ae23739934e591b3daeaa91d430">uv</a> =</div>
<div class="line"><span class="lineno">  319</span>            {</div>
<div class="line"><span class="lineno">  320</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(uv.mData[0]),</div>
<div class="line"><span class="lineno">  321</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(1.0 - uv.mData[1]),</div>
<div class="line"><span class="lineno">  322</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(0.0)</div>
<div class="line"><span class="lineno">  323</span>            };</div>
<div class="line"><span class="lineno">  324</span>        }</div>
<div class="line"><span class="lineno">  325</span>    }</div>
<div class="line"><span class="lineno">  326</span>    </div>
<div class="line"><span class="lineno">  327</span>    FbxDeformer* pDeformer = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a94ed272da66b6ea91f7130d3a0743f21">pMesh_</a>-&gt;GetDeformer(0);</div>
<div class="line"><span class="lineno">  328</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">hasSkinnedMesh_</a> = (pDeformer != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a3e51536aad681ebd7ab1f173baaa2457">hasSkinnedMesh_</a>)</div>
<div class="line"><span class="lineno">  330</span>    {</div>
<div class="line"><span class="lineno">  331</span>        <a class="code hl_function" href="classmtgb_1_1FbxParts.html#a3a025121b0ca47b981432824825652e3">InitializeSkelton</a>();</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <span class="keyword">const</span> D3D11_BUFFER_DESC BUFFER_DESC</div>
<div class="line"><span class="lineno">  335</span>    {</div>
<div class="line"><span class="lineno">  336</span>        .ByteWidth = <span class="keyword">sizeof</span>(Vertex) * <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a>,</div>
<div class="line"><span class="lineno">  337</span>        .Usage = D3D11_USAGE_DYNAMIC,  <span class="comment">// MEMO: 途中で書き換えるため dynamic</span></div>
<div class="line"><span class="lineno">  338</span>        .BindFlags = D3D11_BIND_VERTEX_BUFFER,</div>
<div class="line"><span class="lineno">  339</span>        .CPUAccessFlags = D3D11_CPU_ACCESS_WRITE,  <span class="comment">// 途中で書き換えるから</span></div>
<div class="line"><span class="lineno">  340</span>        .MiscFlags = 0,</div>
<div class="line"><span class="lineno">  341</span>        .StructureByteStride = 0,</div>
<div class="line"><span class="lineno">  342</span>    };</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="keyword">const</span> D3D11_SUBRESOURCE_DATA INITIALIZE_DATA</div>
<div class="line"><span class="lineno">  345</span>    {</div>
<div class="line"><span class="lineno">  346</span>        .pSysMem = <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>,</div>
<div class="line"><span class="lineno">  347</span>        .SysMemPitch = 0,</div>
<div class="line"><span class="lineno">  348</span>        .SysMemSlicePitch = 0,</div>
<div class="line"><span class="lineno">  349</span>    };</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    _pDevice-&gt;CreateBuffer(&amp;BUFFER_DESC, &amp;INITIALIZE_DATA, <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.ReleaseAndGetAddressOf());</div>
<div class="line"><span class="lineno">  352</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a3a025121b0ca47b981432824825652e3"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a3a025121b0ca47b981432824825652e3">mtgb::FbxParts::InitializeSkelton</a></div><div class="ttdeci">void InitializeSkelton()</div><div class="ttdoc">骨情報の初期化</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8cpp_source.html#l00547">FbxParts.cpp:547</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Vertex_html_a154c8ae23739934e591b3daeaa91d430"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Vertex.html#a154c8ae23739934e591b3daeaa91d430">mtgb::FbxParts::Vertex::uv</a></div><div class="ttdeci">Vector3 uv</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00037">FbxParts.h:37</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Vertex_html_a266e9682d321d75fc8746ce77ccaf1bc"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Vertex.html#a266e9682d321d75fc8746ce77ccaf1bc">mtgb::FbxParts::Vertex::position</a></div><div class="ttdeci">Vector3 position</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00035">FbxParts.h:35</a></div></div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1Vertex_html_aed2667652a581038d062cd29afbe11b3"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1Vertex.html#aed2667652a581038d062cd29afbe11b3">mtgb::FbxParts::Vertex::normal</a></div><div class="ttdeci">Vector3 normal</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00036">FbxParts.h:36</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>.</p>

</div>
</div>
<a id="a2ebacdb10f1a362d0cc2c2e51d2b6548" name="a2ebacdb10f1a362d0cc2c2e51d2b6548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ebacdb10f1a362d0cc2c2e51d2b6548">&#9670;&#160;</a></span>Release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::Release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classmtgb_1_1IShader.html#a36db64430ae252fe0278b5be3849c506">mtgb::IShader</a>を再実装しています。</p>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00066">66</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">   67</span>{</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">pBones_</a>);</div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>);</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a2250d227175ef0f541db62a3dabb3356">pWeights_</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   72</span>    {</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">for</span> (DWORD i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a539e9d3e0bea5224d38edaf510529137">vertexCount_</a>; i++)</div>
<div class="line"><span class="lineno">   74</span>        {</div>
<div class="line"><span class="lineno">   75</span>            <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a2250d227175ef0f541db62a3dabb3356">pWeights_</a>[i].pBoneIndex);</div>
<div class="line"><span class="lineno">   76</span>            <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a2250d227175ef0f541db62a3dabb3356">pWeights_</a>[i].pBoneWeight);</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span>        <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a2250d227175ef0f541db62a3dabb3356">pWeights_</a>);</div>
<div class="line"><span class="lineno">   79</span>    }</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#adaff9dd7bb6f471ea4900c4166fcb3ad">pVertexes_</a>);</div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">for</span> (DWORD i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#abcbd5a3443c9c5ef018f6cf7ce02347f">materialCount_</a>; i++)</div>
<div class="line"><span class="lineno">   83</span>    {</div>
<div class="line"><span class="lineno">   84</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">ppIndexBuffer_</a>[i].Reset();</div>
<div class="line"><span class="lineno">   85</span>        <a class="code hl_define" href="ReleaseUtility_8h.html#a9bbcd82e77c41df827c09759def05c9a">SAFE_DELETE</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">ppIndexData_</a>[i]);</div>
<div class="line"><span class="lineno">   86</span>        <a class="code hl_define" href="ReleaseUtility_8h.html#a9bbcd82e77c41df827c09759def05c9a">SAFE_DELETE</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>[i].pTexture);</div>
<div class="line"><span class="lineno">   87</span>    }</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; indexBuffer : <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a6310fa605dfc98c1e456c2759fb1dd6b">ppIndexBuffer_</a>)</div>
<div class="line"><span class="lineno">   89</span>    {</div>
<div class="line"><span class="lineno">   90</span>        indexBuffer.Reset();</div>
<div class="line"><span class="lineno">   91</span>    }</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ae188d66fcf074b27f05b84ba55c1b939">ppIndexData_</a>);</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_define" href="ReleaseUtility_8h.html#a506b3685b3eb05aac751f9e14cbed93b">SAFE_DELETE_ARRAY</a>(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a49119504bc235a618cf7c102db8844bb">pMaterial_</a>);</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.Reset();</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Reset();</div>
<div class="line"><span class="lineno">   97</span>}</div>
<div class="ttc" id="aReleaseUtility_8h_html_a9bbcd82e77c41df827c09759def05c9a"><div class="ttname"><a href="ReleaseUtility_8h.html#a9bbcd82e77c41df827c09759def05c9a">SAFE_DELETE</a></div><div class="ttdeci">#define SAFE_DELETE(p)</div><div class="ttdef"><b>Definition:</b> <a href="ReleaseUtility_8h_source.html#l00004">ReleaseUtility.h:4</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="ReleaseUtility_8h_source.html#l00004">SAFE_DELETE</a>, <a class="el" href="ReleaseUtility_8h_source.html#l00012">SAFE_DELETE_ARRAY</a>.</p>

</div>
</div>
<a id="a9bfd49f219723a19ec79278d0df10495" name="a9bfd49f219723a19ec79278d0df10495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bfd49f219723a19ec79278d0df10495">&#9670;&#160;</a></span>SetAnimationTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::SetAnimationTime </td>
          <td>(</td>
          <td class="paramtype">const FbxTime &amp;&#160;</td>
          <td class="paramname"><em>_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00697">697</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  698</span>{</div>
<div class="line"><span class="lineno">  699</span>    <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a990a152cad3970b77cba450cca3ff046">currentTime_</a> = _time;</div>
<div class="line"><span class="lineno">  700</span>}</div>
<div class="ttc" id="aclassmtgb_1_1FbxParts_html_a990a152cad3970b77cba450cca3ff046"><div class="ttname"><a href="classmtgb_1_1FbxParts.html#a990a152cad3970b77cba450cca3ff046">mtgb::FbxParts::currentTime_</a></div><div class="ttdeci">FbxTime currentTime_</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00198">FbxParts.h:198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa64707ae7f4ad438f94a6a686118b6d1" name="aa64707ae7f4ad438f94a6a686118b6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64707ae7f4ad438f94a6a686118b6d1">&#9670;&#160;</a></span>SetBoneMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::FbxParts::SetBoneMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00653">653</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  654</span>{</div>
<div class="line"><span class="lineno">  655</span>    <span class="keyword">using namespace </span>DirectX;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>; i++)</div>
<div class="line"><span class="lineno">  658</span>    {</div>
<div class="line"><span class="lineno">  659</span>        FbxAnimEvaluator* evaluator{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetLink()-&gt;GetScene()-&gt;GetAnimationEvaluator() };</div>
<div class="line"><span class="lineno">  660</span>        FbxMatrix mCurrent{ evaluator-&gt;GetNodeGlobalTransform(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetLink(), <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a990a152cad3970b77cba450cca3ff046">currentTime_</a>) };</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>        <span class="comment">// FbxMatrix を DirectX::XMMATRIX に変換</span></div>
<div class="line"><span class="lineno">  663</span>        XMFLOAT4X4 pose{};</div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">for</span> (DWORD x = 0; x &lt; 4; x++)</div>
<div class="line"><span class="lineno">  665</span>        {</div>
<div class="line"><span class="lineno">  666</span>            <span class="keywordflow">for</span> (DWORD y = 0; y &lt; 4; y++)</div>
<div class="line"><span class="lineno">  667</span>            {</div>
<div class="line"><span class="lineno">  668</span>                pose(x, y) = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(mCurrent.Get(x, y));</div>
<div class="line"><span class="lineno">  669</span>            }</div>
<div class="line"><span class="lineno">  670</span>        }</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>        <span class="comment">// 座標系変換</span></div>
<div class="line"><span class="lineno">  673</span>        XMFLOAT4X4 mat{};</div>
<div class="line"><span class="lineno">  674</span>        Matrix4x4 mMirror{ XMMatrixIdentity() };</div>
<div class="line"><span class="lineno">  675</span>        XMStoreFloat4x4(&amp;mat, mMirror);</div>
<div class="line"><span class="lineno">  676</span>        mat.m[2][2] = -1.0f;</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>        mMirror = XMLoadFloat4x4(&amp;mat);</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>        Matrix4x4 currentPose = XMLoadFloat4x4(&amp;pose) * mMirror;</div>
<div class="line"><span class="lineno">  681</span>        Matrix4x4 bindPoseInv = XMMatrixInverse(<span class="keyword">nullptr</span>, <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a582941238093848310ed93a82d8bed0d">pBones_</a>[i].bindPose * mMirror);</div>
<div class="line"><span class="lineno">  682</span>        Matrix4x4 finalBoneMatrix = currentPose * bindPoseInv;</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>        <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a78b0cc993d842b425f6439ea8dbc4c13">boneMatrices_</a>.<a class="code hl_variable" href="structmtgb_1_1FbxParts_1_1BoneMatrices.html#ad864c9ec60f01fee77bf8d7767bf3e6d">boneMatrices</a>[i] = XMMatrixTranspose(finalBoneMatrix);</div>
<div class="line"><span class="lineno">  685</span>    }</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    <span class="comment">// コンスタントバッファに書き込み</span></div>
<div class="line"><span class="lineno">  688</span>    D3D11_MAPPED_SUBRESOURCE mappedSubResource{};</div>
<div class="line"><span class="lineno">  689</span>    <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ac2b44b01edaf7740990b40343921cb77">pBoneConstantBuffer_</a>.Get(), 0, D3D11_MAP_WRITE_DISCARD, 0, &amp;mappedSubResource);</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>    memcpy_s(mappedSubResource.pData, mappedSubResource.RowPitch, &amp;<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a78b0cc993d842b425f6439ea8dbc4c13">boneMatrices_</a>, <span class="keyword">sizeof</span>(BoneMatrices));</div>
<div class="line"><span class="lineno">  692</span>    <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ac2b44b01edaf7740990b40343921cb77">pBoneConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>    </div>
<div class="line"><span class="lineno">  695</span>}</div>
<div class="ttc" id="astructmtgb_1_1FbxParts_1_1BoneMatrices_html_ad864c9ec60f01fee77bf8d7767bf3e6d"><div class="ttname"><a href="structmtgb_1_1FbxParts_1_1BoneMatrices.html#ad864c9ec60f01fee77bf8d7767bf3e6d">mtgb::FbxParts::BoneMatrices::boneMatrices</a></div><div class="ttdeci">Matrix4x4 boneMatrices[MAX_BONE_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="FbxParts_8h_source.html#l00077">FbxParts.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="DirectX11Draw_8h_source.html#l00141">mtgb::DirectX11Draw::pContext_</a>.</p>

</div>
</div>
<a id="a17a7e481e5d26637ddd3cf89428b0f30" name="a17a7e481e5d26637ddd3cf89428b0f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a7e481e5d26637ddd3cf89428b0f30">&#9670;&#160;</a></span>TryGetBonePosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mtgb::FbxParts::TryGetBonePosition </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_boneName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtgb_1_1Vector3.html">Vector3</a> *&#160;</td>
          <td class="paramname"><em>_pPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>試しにボーンのアニメーション無しのときの座標を取得する </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_boneName</td><td>名前</td></tr>
    <tr><td class="paramname">_pPosition</td><td>座標の参照渡し</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>ボーンの取得に成功した true / false</dd></dl>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00210">210</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  211</span>{</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#a9bf9fad8382f5a25343682446d7e7297">boneCount_</a>; i++)</div>
<div class="line"><span class="lineno">  213</span>    {</div>
<div class="line"><span class="lineno">  214</span>        <span class="comment">// 見つかった！</span></div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">if</span> (_boneName == <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetLink()-&gt;GetName())</div>
<div class="line"><span class="lineno">  216</span>        {</div>
<div class="line"><span class="lineno">  217</span>            FbxAMatrix <a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>{};</div>
<div class="line"><span class="lineno">  218</span>            <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#ab326cfaebda9627c8b5e02bbc48b1838">ppCluster_</a>[i]-&gt;GetTransformLinkMatrix(m);</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>            _pPosition-&gt;x = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>[3][0]);</div>
<div class="line"><span class="lineno">  221</span>            _pPosition-&gt;y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>[3][1]);</div>
<div class="line"><span class="lineno">  222</span>            _pPosition-&gt;z = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>[3][2]);</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  225</span>        }</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  229</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a05b2d9f529cfc1045075ee060b0c4487" name="a05b2d9f529cfc1045075ee060b0c4487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05b2d9f529cfc1045075ee060b0c4487">&#9670;&#160;</a></span>TryGetBonePositionAtNow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mtgb::FbxParts::TryGetBonePositionAtNow </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>_boneName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtgb_1_1Vector3.html">Vector3</a> *&#160;</td>
          <td class="paramname"><em>_pPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>試しにボーンのアニメーション中の座標を取得する </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_boneName</td><td>名前</td></tr>
    <tr><td class="paramname">_pPosition</td><td>座標の参照渡し</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>ボーンの取得に成功した true / false</dd></dl>

<p class="definition"> <a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a> の <a class="el" href="FbxParts_8cpp_source.html#l00231">231</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  232</span>{</div>
<div class="line"><span class="lineno">  233</span>    <span class="keyword">auto</span> itr{ <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aae0fba41d4ce3eb2bcf4957bbb10df6f">boneNamePair_</a>.find(_boneName) };</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="classmtgb_1_1FbxParts.html#aae0fba41d4ce3eb2bcf4957bbb10df6f">boneNamePair_</a>.end())  <span class="comment">// end じゃないなら見つかった</span></div>
<div class="line"><span class="lineno">  235</span>    {</div>
<div class="line"><span class="lineno">  236</span>        Matrix4x4 <a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>{};</div>
<div class="line"><span class="lineno">  237</span>        <span class="comment">//DirectX::XMStoreFloat4x4(&amp;m, itr-&gt;second-&gt;newPose);</span></div>
<div class="line"><span class="lineno">  238</span>        _pPosition-&gt;x = <a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>.r[3].m128_f32[0];</div>
<div class="line"><span class="lineno">  239</span>        _pPosition-&gt;y = <a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>.r[3].m128_f32[1];</div>
<div class="line"><span class="lineno">  240</span>        _pPosition-&gt;z = <a class="code hl_variable" href="namespaceanonymous__namespace_02Transform_8cpp_03.html#a7a244191fc18de0d71146133a1539531">m</a>.r[3].m128_f32[2];</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  245</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">メンバ詳解</h2>
<a id="a9bf9fad8382f5a25343682446d7e7297" name="a9bf9fad8382f5a25343682446d7e7297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bf9fad8382f5a25343682446d7e7297">&#9670;&#160;</a></span>boneCount_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mtgb::FbxParts::boneCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00200">200</a> 行目に定義があります。</p>

</div>
</div>
<a id="a78b0cc993d842b425f6439ea8dbc4c13" name="a78b0cc993d842b425f6439ea8dbc4c13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b0cc993d842b425f6439ea8dbc4c13">&#9670;&#160;</a></span>boneMatrices_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmtgb_1_1FbxParts_1_1BoneMatrices.html">BoneMatrices</a> mtgb::FbxParts::boneMatrices_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00211">211</a> 行目に定義があります。</p>

</div>
</div>
<a id="aae0fba41d4ce3eb2bcf4957bbb10df6f" name="aae0fba41d4ce3eb2bcf4957bbb10df6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae0fba41d4ce3eb2bcf4957bbb10df6f">&#9670;&#160;</a></span>boneNamePair_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, <a class="el" href="structmtgb_1_1FbxParts_1_1Bone.html">Bone</a>*&gt; mtgb::FbxParts::boneNamePair_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00202">202</a> 行目に定義があります。</p>

</div>
</div>
<a id="a990a152cad3970b77cba450cca3ff046" name="a990a152cad3970b77cba450cca3ff046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a990a152cad3970b77cba450cca3ff046">&#9670;&#160;</a></span>currentTime_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FbxTime mtgb::FbxParts::currentTime_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00198">198</a> 行目に定義があります。</p>

</div>
</div>
<a id="a2821cad5959223883d09220781ece047" name="a2821cad5959223883d09220781ece047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2821cad5959223883d09220781ece047">&#9670;&#160;</a></span>DirectX11Draw</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend mtgb::FbxParts::DirectX11Draw</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00031">31</a> 行目に定義があります。</p>

</div>
</div>
<a id="a61462899106091aefd1f92e288e20577" name="a61462899106091aefd1f92e288e20577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61462899106091aefd1f92e288e20577">&#9670;&#160;</a></span>fbxToWorldScaleFactor_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mtgb::FbxParts::fbxToWorldScaleFactor_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00213">213</a> 行目に定義があります。</p>

</div>
</div>
<a id="a3e51536aad681ebd7ab1f173baaa2457" name="a3e51536aad681ebd7ab1f173baaa2457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e51536aad681ebd7ab1f173baaa2457">&#9670;&#160;</a></span>hasSkinnedMesh_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mtgb::FbxParts::hasSkinnedMesh_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00186">186</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="FbxParts_8h_source.html#l00181">HasSkinnedMesh()</a>.</p>

</div>
</div>
<a id="a53cab168c94bf1180c4b2d27f6380e59" name="a53cab168c94bf1180c4b2d27f6380e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53cab168c94bf1180c4b2d27f6380e59">&#9670;&#160;</a></span>indexCount_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mtgb::FbxParts::indexCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00189">189</a> 行目に定義があります。</p>

</div>
</div>
<a id="abcbd5a3443c9c5ef018f6cf7ce02347f" name="abcbd5a3443c9c5ef018f6cf7ce02347f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcbd5a3443c9c5ef018f6cf7ce02347f">&#9670;&#160;</a></span>materialCount_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mtgb::FbxParts::materialCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00190">190</a> 行目に定義があります。</p>

</div>
</div>
<a id="ac2b44b01edaf7740990b40343921cb77" name="ac2b44b01edaf7740990b40343921cb77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b44b01edaf7740990b40343921cb77">&#9670;&#160;</a></span>pBoneConstantBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ComPtr&lt;ID3D11Buffer&gt; mtgb::FbxParts::pBoneConstantBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00209">209</a> 行目に定義があります。</p>

</div>
</div>
<a id="a582941238093848310ed93a82d8bed0d" name="a582941238093848310ed93a82d8bed0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582941238093848310ed93a82d8bed0d">&#9670;&#160;</a></span>pBones_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmtgb_1_1FbxParts_1_1Bone.html">Bone</a>* mtgb::FbxParts::pBones_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00201">201</a> 行目に定義があります。</p>

</div>
</div>
<a id="acfa72729f876f52ada9160eafa3716ac" name="acfa72729f876f52ada9160eafa3716ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa72729f876f52ada9160eafa3716ac">&#9670;&#160;</a></span>pConstantBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ComPtr&lt;ID3D11Buffer&gt; mtgb::IShader::pConstantBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00077">77</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="IShader_8h_source.html#l00081">mtgb::IShader::Draw()</a>.</p>

</div>
</div>
<a id="aa684283886d8b16b40a26c0f7f9d2c69" name="aa684283886d8b16b40a26c0f7f9d2c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa684283886d8b16b40a26c0f7f9d2c69">&#9670;&#160;</a></span>pIndexBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ComPtr&lt;ID3D11Buffer&gt; mtgb::IShader::pIndexBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00076">76</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="IShader_8h_source.html#l00081">mtgb::IShader::Draw()</a>.</p>

</div>
</div>
<a id="a49119504bc235a618cf7c102db8844bb" name="a49119504bc235a618cf7c102db8844bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49119504bc235a618cf7c102db8844bb">&#9670;&#160;</a></span>pMaterial_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmtgb_1_1FbxParts_1_1Material.html">Material</a>* mtgb::FbxParts::pMaterial_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00194">194</a> 行目に定義があります。</p>

</div>
</div>
<a id="a94ed272da66b6ea91f7130d3a0743f21" name="a94ed272da66b6ea91f7130d3a0743f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ed272da66b6ea91f7130d3a0743f21">&#9670;&#160;</a></span>pMesh_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FbxMesh* mtgb::FbxParts::pMesh_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00195">195</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="FbxParts_8cpp_source.html#l00021">FbxParts()</a>.</p>

</div>
</div>
<a id="a5a265f736ff20e8c7cd49f31dc72fc79" name="a5a265f736ff20e8c7cd49f31dc72fc79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a265f736ff20e8c7cd49f31dc72fc79">&#9670;&#160;</a></span>pNode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FbxNode* mtgb::FbxParts::pNode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00193">193</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="FbxParts_8cpp_source.html#l00021">FbxParts()</a>, <a class="el" href="FbxParts_8h_source.html#l00108">GetNode()</a>.</p>

</div>
</div>
<a id="a17a0286089f99a3e93d35c9c8a76f46b" name="a17a0286089f99a3e93d35c9c8a76f46b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a0286089f99a3e93d35c9c8a76f46b">&#9670;&#160;</a></span>polygonCount_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mtgb::FbxParts::polygonCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00188">188</a> 行目に定義があります。</p>

</div>
</div>
<a id="a4c7ff9f0e23cb026ddf77f255e539210" name="a4c7ff9f0e23cb026ddf77f255e539210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c7ff9f0e23cb026ddf77f255e539210">&#9670;&#160;</a></span>polygonVertexCount_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mtgb::FbxParts::polygonVertexCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00191">191</a> 行目に定義があります。</p>

</div>
</div>
<a id="ab326cfaebda9627c8b5e02bbc48b1838" name="ab326cfaebda9627c8b5e02bbc48b1838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab326cfaebda9627c8b5e02bbc48b1838">&#9670;&#160;</a></span>ppCluster_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FbxCluster** mtgb::FbxParts::ppCluster_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00197">197</a> 行目に定義があります。</p>

</div>
</div>
<a id="a6310fa605dfc98c1e456c2759fb1dd6b" name="a6310fa605dfc98c1e456c2759fb1dd6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6310fa605dfc98c1e456c2759fb1dd6b">&#9670;&#160;</a></span>ppIndexBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;ComPtr&lt;ID3D11Buffer&gt; &gt; mtgb::FbxParts::ppIndexBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00208">208</a> 行目に定義があります。</p>

</div>
</div>
<a id="ae188d66fcf074b27f05b84ba55c1b939" name="ae188d66fcf074b27f05b84ba55c1b939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae188d66fcf074b27f05b84ba55c1b939">&#9670;&#160;</a></span>ppIndexData_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DWORD** mtgb::FbxParts::ppIndexData_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00206">206</a> 行目に定義があります。</p>

</div>
</div>
<a id="aea98c37cebaa3e185a4668bbc849b96e" name="aea98c37cebaa3e185a4668bbc849b96e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea98c37cebaa3e185a4668bbc849b96e">&#9670;&#160;</a></span>pSkin_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FbxSkin* mtgb::FbxParts::pSkin_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00196">196</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="FbxParts_8h_source.html#l00151">GetSkin()</a>.</p>

</div>
</div>
<a id="a1ca0458701c1f244741b2eec2035e529" name="a1ca0458701c1f244741b2eec2035e529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ca0458701c1f244741b2eec2035e529">&#9670;&#160;</a></span>pVertexBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ComPtr&lt;ID3D11Buffer&gt; mtgb::IShader::pVertexBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>カメラの座標系を取得 </p>
<dl class="section return"><dt>戻り値</dt><dd>カメラTransfromの参照ポインタ</dd></dl>

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00075">75</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="IShader_8h_source.html#l00081">mtgb::IShader::Draw()</a>.</p>

</div>
</div>
<a id="adaff9dd7bb6f471ea4900c4166fcb3ad" name="adaff9dd7bb6f471ea4900c4166fcb3ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaff9dd7bb6f471ea4900c4166fcb3ad">&#9670;&#160;</a></span>pVertexes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmtgb_1_1FbxParts_1_1Vertex.html">Vertex</a>* mtgb::FbxParts::pVertexes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00204">204</a> 行目に定義があります。</p>

</div>
</div>
<a id="a2250d227175ef0f541db62a3dabb3356" name="a2250d227175ef0f541db62a3dabb3356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2250d227175ef0f541db62a3dabb3356">&#9670;&#160;</a></span>pWeights_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmtgb_1_1FbxParts_1_1Weight.html">Weight</a>* mtgb::FbxParts::pWeights_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00203">203</a> 行目に定義があります。</p>

</div>
</div>
<a id="a5d7def2c53aeb2b9f5967f85d86b9abb" name="a5d7def2c53aeb2b9f5967f85d86b9abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d7def2c53aeb2b9f5967f85d86b9abb">&#9670;&#160;</a></span>unitScaleFactor_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double mtgb::FbxParts::unitScaleFactor_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00212">212</a> 行目に定義があります。</p>

</div>
</div>
<a id="a539e9d3e0bea5224d38edaf510529137" name="a539e9d3e0bea5224d38edaf510529137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a539e9d3e0bea5224d38edaf510529137">&#9670;&#160;</a></span>vertexCount_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mtgb::FbxParts::vertexCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="FbxParts_8h_source.html">FbxParts.h</a> の <a class="el" href="FbxParts_8h_source.html#l00187">187</a> 行目に定義があります。</p>

</div>
</div>
<hr/>このクラス詳解は次のファイルから抽出されました:<ul>
<li><a class="el" href="FbxParts_8h_source.html">FbxParts.h</a></li>
<li><a class="el" href="FbxParts_8cpp_source.html">FbxParts.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemtgb.html">mtgb</a></li><li class="navelem"><a class="el" href="classmtgb_1_1FbxParts.html">FbxParts</a></li>
    <li class="footer">構築: <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
