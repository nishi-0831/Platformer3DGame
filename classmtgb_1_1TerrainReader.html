<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Game: mtgb::TerrainReader&lt; StageDataBit &gt; クラステンプレート</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Game
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classmtgb_1_1TerrainReader.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">読み取り中…</div>
<div class="SRStatus" id="Searching">検索中…</div>
<div class="SRStatus" id="NoMatches">一致する文字列を見つけられません</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">公開メンバ関数</a> &#124;
<a href="#pri-methods">非公開メンバ関数</a> &#124;
<a href="#pri-attribs">非公開変数類</a> &#124;
<a href="classmtgb_1_1TerrainReader-members.html">全メンバ一覧</a>  </div>
  <div class="headertitle"><div class="title">mtgb::TerrainReader&lt; StageDataBit &gt; クラステンプレート</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a>&quot;</code></p>
<div class="dynheader">
mtgb::TerrainReader&lt; StageDataBit &gt; の継承関係図</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader__inherit__graph.svg" width="350" height="1255"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
mtgb::TerrainReader&lt; StageDataBit &gt; 連携図</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader__coll__graph.svg" width="2246" height="2628"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
公開メンバ関数</h2></td></tr>
<tr class="memitem:a4b8960cb85d5a659e7f307de141aded8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a4b8960cb85d5a659e7f307de141aded8">TerrainReader</a> ()</td></tr>
<tr class="separator:a4b8960cb85d5a659e7f307de141aded8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a48fda36fcc5e7d07b720128da365f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a0a48fda36fcc5e7d07b720128da365f3">ReadTerrain</a> (const char *fileName)</td></tr>
<tr class="separator:a0a48fda36fcc5e7d07b720128da365f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbfe923f4bd60515b1ccc7fb56c963de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#adbfe923f4bd60515b1ccc7fb56c963de">Initialize</a> () override</td></tr>
<tr class="memdesc:adbfe923f4bd60515b1ccc7fb56c963de"><td class="mdescLeft">&#160;</td><td class="mdescRight">シェーダの初期化処理  <br /></td></tr>
<tr class="separator:adbfe923f4bd60515b1ccc7fb56c963de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a530ca431abd5e2cc8cf2607326e28774"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a530ca431abd5e2cc8cf2607326e28774">GetHeightAt</a> (float x, float z) const</td></tr>
<tr class="separator:a530ca431abd5e2cc8cf2607326e28774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bd02b3d4e1bbf4b6f6815403a65232"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#ae2bd02b3d4e1bbf4b6f6815403a65232">GenerateQuadtreeHeightMap</a> ()</td></tr>
<tr class="separator:ae2bd02b3d4e1bbf4b6f6815403a65232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0cb5f981330b1880493835f5aa591bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#ad0cb5f981330b1880493835f5aa591bc">GenerateTerrainAABBs</a> (std::vector&lt; <a class="el" href="classmtgb_1_1Collider.html">Collider</a> * &gt; *_aabbs)</td></tr>
<tr class="separator:ad0cb5f981330b1880493835f5aa591bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af83680f408b54e315344688484bce287"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#af83680f408b54e315344688484bce287">TestDraw</a> ()</td></tr>
<tr class="separator:af83680f408b54e315344688484bce287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822e23c781ca9754de8de3dd191fae43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a822e23c781ca9754de8de3dd191fae43">WorldToCellIndex</a> (float _point) const</td></tr>
<tr class="separator:a822e23c781ca9754de8de3dd191fae43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133c960f2c69ac29251edf26857b9648"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">CellIndexToWorld</a> (int _cellIndex) const</td></tr>
<tr class="separator:a133c960f2c69ac29251edf26857b9648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909efb5dd43dd80cadb504f27b91b8a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a909efb5dd43dd80cadb504f27b91b8a0">GenerateTerrainMesh</a> ()</td></tr>
<tr class="separator:a909efb5dd43dd80cadb504f27b91b8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cd1de4d5a729c1853e541a4edd2b6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#af3cd1de4d5a729c1853e541a4edd2b6c">InitializeVertexBuffer</a> (ID3D11Device *_pDevice) override</td></tr>
<tr class="memdesc:af3cd1de4d5a729c1853e541a4edd2b6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">頂点バッファの初期化  <br /></td></tr>
<tr class="separator:af3cd1de4d5a729c1853e541a4edd2b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b6e1fbf5498c24104a1f4b4d77ef04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a13b6e1fbf5498c24104a1f4b4d77ef04">InitializeIndexBuffer</a> (ID3D11Device *_pDevice) override</td></tr>
<tr class="memdesc:a13b6e1fbf5498c24104a1f4b4d77ef04"><td class="mdescLeft">&#160;</td><td class="mdescRight">インデックスバッファの初期化  <br /></td></tr>
<tr class="separator:a13b6e1fbf5498c24104a1f4b4d77ef04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4fa3a5833d4caae5ef8751c2efd871"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a7f4fa3a5833d4caae5ef8751c2efd871">InitializeConstantBuffer</a> (ID3D11Device *_pDevice) override</td></tr>
<tr class="memdesc:a7f4fa3a5833d4caae5ef8751c2efd871"><td class="mdescLeft">&#160;</td><td class="mdescRight">コンスタントバッファの初期化  <br /></td></tr>
<tr class="separator:a7f4fa3a5833d4caae5ef8751c2efd871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b47a711d66ceca6c212b338b3d946f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a87b47a711d66ceca6c212b338b3d946f">CreateTextureMipmap</a> (const std::wstring &amp;_fileName)</td></tr>
<tr class="separator:a87b47a711d66ceca6c212b338b3d946f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a2540d28f8d4a02a05f542bb25a065"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#ab5a2540d28f8d4a02a05f542bb25a065">DrawTerran</a> () const</td></tr>
<tr class="separator:ab5a2540d28f8d4a02a05f542bb25a065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40311d6c5437dd7ed0b0b9378f1a7fff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a40311d6c5437dd7ed0b0b9378f1a7fff">GenerateStageBoundaryCollider</a> ()</td></tr>
<tr class="memdesc:a40311d6c5437dd7ed0b0b9378f1a7fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">ステージの範囲外と範囲内の境界となるコライダーを作成する  <br /></td></tr>
<tr class="separator:a40311d6c5437dd7ed0b0b9378f1a7fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
非公開メンバ関数</h2></td></tr>
<tr class="memitem:a73a57d9ea996224a62847efb92b8c6f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a73a57d9ea996224a62847efb92b8c6f7">GenerateNormals</a> ()</td></tr>
<tr class="separator:a73a57d9ea996224a62847efb92b8c6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80638841979743e23b589b74dc2513e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmtgb_1_1Vector3.html">Vector3</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a80638841979743e23b589b74dc2513e6">CalculateNormal</a> (int _x, int _z) const</td></tr>
<tr class="separator:a80638841979743e23b589b74dc2513e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36db64430ae252fe0278b5be3849c506"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#a36db64430ae252fe0278b5be3849c506">Release</a> ()</td></tr>
<tr class="separator:a36db64430ae252fe0278b5be3849c506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac405970a9f1034d8e6e5504c60c34d5"><td class="memTemplParams" colspan="2">template&lt;typename ConstantBufferT , typename VertexT &gt; </td></tr>
<tr class="memitem:aac405970a9f1034d8e6e5504c60c34d5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#aac405970a9f1034d8e6e5504c60c34d5">Draw</a> (const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;_makeConstantBufferCallback, const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;_contextSetterCallback, const int _drawIndexCount=6)</td></tr>
<tr class="memdesc:aac405970a9f1034d8e6e5504c60c34d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">シェーダの描画処理(共通)  <br /></td></tr>
<tr class="separator:aac405970a9f1034d8e6e5504c60c34d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5190b06398850db0a1991fca52aade"><td class="memTemplParams" colspan="2">template&lt;typename ConstantBufferT , typename VertexT &gt; </td></tr>
<tr class="memitem:a3a5190b06398850db0a1991fca52aade"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#a3a5190b06398850db0a1991fca52aade">Draw</a> (const std::function&lt; void(VertexT *_pVertex)&gt; &amp;_makeVertexBufferCallback, const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;_makeConstantBufferCallback, const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;_contextSetterCallback, const int _drawIndexCount=6)</td></tr>
<tr class="separator:a3a5190b06398850db0a1991fca52aade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac815823ba32d88817b7bd10b739945d6"><td class="memTemplParams" colspan="2">template&lt;typename ConstantBufferT , typename VertexT &gt; </td></tr>
<tr class="memitem:ac815823ba32d88817b7bd10b739945d6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#ac815823ba32d88817b7bd10b739945d6">Draw</a> (const std::function&lt; void(ConstantBufferT *)&gt; &amp;_makeConstantBufferCallback, const std::function&lt; void(ID3D11DeviceContext *)&gt; &amp;_contextSetterCallback, const int _drawIndexCount)</td></tr>
<tr class="separator:ac815823ba32d88817b7bd10b739945d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
非公開変数類</h2></td></tr>
<tr class="memitem:aff512d1fb60bf61d9079d22a322a5810"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structmtgb_1_1TerrainVertex.html">TerrainVertex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#aff512d1fb60bf61d9079d22a322a5810">vertices_</a></td></tr>
<tr class="separator:aff512d1fb60bf61d9079d22a322a5810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c8adadc18d89ff05ed48b7725c28b9f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; DWORD &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a></td></tr>
<tr class="separator:a3c8adadc18d89ff05ed48b7725c28b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610258390bfe25b3af288b6ec028ad9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmtgb_1_1Texture2D.html">Texture2D</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a610258390bfe25b3af288b6ec028ad9b">pTexture_</a></td></tr>
<tr class="separator:a610258390bfe25b3af288b6ec028ad9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a63950dc827841727af965a221fff6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a81a63950dc827841727af965a221fff6">mipLevels_</a></td></tr>
<tr class="separator:a81a63950dc827841727af965a221fff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf0194fa82f1aef01bbc1cb531cfd6b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#afbf0194fa82f1aef01bbc1cb531cfd6b">width</a></td></tr>
<tr class="separator:afbf0194fa82f1aef01bbc1cb531cfd6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee34e02c05d383851b8bf9e16a80419"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a></td></tr>
<tr class="separator:aeee34e02c05d383851b8bf9e16a80419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8335d6786da0e00c61a9238803c497ba"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a8335d6786da0e00c61a9238803c497ba">heightScale</a></td></tr>
<tr class="separator:a8335d6786da0e00c61a9238803c497ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbe0e2f72660c4c652de87bb6daf2bd"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a></td></tr>
<tr class="separator:acbbe0e2f72660c4c652de87bb6daf2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859f7df4abc4bb5de350722ea2fa4b0b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; StageDataBit &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a859f7df4abc4bb5de350722ea2fa4b0b">stageBuffer</a></td></tr>
<tr class="separator:a859f7df4abc4bb5de350722ea2fa4b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1802c8dc2d5ea3055b0074f232c47342"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmtgb_1_1Collider.html">Collider</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">aabbs</a></td></tr>
<tr class="separator:a1802c8dc2d5ea3055b0074f232c47342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e6c6b34458766d2a5e19d41d144bd5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; float &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a></td></tr>
<tr class="separator:a24e6c6b34458766d2a5e19d41d144bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630d977f8cb123fe90e5e466f5788fcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a630d977f8cb123fe90e5e466f5788fcc">divisions</a></td></tr>
<tr class="separator:a630d977f8cb123fe90e5e466f5788fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6be0631df8be780dc19d30789e1593"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a></td></tr>
<tr class="separator:a8e6be0631df8be780dc19d30789e1593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93212e6448fa235a4265567773a84e35"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a93212e6448fa235a4265567773a84e35">highestHeight</a></td></tr>
<tr class="separator:a93212e6448fa235a4265567773a84e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd612dd5a1c1d5d7566210dbb6cf02a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a5dd612dd5a1c1d5d7566210dbb6cf02a">ceilingOffset</a></td></tr>
<tr class="separator:a5dd612dd5a1c1d5d7566210dbb6cf02a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcfc6a902dccb70b3733dadb250c019"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmtgb_1_1Transform.html">Transform</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#aedcfc6a902dccb70b3733dadb250c019">pTransform</a></td></tr>
<tr class="separator:aedcfc6a902dccb70b3733dadb250c019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4e2d45ea45eef13d543e1cf3396125"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemtgb.html#a6d92d01c70f7be66651f2c2f73fc3710">FBXModelHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1TerrainReader.html#a2a4e2d45ea45eef13d543e1cf3396125">hModelCollider_</a></td></tr>
<tr class="separator:a2a4e2d45ea45eef13d543e1cf3396125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca0458701c1f244741b2eec2035e529"><td class="memItemLeft" align="right" valign="top">ComPtr&lt; ID3D11Buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a></td></tr>
<tr class="memdesc:a1ca0458701c1f244741b2eec2035e529"><td class="mdescLeft">&#160;</td><td class="mdescRight">カメラの座標系を取得  <br /></td></tr>
<tr class="separator:a1ca0458701c1f244741b2eec2035e529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa684283886d8b16b40a26c0f7f9d2c69"><td class="memItemLeft" align="right" valign="top">ComPtr&lt; ID3D11Buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a></td></tr>
<tr class="separator:aa684283886d8b16b40a26c0f7f9d2c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa72729f876f52ada9160eafa3716ac"><td class="memItemLeft" align="right" valign="top">ComPtr&lt; ID3D11Buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a></td></tr>
<tr class="separator:acfa72729f876f52ada9160eafa3716ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">詳解</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename StageDataBit&gt;<br />
class mtgb::TerrainReader&lt; StageDataBit &gt;</div>
<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00052">52</a> 行目に定義があります。</p>
</div><h2 class="groupheader">構築子と解体子</h2>
<a id="a4b8960cb85d5a659e7f307de141aded8" name="a4b8960cb85d5a659e7f307de141aded8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b8960cb85d5a659e7f307de141aded8">&#9670;&#160;</a></span>TerrainReader()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::TerrainReader</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00134">134</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>        : <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#afbf0194fa82f1aef01bbc1cb531cfd6b">width</a>{513}</div>
<div class="line"><span class="lineno">  136</span>        , <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a>{513}</div>
<div class="line"><span class="lineno">  137</span>        , <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8335d6786da0e00c61a9238803c497ba">heightScale</a>{50.0f}</div>
<div class="line"><span class="lineno">  138</span>        , <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a>{300.0f}</div>
<div class="line"><span class="lineno">  139</span>        , <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a630d977f8cb123fe90e5e466f5788fcc">divisions</a>{3}</div>
<div class="line"><span class="lineno">  140</span>        , <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a93212e6448fa235a4265567773a84e35">highestHeight</a>{0.0f}</div>
<div class="line"><span class="lineno">  141</span>        , <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a5dd612dd5a1c1d5d7566210dbb6cf02a">ceilingOffset</a>{100.0f}</div>
<div class="line"><span class="lineno">  142</span>    {</div>
<div class="line"><span class="lineno">  143</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a859f7df4abc4bb5de350722ea2fa4b0b">stageBuffer</a>.resize(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#afbf0194fa82f1aef01bbc1cb531cfd6b">width</a> * <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a>);</div>
<div class="line"><span class="lineno">  144</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a2a4e2d45ea45eef13d543e1cf3396125">hModelCollider_</a> = <a class="code hl_function" href="classmtgb_1_1Fbx.html#a973291cbc71c68589200aa4c0c88270e">Fbx::Load</a>(<span class="stringliteral">&quot;Model/BoxCollider.fbx&quot;</span>);</div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_typedef" href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">EntityId</a> <span class="keywordtype">id</span> = Game::System&lt;EntityManager&gt;().CreateEntity();</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aedcfc6a902dccb70b3733dadb250c019">pTransform</a> = &amp;(<a class="code hl_function" href="classmtgb_1_1IComponent.html#a931ae7565817c83a4e3c5f9004c074d5">Transform::Get</a>(<span class="keywordtype">id</span>));</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aedcfc6a902dccb70b3733dadb250c019">pTransform</a>-&gt;<a class="code hl_variable" href="classmtgb_1_1Transform.html#aa8373f7a6e81f61498f8ca020a5a5c31">scale</a> = { 1,1,1 };</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1Fbx_html_a973291cbc71c68589200aa4c0c88270e"><div class="ttname"><a href="classmtgb_1_1Fbx.html#a973291cbc71c68589200aa4c0c88270e">mtgb::Fbx::Load</a></div><div class="ttdeci">static FBXModelHandle Load(const std::string &amp;_fileName)</div><div class="ttdoc">Fbxファイルを読み込みする</div><div class="ttdef"><b>Definition:</b> <a href="Fbx_8cpp_source.html#l00028">Fbx.cpp:28</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IComponent_html_a931ae7565817c83a4e3c5f9004c074d5"><div class="ttname"><a href="classmtgb_1_1IComponent.html#a931ae7565817c83a4e3c5f9004c074d5">mtgb::IComponent&lt; TransformCP, Transform &gt;::Get</a></div><div class="ttdeci">static Transform &amp; Get(const EntityId _entityId)</div><div class="ttdef"><b>Definition:</b> <a href="IComponent_8h_source.html#l00027">IComponent.h:62</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a2a4e2d45ea45eef13d543e1cf3396125"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a2a4e2d45ea45eef13d543e1cf3396125">mtgb::TerrainReader::hModelCollider_</a></div><div class="ttdeci">FBXModelHandle hModelCollider_</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00125">TerrainReader.h:125</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a5dd612dd5a1c1d5d7566210dbb6cf02a"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a5dd612dd5a1c1d5d7566210dbb6cf02a">mtgb::TerrainReader::ceilingOffset</a></div><div class="ttdeci">float ceilingOffset</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00122">TerrainReader.h:122</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a630d977f8cb123fe90e5e466f5788fcc"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a630d977f8cb123fe90e5e466f5788fcc">mtgb::TerrainReader::divisions</a></div><div class="ttdeci">int divisions</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00116">TerrainReader.h:116</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a8335d6786da0e00c61a9238803c497ba"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a8335d6786da0e00c61a9238803c497ba">mtgb::TerrainReader::heightScale</a></div><div class="ttdeci">float heightScale</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00110">TerrainReader.h:110</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a859f7df4abc4bb5de350722ea2fa4b0b"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a859f7df4abc4bb5de350722ea2fa4b0b">mtgb::TerrainReader::stageBuffer</a></div><div class="ttdeci">std::vector&lt; StageDataBit &gt; stageBuffer</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00112">TerrainReader.h:112</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a93212e6448fa235a4265567773a84e35"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a93212e6448fa235a4265567773a84e35">mtgb::TerrainReader::highestHeight</a></div><div class="ttdeci">float highestHeight</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00120">TerrainReader.h:120</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_acbbe0e2f72660c4c652de87bb6daf2bd"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">mtgb::TerrainReader::widthScale</a></div><div class="ttdeci">float widthScale</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00111">TerrainReader.h:111</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_aedcfc6a902dccb70b3733dadb250c019"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#aedcfc6a902dccb70b3733dadb250c019">mtgb::TerrainReader::pTransform</a></div><div class="ttdeci">Transform * pTransform</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00124">TerrainReader.h:124</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_aeee34e02c05d383851b8bf9e16a80419"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">mtgb::TerrainReader::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00109">TerrainReader.h:109</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_afbf0194fa82f1aef01bbc1cb531cfd6b"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#afbf0194fa82f1aef01bbc1cb531cfd6b">mtgb::TerrainReader::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00109">TerrainReader.h:109</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Transform_html_aa8373f7a6e81f61498f8ca020a5a5c31"><div class="ttname"><a href="classmtgb_1_1Transform.html#aa8373f7a6e81f61498f8ca020a5a5c31">mtgb::Transform::scale</a></div><div class="ttdeci">Vector3 scale</div><div class="ttdef"><b>Definition:</b> <a href="Transform_8h_source.html#l00161">Transform.h:161</a></div></div>
<div class="ttc" id="anamespacemtgb_html_a33d2d6c57bed7a7d2ed9aa5f5029547c"><div class="ttname"><a href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">mtgb::EntityId</a></div><div class="ttdeci">int64_t EntityId</div><div class="ttdef"><b>Definition:</b> <a href="cmtgb_8h_source.html#l00010">cmtgb.h:10</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="IComponent_8h_source.html#l00062">mtgb::IComponent&lt; TransformCP, Transform &gt;::Get()</a>, <a class="el" href="TerrainReader_8h_source.html#l00109">mtgb::TerrainReader&lt; StageDataBit &gt;::height</a>, <a class="el" href="TerrainReader_8h_source.html#l00125">mtgb::TerrainReader&lt; StageDataBit &gt;::hModelCollider_</a>, <a class="el" href="Fbx_8cpp_source.html#l00028">mtgb::Fbx::Load()</a>, <a class="el" href="TerrainReader_8h_source.html#l00124">mtgb::TerrainReader&lt; StageDataBit &gt;::pTransform</a>, <a class="el" href="Transform_8h_source.html#l00161">mtgb::Transform::scale</a>, <a class="el" href="TerrainReader_8h_source.html#l00112">mtgb::TerrainReader&lt; StageDataBit &gt;::stageBuffer</a>, <a class="el" href="TerrainReader_8h_source.html#l00109">mtgb::TerrainReader&lt; StageDataBit &gt;::width</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader_a4b8960cb85d5a659e7f307de141aded8_cgraph.svg" width="1108" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">関数詳解</h2>
<a id="a80638841979743e23b589b74dc2513e6" name="a80638841979743e23b589b74dc2513e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80638841979743e23b589b74dc2513e6">&#9670;&#160;</a></span>CalculateNormal()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmtgb_1_1Vector3.html">Vector3</a> <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::CalculateNormal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00686">686</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  687</span>    {</div>
<div class="line"><span class="lineno">  688</span>        Vector3 normal = <a class="code hl_function" href="structmtgb_1_1Vector3.html#a2371787a3f946ece7355e27003f0aac5">Vector3::Zero</a>();</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>        <span class="comment">// 周囲の高さから法線を計算</span></div>
<div class="line"><span class="lineno">  691</span>        <span class="comment">// _x,_zが端の場合に配列外参照しないように境界チェックを行う</span></div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordtype">float</span> heightLeft = (_x &gt; 0) ? <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z][_x - 1] : <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z][_x];</div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordtype">float</span> heightRight = (_x &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>) ? <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z][_x + 1] : <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z][_x];</div>
<div class="line"><span class="lineno">  694</span>        <span class="keywordtype">float</span> heightDown = (_z &gt; 0) ? <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z - 1][_x] : <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z][_x];</div>
<div class="line"><span class="lineno">  695</span>        <span class="keywordtype">float</span> heightUp = (_z &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>) ? <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z + 1][_x] : <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[_z][_x];</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>        <span class="comment">// 左右の高低差</span></div>
<div class="line"><span class="lineno">  698</span>        normal.x = heightLeft - heightRight;</div>
<div class="line"><span class="lineno">  699</span>        </div>
<div class="line"><span class="lineno">  700</span>        <span class="comment">// 法線にy方向を向かせる</span></div>
<div class="line"><span class="lineno">  701</span>        normal.y = 2.0f * <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a>;</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>        <span class="comment">// 上下の高低差</span></div>
<div class="line"><span class="lineno">  704</span>        normal.z = heightDown - heightUp;</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="structmtgb_1_1Vector3.html#ae4cb4e8c99cfae50150e86f1f1450acc">Vector3::Normalize</a>(normal);</div>
<div class="line"><span class="lineno">  707</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a24e6c6b34458766d2a5e19d41d144bd5"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">mtgb::TerrainReader::quadtreeHeightMap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; float &gt; &gt; quadtreeHeightMap</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00115">TerrainReader.h:115</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a8e6be0631df8be780dc19d30789e1593"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">mtgb::TerrainReader::cellNum</a></div><div class="ttdeci">int cellNum</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00117">TerrainReader.h:117</a></div></div>
<div class="ttc" id="astructmtgb_1_1Vector3_html_a2371787a3f946ece7355e27003f0aac5"><div class="ttname"><a href="structmtgb_1_1Vector3.html#a2371787a3f946ece7355e27003f0aac5">mtgb::Vector3::Zero</a></div><div class="ttdeci">static auto Zero()</div><div class="ttdoc">零ベクトル</div><div class="ttdef"><b>Definition:</b> <a href="Vector3_8h_source.html#l00059">Vector3.h:59</a></div></div>
<div class="ttc" id="astructmtgb_1_1Vector3_html_ae4cb4e8c99cfae50150e86f1f1450acc"><div class="ttname"><a href="structmtgb_1_1Vector3.html#ae4cb4e8c99cfae50150e86f1f1450acc">mtgb::Vector3::Normalize</a></div><div class="ttdeci">Vector3 &amp; Normalize()</div><div class="ttdef"><b>Definition:</b> <a href="Vector3_8h_source.html#l00053">Vector3.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="Vector3_8h_source.html#l00053">mtgb::Vector3::Normalize()</a>, <a class="el" href="Vector3_8h_source.html#l00059">mtgb::Vector3::Zero()</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader_a80638841979743e23b589b74dc2513e6_cgraph.svg" width="598" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a133c960f2c69ac29251edf26857b9648" name="a133c960f2c69ac29251edf26857b9648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a133c960f2c69ac29251edf26857b9648">&#9670;&#160;</a></span>CellIndexToWorld()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::CellIndexToWorld </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_cellIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>terrainのセルの番号からワールド座標を返す </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_cellIndex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd></dd></dl>

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00381">381</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  382</span>    {</div>
<div class="line"><span class="lineno">  383</span>        <span class="comment">// 境界チェック（頂点数に合わせて0からcellNumまで）</span></div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> (_cellIndex &lt; 0 || _cellIndex &gt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>)</div>
<div class="line"><span class="lineno">  385</span>        {</div>
<div class="line"><span class="lineno">  386</span>            <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><span class="lineno">  387</span>        }</div>
<div class="line"><span class="lineno">  388</span>        <span class="comment">// 原点をグリッドの中央とするオフセット</span></div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordtype">int</span> centerOffset = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> / 2;</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>        <span class="comment">// 中心基準の座標系にしてからワールド座標系に変換</span></div>
<div class="line"><span class="lineno">  392</span>        <span class="keywordflow">return</span> (_cellIndex - centerOffset) * <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a>;</div>
<div class="line"><span class="lineno">  393</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a87b47a711d66ceca6c212b338b3d946f" name="a87b47a711d66ceca6c212b338b3d946f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b47a711d66ceca6c212b338b3d946f">&#9670;&#160;</a></span>CreateTextureMipmap()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::CreateTextureMipmap </td>
          <td>(</td>
          <td class="paramtype">const std::wstring &amp;&#160;</td>
          <td class="paramname"><em>_fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00520">520</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  521</span>    {</div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a610258390bfe25b3af288b6ec028ad9b">pTexture_</a>.<a class="code hl_function" href="classmtgb_1_1Texture2D.html#aff9a90bf2554b43fffcd66942e35f3a8">Load</a>(_fileName);</div>
<div class="line"><span class="lineno">  523</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a610258390bfe25b3af288b6ec028ad9b"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a610258390bfe25b3af288b6ec028ad9b">mtgb::TerrainReader::pTexture_</a></div><div class="ttdeci">Texture2D pTexture_</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00101">TerrainReader.h:101</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Texture2D_html_aff9a90bf2554b43fffcd66942e35f3a8"><div class="ttname"><a href="classmtgb_1_1Texture2D.html#aff9a90bf2554b43fffcd66942e35f3a8">mtgb::Texture2D::Load</a></div><div class="ttdeci">void Load(const std::wstring &amp;_fileName)</div><div class="ttdoc">画像ファイルからテクスチャをロードする</div><div class="ttdef"><b>Definition:</b> <a href="Texture2D_8cpp_source.html#l00021">Texture2D.cpp:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac815823ba32d88817b7bd10b739945d6" name="ac815823ba32d88817b7bd10b739945d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac815823ba32d88817b7bd10b739945d6">&#9670;&#160;</a></span>Draw() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConstantBufferT , typename VertexT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::IShader::Draw </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(ConstantBufferT *)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeConstantBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ID3D11DeviceContext *)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_contextSetterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>_drawIndexCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00081">81</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>    {</div>
<div class="line"><span class="lineno">   86</span>        UINT stride{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">   87</span>        UINT offset{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        stride = <span class="keyword">sizeof</span>(VertexT);</div>
<div class="line"><span class="lineno">   90</span>        offset = 0;</div>
<div class="line"><span class="lineno">   91</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetVertexBuffers(0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>, 1U, <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.GetAddressOf(), &amp;stride, &amp;offset);  <span class="comment">// 頂点バッファをセット</span></div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetIndexBuffer(<a class="code hl_variable" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a>.Get(), DXGI_FORMAT_R32_UINT, 0);  <span class="comment">// インデックスバッファをセット</span></div>
<div class="line"><span class="lineno">   93</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;VSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.GetAddressOf());  <span class="comment">// 頂点シェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">   94</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.GetAddressOf());  <span class="comment">// ピクセルシェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        ConstantBufferT constantBuffer{};</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        _makeConstantBufferCallback(&amp;constantBuffer);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        HRESULT hResult{};</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        <span class="comment">// シェーダに渡すためのデータ</span></div>
<div class="line"><span class="lineno">  103</span>        D3D11_MAPPED_SUBRESOURCE mappedSubresource{};</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>        <span class="comment">// GPUからのデータアクセスをせき止める</span></div>
<div class="line"><span class="lineno">  106</span>        hResult = <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(</div>
<div class="line"><span class="lineno">  107</span>            <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(),</div>
<div class="line"><span class="lineno">  108</span>            NULL,</div>
<div class="line"><span class="lineno">  109</span>            D3D11_MAP_WRITE_DISCARD,</div>
<div class="line"><span class="lineno">  110</span>            NULL,</div>
<div class="line"><span class="lineno">  111</span>            &amp;mappedSubresource);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)  <span class="comment">// GPUデータアクセスせき止めに成功</span></div>
<div class="line"><span class="lineno">  114</span>            &amp;&amp; <span class="stringliteral">&quot;GPUデータアクセスせき止めに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>        <span class="comment">// データ書き込み</span></div>
<div class="line"><span class="lineno">  117</span>        memcpy_s(</div>
<div class="line"><span class="lineno">  118</span>            mappedSubresource.pData,</div>
<div class="line"><span class="lineno">  119</span>            mappedSubresource.RowPitch,</div>
<div class="line"><span class="lineno">  120</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;constantBuffer),</div>
<div class="line"><span class="lineno">  121</span>            <span class="keyword">sizeof</span>(ConstantBufferT));</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>        <span class="comment">// GPUデータアクセスせき止め解除</span></div>
<div class="line"><span class="lineno">  124</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        _contextSetterCallback(<a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>.<a class="code hl_function" href="namespacemtgb_1_1WinCtxRes.html#ab0926fb61d0db1d7c5f68fa830731d9e">Get</a>());</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;DrawIndexed(_drawIndexCount, 0, 0);</div>
<div class="line"><span class="lineno">  129</span>    }</div>
<div class="ttc" id="aInputKeyCode_8h_html_a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb"><div class="ttname"><a href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">KeyCode::U</a></div><div class="ttdeci">@ U</div></div>
<div class="ttc" id="aMTAssert_8h_html_a7de4bc03eec86d2d1319f77ce98a93d7"><div class="ttname"><a href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a></div><div class="ttdeci">#define massert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="MTAssert_8h_source.html#l00009">MTAssert.h:9</a></div></div>
<div class="ttc" id="aclassmtgb_1_1DirectX11Draw_html_acad8126bc4c4a3ab9b2c871cf5dc94d1"><div class="ttname"><a href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">mtgb::DirectX11Draw::pContext_</a></div><div class="ttdeci">static ComPtr&lt; ID3D11DeviceContext &gt; pContext_</div><div class="ttdef"><b>Definition:</b> <a href="DirectX11Draw_8h_source.html#l00141">DirectX11Draw.h:141</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_a1ca0458701c1f244741b2eec2035e529"><div class="ttname"><a href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">mtgb::IShader::pVertexBuffer_</a></div><div class="ttdeci">ComPtr&lt; ID3D11Buffer &gt; pVertexBuffer_</div><div class="ttdoc">カメラの座標系を取得</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8h_source.html#l00075">IShader.h:75</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_aa684283886d8b16b40a26c0f7f9d2c69"><div class="ttname"><a href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">mtgb::IShader::pIndexBuffer_</a></div><div class="ttdeci">ComPtr&lt; ID3D11Buffer &gt; pIndexBuffer_</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8h_source.html#l00076">IShader.h:76</a></div></div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_acfa72729f876f52ada9160eafa3716ac"><div class="ttname"><a href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">mtgb::IShader::pConstantBuffer_</a></div><div class="ttdeci">ComPtr&lt; ID3D11Buffer &gt; pConstantBuffer_</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8h_source.html#l00077">IShader.h:77</a></div></div>
<div class="ttc" id="anamespacemtgb_1_1WinCtxRes_html_ab0926fb61d0db1d7c5f68fa830731d9e"><div class="ttname"><a href="namespacemtgb_1_1WinCtxRes.html#ab0926fb61d0db1d7c5f68fa830731d9e">mtgb::WinCtxRes::Get</a></div><div class="ttdeci">ResourceT &amp; Get(WindowContext ctx)</div><div class="ttdoc">リソースを取得する</div><div class="ttdef"><b>Definition:</b> <a href="WindowContextUtil_8h_source.html#l00022">WindowContextUtil.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>, <a class="el" href="IShader_8h_source.html#l00077">mtgb::IShader::pConstantBuffer_</a>, <a class="el" href="DirectX11Draw_8h_source.html#l00141">mtgb::DirectX11Draw::pContext_</a>, <a class="el" href="IShader_8h_source.html#l00076">mtgb::IShader::pIndexBuffer_</a>, <a class="el" href="IShader_8h_source.html#l00075">mtgb::IShader::pVertexBuffer_</a>, <a class="el" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>.</p>

</div>
</div>
<a id="aac405970a9f1034d8e6e5504c60c34d5" name="aac405970a9f1034d8e6e5504c60c34d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac405970a9f1034d8e6e5504c60c34d5">&#9670;&#160;</a></span>Draw() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConstantBufferT , typename VertexT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::IShader::Draw </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeConstantBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_contextSetterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>_drawIndexCount</em> = <code>6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>シェーダの描画処理(共通) </p>
<dl class="tparams"><dt>テンプレート引数</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ConstantBufferT</td><td>コンスタントバッファの型</td></tr>
    <tr><td class="paramname">VertexT</td><td>頂点の型</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_makeConstantBufferCallback</td><td>コンスタントバッファに入れる用のコールバック関数コールバック関数:(ConstantBufferT* _pCB)-&gt;void</td></tr>
    <tr><td class="paramname">_contextSetterCallback</td><td>コンスタントバッファ送信後のコンテキスト処理のコールバック関数コールバック関数:(ID3D11DeviceContext*)-&gt;void</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a5190b06398850db0a1991fca52aade" name="a3a5190b06398850db0a1991fca52aade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a5190b06398850db0a1991fca52aade">&#9670;&#160;</a></span>Draw() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConstantBufferT , typename VertexT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::IShader::Draw </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(VertexT *_pVertex)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeVertexBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ConstantBufferT *_pConstantBuffer)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_makeConstantBufferCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(ID3D11DeviceContext *_pContext)&gt; &amp;&#160;</td>
          <td class="paramname"><em>_contextSetterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>_drawIndexCount</em> = <code>6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00132">132</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span>    {</div>
<div class="line"><span class="lineno">  138</span>        UINT stride{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">  139</span>        UINT offset{ 0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a> };</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>        stride = <span class="keyword">sizeof</span>(VertexT);</div>
<div class="line"><span class="lineno">  142</span>        offset = 0;</div>
<div class="line"><span class="lineno">  143</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetVertexBuffers(0<a class="code hl_enumvalue" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>, 1U, <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.Get(), &amp;stride, &amp;offset);  <span class="comment">// 頂点バッファをセット</span></div>
<div class="line"><span class="lineno">  144</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;IASetIndexBuffer(<a class="code hl_variable" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a>, DXGI_FORMAT_R32_UINT, 0);  <span class="comment">// インデックスバッファをセット</span></div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;VSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get());  <span class="comment">// 頂点シェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;PSSetConstantBuffers(0, 1, <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get());  <span class="comment">// ピクセルシェーダのコンスタントバッファをセット</span></div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        ConstantBufferT constantBuffer{};</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>        _makeConstantBufferCallback(&amp;constantBuffer);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>        HRESULT hResult{};</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        <span class="comment">// シェーダに渡すためのデータ</span></div>
<div class="line"><span class="lineno">  155</span>        D3D11_MAPPED_SUBRESOURCE mappedSubresource{};</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>        <span class="comment">// GPUからのデータアクセスをせき止める</span></div>
<div class="line"><span class="lineno">  158</span>        hResult = <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(</div>
<div class="line"><span class="lineno">  159</span>            <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(),</div>
<div class="line"><span class="lineno">  160</span>            NULL,</div>
<div class="line"><span class="lineno">  161</span>            D3D11_MAP_WRITE_DISCARD,</div>
<div class="line"><span class="lineno">  162</span>            NULL,</div>
<div class="line"><span class="lineno">  163</span>            &amp;mappedSubresource);</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)  <span class="comment">// GPUデータアクセスせき止めに成功</span></div>
<div class="line"><span class="lineno">  166</span>            &amp;&amp; <span class="stringliteral">&quot;GPUデータアクセスせき止めに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <span class="comment">// データ書き込み</span></div>
<div class="line"><span class="lineno">  169</span>        memcpy_s(</div>
<div class="line"><span class="lineno">  170</span>            mappedSubresource.pData,</div>
<div class="line"><span class="lineno">  171</span>            mappedSubresource.RowPitch,</div>
<div class="line"><span class="lineno">  172</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;constantBuffer),</div>
<div class="line"><span class="lineno">  173</span>            <span class="keyword">sizeof</span>(ConstantBufferT));</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        <span class="comment">// GPUデータアクセスせき止め解除</span></div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>        <span class="comment">// シェーダに渡すためのデータ</span></div>
<div class="line"><span class="lineno">  179</span>        D3D11_MAPPED_SUBRESOURCE mappedSubresource{};</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>        <span class="comment">// GPUからのデータアクセスをせき止める</span></div>
<div class="line"><span class="lineno">  182</span>        hResult = <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Map(</div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(),</div>
<div class="line"><span class="lineno">  184</span>            NULL,</div>
<div class="line"><span class="lineno">  185</span>            D3D11_MAP_WRITE_DISCARD,</div>
<div class="line"><span class="lineno">  186</span>            NULL,</div>
<div class="line"><span class="lineno">  187</span>            &amp;mappedSubresource);</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)  <span class="comment">// GPUデータアクセスせき止めに成功</span></div>
<div class="line"><span class="lineno">  190</span>            &amp;&amp; <span class="stringliteral">&quot;GPUデータアクセスせき止めに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>        <span class="comment">// データ書き込み</span></div>
<div class="line"><span class="lineno">  193</span>        memcpy_s(</div>
<div class="line"><span class="lineno">  194</span>            mappedSubresource.pData,</div>
<div class="line"><span class="lineno">  195</span>            mappedSubresource.RowPitch,</div>
<div class="line"><span class="lineno">  196</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;constantBuffer),</div>
<div class="line"><span class="lineno">  197</span>            <span class="keyword">sizeof</span>(ConstantBufferT));</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        <span class="comment">// GPUデータアクセスせき止め解除</span></div>
<div class="line"><span class="lineno">  200</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;Unmap(<a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Get(), 0);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        _contextSetterCallback(<a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>.<a class="code hl_function" href="namespacemtgb_1_1WinCtxRes.html#ab0926fb61d0db1d7c5f68fa830731d9e">Get</a>());</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>        <a class="code hl_variable" href="classmtgb_1_1DirectX11Draw.html#acad8126bc4c4a3ab9b2c871cf5dc94d1">DirectX11Draw::pContext_</a>-&gt;DrawIndexed(_drawIndexCount, 0, 0);</div>
<div class="line"><span class="lineno">  205</span>    }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>, <a class="el" href="IShader_8h_source.html#l00077">mtgb::IShader::pConstantBuffer_</a>, <a class="el" href="DirectX11Draw_8h_source.html#l00141">mtgb::DirectX11Draw::pContext_</a>, <a class="el" href="IShader_8h_source.html#l00076">mtgb::IShader::pIndexBuffer_</a>, <a class="el" href="IShader_8h_source.html#l00075">mtgb::IShader::pVertexBuffer_</a>, <a class="el" href="InputKeyCode_8h.html#a0607c9301fb39199343f886885e74574a4c614360da93c0a041b22e537de151eb">U</a>.</p>

</div>
</div>
<a id="ab5a2540d28f8d4a02a05f542bb25a065" name="ab5a2540d28f8d4a02a05f542bb25a065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a2540d28f8d4a02a05f542bb25a065">&#9670;&#160;</a></span>DrawTerran()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::DrawTerran</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00526">526</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  527</span>    {</div>
<div class="line"><span class="lineno">  528</span>        </div>
<div class="line"><span class="lineno">  529</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a73a57d9ea996224a62847efb92b8c6f7" name="a73a57d9ea996224a62847efb92b8c6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73a57d9ea996224a62847efb92b8c6f7">&#9670;&#160;</a></span>GenerateNormals()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::GenerateNormals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00673">673</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  674</span>    {</div>
<div class="line"><span class="lineno">  675</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt;= <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; z++)</div>
<div class="line"><span class="lineno">  676</span>        {</div>
<div class="line"><span class="lineno">  677</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt;= <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; x++)</div>
<div class="line"><span class="lineno">  678</span>            {</div>
<div class="line"><span class="lineno">  679</span>                <span class="keywordtype">int</span> index = z * (<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> + 1) + x;</div>
<div class="line"><span class="lineno">  680</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aff512d1fb60bf61d9079d22a322a5810">vertices_</a>[index].normal = <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a80638841979743e23b589b74dc2513e6">CalculateNormal</a>(x, z);</div>
<div class="line"><span class="lineno">  681</span>            }</div>
<div class="line"><span class="lineno">  682</span>        }</div>
<div class="line"><span class="lineno">  683</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a80638841979743e23b589b74dc2513e6"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a80638841979743e23b589b74dc2513e6">mtgb::TerrainReader::CalculateNormal</a></div><div class="ttdeci">Vector3 CalculateNormal(int _x, int _z) const</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00686">TerrainReader.h:686</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_aff512d1fb60bf61d9079d22a322a5810"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#aff512d1fb60bf61d9079d22a322a5810">mtgb::TerrainReader::vertices_</a></div><div class="ttdeci">std::vector&lt; TerrainVertex &gt; vertices_</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00091">TerrainReader.h:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2bd02b3d4e1bbf4b6f6815403a65232" name="ae2bd02b3d4e1bbf4b6f6815403a65232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2bd02b3d4e1bbf4b6f6815403a65232">&#9670;&#160;</a></span>GenerateQuadtreeHeightMap()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::GenerateQuadtreeHeightMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00230">230</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>    {</div>
<div class="line"><span class="lineno">  232</span>        <span class="comment">// 一辺のセル数</span></div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::pow(2, <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a630d977f8cb123fe90e5e466f5788fcc">divisions</a>));</div>
<div class="line"><span class="lineno">  234</span>        <span class="comment">//aabbs.resize(cellNum * cellNum);</span></div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// 元のデータから値を取得する間隔</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="comment">// unityの terrain Dataにはセル数+1の頂点数が入っているので-1する</span></div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordtype">float</span> samplingStep = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#afbf0194fa82f1aef01bbc1cb531cfd6b">width</a> - 1) / (<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>);</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>.resize(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> + 1, std::vector&lt;float&gt;(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> + 1));</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> + 1; y++)</div>
<div class="line"><span class="lineno">  242</span>        {</div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> + 1; x++)</div>
<div class="line"><span class="lineno">  244</span>            {</div>
<div class="line"><span class="lineno">  245</span>                <span class="comment">// 元のデータからサンプリング</span></div>
<div class="line"><span class="lineno">  246</span>                <span class="keywordtype">int</span> sourceX = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(x * samplingStep);</div>
<div class="line"><span class="lineno">  247</span>                <span class="keywordtype">int</span> sourceY = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(y * samplingStep);</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>                <span class="comment">// 境界のチェック</span></div>
<div class="line"><span class="lineno">  250</span>                sourceX = (std::min)(sourceX, <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#afbf0194fa82f1aef01bbc1cb531cfd6b">width</a> - 1);</div>
<div class="line"><span class="lineno">  251</span>                sourceY = (std::min)(sourceY, <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a> - 1);</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>                StageDataBit value = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a859f7df4abc4bb5de350722ea2fa4b0b">stageBuffer</a>[sourceY * <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#afbf0194fa82f1aef01bbc1cb531cfd6b">width</a> + sourceX];</div>
<div class="line"><span class="lineno">  254</span>                <span class="keywordtype">float</span> normalized = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(value) / (std::numeric_limits&lt;StageDataBit&gt;::max)();</div>
<div class="line"><span class="lineno">  255</span>                <span class="keywordtype">float</span> <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a> = normalized * <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8335d6786da0e00c61a9238803c497ba">heightScale</a>;</div>
<div class="line"><span class="lineno">  256</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[y][x] = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a>;</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a93212e6448fa235a4265567773a84e35">highestHeight</a> &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a>)</div>
<div class="line"><span class="lineno">  259</span>                {</div>
<div class="line"><span class="lineno">  260</span>                    <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a93212e6448fa235a4265567773a84e35">highestHeight</a> = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a>;</div>
<div class="line"><span class="lineno">  261</span>                }</div>
<div class="line"><span class="lineno">  262</span>            }</div>
<div class="line"><span class="lineno">  263</span>        }</div>
<div class="line"><span class="lineno">  264</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40311d6c5437dd7ed0b0b9378f1a7fff" name="a40311d6c5437dd7ed0b0b9378f1a7fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40311d6c5437dd7ed0b0b9378f1a7fff">&#9670;&#160;</a></span>GenerateStageBoundaryCollider()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::GenerateStageBoundaryCollider</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ステージの範囲外と範囲内の境界となるコライダーを作成する </p>

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00532">532</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  533</span>    {</div>
<div class="line"><span class="lineno">  534</span>        <span class="keywordtype">float</span> stageMin = <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">CellIndexToWorld</a>(0);</div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordtype">float</span> stageMax = <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">CellIndexToWorld</a>(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> - 1);</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>        </div>
<div class="line"><span class="lineno">  538</span>        <span class="keywordtype">float</span> wallHeight = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a93212e6448fa235a4265567773a84e35">highestHeight</a> + <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a5dd612dd5a1c1d5d7566210dbb6cf02a">ceilingOffset</a>;</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordtype">float</span> wallThickness = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a>;</div>
<div class="line"><span class="lineno">  540</span>        </div>
<div class="line"><span class="lineno">  541</span>        <span class="comment">// +Z方向に位置する壁</span></div>
<div class="line"><span class="lineno">  542</span>        {</div>
<div class="line"><span class="lineno">  543</span>            <a class="code hl_typedef" href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">EntityId</a> <span class="keywordtype">id</span> = Game::System&lt;EntityManager&gt;().CreateEntity();</div>
<div class="line"><span class="lineno">  544</span>            Collider* pCollider = &amp;(Game::System&lt;ColliderCP&gt;().Get(<span class="keywordtype">id</span>, ColliderTag::STAGE_BOUNDARY));</div>
<div class="line"><span class="lineno">  545</span>            pCollider-&gt;colliderType_ = ColliderType::TYPE__AABB;</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>            Vector3 <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a> =</div>
<div class="line"><span class="lineno">  548</span>            {</div>
<div class="line"><span class="lineno">  549</span>                (stageMin + stageMax) / 2.0f,</div>
<div class="line"><span class="lineno">  550</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  551</span>                stageMax + (wallThickness / 2.0f)</div>
<div class="line"><span class="lineno">  552</span>            };</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>            Vector3 extents =</div>
<div class="line"><span class="lineno">  555</span>            {</div>
<div class="line"><span class="lineno">  556</span>                (stageMax - stageMin) / 2.0f,</div>
<div class="line"><span class="lineno">  557</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  558</span>                wallThickness / 2.0f</div>
<div class="line"><span class="lineno">  559</span>            };</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>            pCollider-&gt;isStatic_ = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  562</span>            pCollider-&gt;SetCenter(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a>);</div>
<div class="line"><span class="lineno">  563</span>            pCollider-&gt;SetExtents(extents);</div>
<div class="line"><span class="lineno">  564</span>            <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">aabbs</a>.push_back(pCollider);</div>
<div class="line"><span class="lineno">  565</span>        }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>        <span class="comment">// -Z方向に位置する壁</span></div>
<div class="line"><span class="lineno">  568</span>        {</div>
<div class="line"><span class="lineno">  569</span>            <a class="code hl_typedef" href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">EntityId</a> <span class="keywordtype">id</span> = Game::System&lt;EntityManager&gt;().CreateEntity();</div>
<div class="line"><span class="lineno">  570</span>            Collider* pCollider = &amp;(Game::System&lt;ColliderCP&gt;().Get(<span class="keywordtype">id</span>, ColliderTag::STAGE_BOUNDARY));</div>
<div class="line"><span class="lineno">  571</span>            pCollider-&gt;colliderType_ = ColliderType::TYPE__AABB;</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>            Vector3 <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a> =</div>
<div class="line"><span class="lineno">  574</span>            {</div>
<div class="line"><span class="lineno">  575</span>                (stageMin + stageMax) / 2.0f,</div>
<div class="line"><span class="lineno">  576</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  577</span>                stageMin - (wallThickness / 2.0f)</div>
<div class="line"><span class="lineno">  578</span>            };</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>            Vector3 extents =</div>
<div class="line"><span class="lineno">  581</span>            {</div>
<div class="line"><span class="lineno">  582</span>                (stageMax - stageMin) / 2.0f,</div>
<div class="line"><span class="lineno">  583</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  584</span>                wallThickness / 2.0f</div>
<div class="line"><span class="lineno">  585</span>            };</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>            pCollider-&gt;isStatic_ = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  588</span>            pCollider-&gt;SetCenter(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a>);</div>
<div class="line"><span class="lineno">  589</span>            pCollider-&gt;SetExtents(extents);</div>
<div class="line"><span class="lineno">  590</span>            <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">aabbs</a>.push_back(pCollider);</div>
<div class="line"><span class="lineno">  591</span>        }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>        <span class="comment">// +X方向に位置する壁</span></div>
<div class="line"><span class="lineno">  594</span>        {</div>
<div class="line"><span class="lineno">  595</span>            <a class="code hl_typedef" href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">EntityId</a> <span class="keywordtype">id</span> = Game::System&lt;EntityManager&gt;().CreateEntity();</div>
<div class="line"><span class="lineno">  596</span>            Collider* pCollider = &amp;(Game::System&lt;ColliderCP&gt;().Get(<span class="keywordtype">id</span>, ColliderTag::STAGE_BOUNDARY));</div>
<div class="line"><span class="lineno">  597</span>            pCollider-&gt;colliderType_ = ColliderType::TYPE__AABB;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>            Vector3 <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a> =</div>
<div class="line"><span class="lineno">  600</span>            {</div>
<div class="line"><span class="lineno">  601</span>                stageMax + (wallThickness / 2.0f),</div>
<div class="line"><span class="lineno">  602</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  603</span>                (stageMin + stageMax) / 2.0f</div>
<div class="line"><span class="lineno">  604</span>            };</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>            Vector3 extents =</div>
<div class="line"><span class="lineno">  607</span>            {</div>
<div class="line"><span class="lineno">  608</span>                wallThickness / 2.0f,</div>
<div class="line"><span class="lineno">  609</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  610</span>                (stageMax - stageMin) / 2.0f</div>
<div class="line"><span class="lineno">  611</span>            };</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>            pCollider-&gt;isStatic_ = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  614</span>            pCollider-&gt;SetCenter(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a>);</div>
<div class="line"><span class="lineno">  615</span>            pCollider-&gt;SetExtents(extents);</div>
<div class="line"><span class="lineno">  616</span>            <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">aabbs</a>.push_back(pCollider);</div>
<div class="line"><span class="lineno">  617</span>        }</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>        <span class="comment">// -X方向に位置する壁</span></div>
<div class="line"><span class="lineno">  620</span>        {</div>
<div class="line"><span class="lineno">  621</span>            <a class="code hl_typedef" href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">EntityId</a> <span class="keywordtype">id</span> = Game::System&lt;EntityManager&gt;().CreateEntity();</div>
<div class="line"><span class="lineno">  622</span>            Collider* pCollider = &amp;(Game::System&lt;ColliderCP&gt;().Get(<span class="keywordtype">id</span>, ColliderTag::STAGE_BOUNDARY));</div>
<div class="line"><span class="lineno">  623</span>            pCollider-&gt;colliderType_ = ColliderType::TYPE__AABB;</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>            Vector3 <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a> =</div>
<div class="line"><span class="lineno">  626</span>            {</div>
<div class="line"><span class="lineno">  627</span>                stageMin - (wallThickness / 2.0f),</div>
<div class="line"><span class="lineno">  628</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  629</span>                (stageMin + stageMax) / 2.0f</div>
<div class="line"><span class="lineno">  630</span>            };</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>            Vector3 extents =</div>
<div class="line"><span class="lineno">  633</span>            {</div>
<div class="line"><span class="lineno">  634</span>                wallThickness / 2.0f,</div>
<div class="line"><span class="lineno">  635</span>                wallHeight / 2.0f,</div>
<div class="line"><span class="lineno">  636</span>                (stageMax - stageMin) / 2.0f</div>
<div class="line"><span class="lineno">  637</span>            };</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>            pCollider-&gt;isStatic_ = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  640</span>            pCollider-&gt;SetCenter(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a>);</div>
<div class="line"><span class="lineno">  641</span>            pCollider-&gt;SetExtents(extents);</div>
<div class="line"><span class="lineno">  642</span>            <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">aabbs</a>.push_back(pCollider);</div>
<div class="line"><span class="lineno">  643</span>        }</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>        <span class="comment">// +Y方向に位置する壁(天井)</span></div>
<div class="line"><span class="lineno">  646</span>        {</div>
<div class="line"><span class="lineno">  647</span>            <a class="code hl_typedef" href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">EntityId</a> <span class="keywordtype">id</span> = Game::System&lt;EntityManager&gt;().CreateEntity();</div>
<div class="line"><span class="lineno">  648</span>            Collider* pCollider = &amp;(Game::System&lt;ColliderCP&gt;().Get(<span class="keywordtype">id</span>, ColliderTag::STAGE_BOUNDARY));</div>
<div class="line"><span class="lineno">  649</span>            pCollider-&gt;colliderType_ = ColliderType::TYPE__AABB;</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>            Vector3 <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a> =</div>
<div class="line"><span class="lineno">  652</span>            {</div>
<div class="line"><span class="lineno">  653</span>                (stageMin + stageMax) / 2.0f,</div>
<div class="line"><span class="lineno">  654</span>                wallHeight + (wallThickness / 2.0f),</div>
<div class="line"><span class="lineno">  655</span>                (stageMin + stageMax) / 2.0f</div>
<div class="line"><span class="lineno">  656</span>            };</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>            Vector3 extents =</div>
<div class="line"><span class="lineno">  659</span>            {</div>
<div class="line"><span class="lineno">  660</span>                (stageMax - stageMin) / 2.0f,</div>
<div class="line"><span class="lineno">  661</span>                wallThickness / 2.0f,</div>
<div class="line"><span class="lineno">  662</span>                (stageMax - stageMin) / 2.0f</div>
<div class="line"><span class="lineno">  663</span>            };</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>            pCollider-&gt;isStatic_ = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  666</span>            pCollider-&gt;SetCenter(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a>);</div>
<div class="line"><span class="lineno">  667</span>            pCollider-&gt;SetExtents(extents);</div>
<div class="line"><span class="lineno">  668</span>            <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">aabbs</a>.push_back(pCollider);</div>
<div class="line"><span class="lineno">  669</span>        }</div>
<div class="line"><span class="lineno">  670</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a133c960f2c69ac29251edf26857b9648"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">mtgb::TerrainReader::CellIndexToWorld</a></div><div class="ttdeci">float CellIndexToWorld(int _cellIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00381">TerrainReader.h:381</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a1802c8dc2d5ea3055b0074f232c47342"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">mtgb::TerrainReader::aabbs</a></div><div class="ttdeci">std::vector&lt; Collider * &gt; aabbs</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00114">TerrainReader.h:114</a></div></div>
<div class="ttc" id="anamespacemtgb_html_aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667"><div class="ttname"><a href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">mtgb::TextAlignment::center</a></div><div class="ttdeci">@ center</div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">mtgb::center</a>, <a class="el" href="Collider_8h_source.html#l00087">mtgb::Collider::colliderType_</a>, <a class="el" href="Collider_8h_source.html#l00090">mtgb::Collider::isStatic_</a>, <a class="el" href="Collider_8cpp_source.html#l00273">mtgb::Collider::SetCenter()</a>, <a class="el" href="Collider_8cpp_source.html#l00286">mtgb::Collider::SetExtents()</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader_a40311d6c5437dd7ed0b0b9378f1a7fff_cgraph.svg" width="490" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad0cb5f981330b1880493835f5aa591bc" name="ad0cb5f981330b1880493835f5aa591bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0cb5f981330b1880493835f5aa591bc">&#9670;&#160;</a></span>GenerateTerrainAABBs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::GenerateTerrainAABBs </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classmtgb_1_1Collider.html">Collider</a> * &gt; *&#160;</td>
          <td class="paramname"><em>_aabbs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00267">267</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>    {</div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; z++)</div>
<div class="line"><span class="lineno">  270</span>        {</div>
<div class="line"><span class="lineno">  271</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; x++)</div>
<div class="line"><span class="lineno">  272</span>            {</div>
<div class="line"><span class="lineno">  273</span>                <span class="comment">// 左上</span></div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">topLeft</a> = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z][x];</div>
<div class="line"><span class="lineno">  275</span>                <span class="comment">// 右上</span></div>
<div class="line"><span class="lineno">  276</span>                <span class="keywordtype">float</span> topRight = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z][x + 1];</div>
<div class="line"><span class="lineno">  277</span>                <span class="comment">// 左下</span></div>
<div class="line"><span class="lineno">  278</span>                <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a> = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z + 1][x];</div>
<div class="line"><span class="lineno">  279</span>                <span class="comment">// 右下</span></div>
<div class="line"><span class="lineno">  280</span>                <span class="keywordtype">float</span> bottomRight = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z + 1][x + 1];</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  284</span>                <span class="comment">//float minHeight = (std::min)({ topLeft,topRight,bottomLeft,bottomRight });</span></div>
<div class="line"><span class="lineno">  285</span>                <span class="keywordtype">float</span> maxHeight = (std::max)({ <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">topLeft</a>,topRight,<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a>,bottomRight });</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>                <span class="keywordtype">float</span> <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a> = maxHeight;</div>
<div class="line"><span class="lineno">  288</span>                <span class="comment">//float height = GetHeightAt(x, z);</span></div>
<div class="line"><span class="lineno">  289</span>                <span class="comment">// ワールド座標系に変換</span></div>
<div class="line"><span class="lineno">  290</span>                </div>
<div class="line"><span class="lineno">  291</span>                Vector3 cellWorldPos = { <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">CellIndexToWorld</a>(x), <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a>, <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">CellIndexToWorld</a>(z) };</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>                Vector3 extents = { <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a> / 2.0f, <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aeee34e02c05d383851b8bf9e16a80419">height</a> / 2.0f,<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a> / 2.0f };</div>
<div class="line"><span class="lineno">  294</span>                Vector3 <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a> = cellWorldPos - extents;</div>
<div class="line"><span class="lineno">  295</span>                <span class="comment">//_aabbs-&gt;emplace_back(center, extents);</span></div>
<div class="line"><span class="lineno">  296</span>                </div>
<div class="line"><span class="lineno">  297</span>                <a class="code hl_typedef" href="namespacemtgb.html#a33d2d6c57bed7a7d2ed9aa5f5029547c">EntityId</a> terrainCellId = Game::System&lt;EntityManager&gt;().CreateEntity();</div>
<div class="line"><span class="lineno">  298</span>                <span class="comment">// 静的なコライダー</span></div>
<div class="line"><span class="lineno">  299</span>                Collider* pCollider = &amp;(Game::System&lt;ColliderCP&gt;().Get(terrainCellId,ColliderTag::STAGE));</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>                pCollider-&gt;isStatic_ = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  302</span>                pCollider-&gt;colliderType_ = ColliderType::ColliderType::TYPE_AABB;</div>
<div class="line"><span class="lineno">  303</span>                pCollider-&gt;SetCenter(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">center</a>);</div>
<div class="line"><span class="lineno">  304</span>                pCollider-&gt;SetExtents(extents);</div>
<div class="line"><span class="lineno">  305</span>                _aabbs-&gt;push_back(pCollider);</div>
<div class="line"><span class="lineno">  306</span>            }</div>
<div class="line"><span class="lineno">  307</span>        }</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="ttc" id="anamespacemtgb_html_aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22"><div class="ttname"><a href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">mtgb::TextAlignment::bottomLeft</a></div><div class="ttdeci">@ bottomLeft</div></div>
<div class="ttc" id="anamespacemtgb_html_aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878"><div class="ttname"><a href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">mtgb::TextAlignment::topLeft</a></div><div class="ttdeci">@ topLeft</div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">mtgb::bottomLeft</a>, <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaaadb115059e28d960fa8badfac5516667">mtgb::center</a>, <a class="el" href="Collider_8h_source.html#l00087">mtgb::Collider::colliderType_</a>, <a class="el" href="Collider_8h_source.html#l00090">mtgb::Collider::isStatic_</a>, <a class="el" href="Collider_8cpp_source.html#l00273">mtgb::Collider::SetCenter()</a>, <a class="el" href="Collider_8cpp_source.html#l00286">mtgb::Collider::SetExtents()</a>, <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">mtgb::topLeft</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader_ad0cb5f981330b1880493835f5aa591bc_cgraph.svg" width="428" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a909efb5dd43dd80cadb504f27b91b8a0" name="a909efb5dd43dd80cadb504f27b91b8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a909efb5dd43dd80cadb504f27b91b8a0">&#9670;&#160;</a></span>GenerateTerrainMesh()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::GenerateTerrainMesh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00396">396</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  397</span>    {</div>
<div class="line"><span class="lineno">  398</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aff512d1fb60bf61d9079d22a322a5810">vertices_</a>.clear();</div>
<div class="line"><span class="lineno">  399</span>        <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.clear();</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>        <span class="comment">// 頂点生成のみ</span></div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt;= <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; z++)</div>
<div class="line"><span class="lineno">  403</span>        {</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt;= <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; x++)</div>
<div class="line"><span class="lineno">  405</span>            {</div>
<div class="line"><span class="lineno">  406</span>                TerrainVertex vertex;</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>                <span class="comment">// 位置</span></div>
<div class="line"><span class="lineno">  409</span>                vertex.position.x = <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">CellIndexToWorld</a>(x);</div>
<div class="line"><span class="lineno">  410</span>                vertex.position.y = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z][x];  </div>
<div class="line"><span class="lineno">  411</span>                vertex.position.z = <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a133c960f2c69ac29251edf26857b9648">CellIndexToWorld</a>(z);</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>                <span class="comment">// UV座標 (0.0～1.0)</span></div>
<div class="line"><span class="lineno">  414</span>                vertex.uv.x = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) / <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>;</div>
<div class="line"><span class="lineno">  415</span>                vertex.uv.y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(z) / <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>;</div>
<div class="line"><span class="lineno">  416</span>                </div>
<div class="line"><span class="lineno">  417</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aff512d1fb60bf61d9079d22a322a5810">vertices_</a>.push_back(vertex);</div>
<div class="line"><span class="lineno">  418</span>            }</div>
<div class="line"><span class="lineno">  419</span>        }</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        <span class="comment">// インデックス生成（ポリゴン単位）</span></div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; z++)  <span class="comment">// cellNum-1まで（ポリゴン数）</span></div>
<div class="line"><span class="lineno">  423</span>        {</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>; x++)  <span class="comment">// cellNum-1まで（ポリゴン数）</span></div>
<div class="line"><span class="lineno">  425</span>            {</div>
<div class="line"><span class="lineno">  426</span>                <span class="comment">// 四角形の4つの頂点インデックス</span></div>
<div class="line"><span class="lineno">  427</span>                <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">topLeft</a> = z * (<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> + 1) + x;</div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordtype">int</span> topRight = <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">topLeft</a> + 1;</div>
<div class="line"><span class="lineno">  429</span>                <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a> = (z + 1) * (<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> + 1) + x;</div>
<div class="line"><span class="lineno">  430</span>                <span class="keywordtype">int</span> bottomRight = <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a> + 1;</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>                <span class="comment">// 一つ目の三角形 (時計回り)</span></div>
<div class="line"><span class="lineno">  433</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.push_back(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">topLeft</a>);</div>
<div class="line"><span class="lineno">  434</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.push_back(topRight);</div>
<div class="line"><span class="lineno">  435</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.push_back(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a>);</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>                <span class="comment">// 二つ目の三角形 (時計回り)</span></div>
<div class="line"><span class="lineno">  438</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.push_back(topRight);</div>
<div class="line"><span class="lineno">  439</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.push_back(bottomRight);</div>
<div class="line"><span class="lineno">  440</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.push_back(<a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a>);</div>
<div class="line"><span class="lineno">  441</span>            }</div>
<div class="line"><span class="lineno">  442</span>        }</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>        <span class="comment">// 法線計算</span></div>
<div class="line"><span class="lineno">  445</span>        <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a73a57d9ea996224a62847efb92b8c6f7">GenerateNormals</a>();</div>
<div class="line"><span class="lineno">  446</span>        </div>
<div class="line"><span class="lineno">  447</span>        </div>
<div class="line"><span class="lineno">  448</span>        </div>
<div class="line"><span class="lineno">  449</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a3c8adadc18d89ff05ed48b7725c28b9f"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">mtgb::TerrainReader::indices_</a></div><div class="ttdeci">std::vector&lt; DWORD &gt; indices_</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00092">TerrainReader.h:92</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a73a57d9ea996224a62847efb92b8c6f7"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a73a57d9ea996224a62847efb92b8c6f7">mtgb::TerrainReader::GenerateNormals</a></div><div class="ttdeci">void GenerateNormals()</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00673">TerrainReader.h:673</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">mtgb::bottomLeft</a>, <a class="el" href="TerrainReader_8h_source.html#l00039">mtgb::TerrainVertex::position</a>, <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">mtgb::topLeft</a>, <a class="el" href="TerrainReader_8h_source.html#l00041">mtgb::TerrainVertex::uv</a>.</p>

</div>
</div>
<a id="a530ca431abd5e2cc8cf2607326e28774" name="a530ca431abd5e2cc8cf2607326e28774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a530ca431abd5e2cc8cf2607326e28774">&#9670;&#160;</a></span>GetHeightAt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::GetHeightAt </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00190">190</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>    {</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordtype">float</span> mapX = <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a822e23c781ca9754de8de3dd191fae43">WorldToCellIndex</a>(x);</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordtype">float</span> mapZ = <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a822e23c781ca9754de8de3dd191fae43">WorldToCellIndex</a>(z);</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>        <span class="comment">// 境界チェック</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> (mapX &lt; 0 || mapZ &lt; 0)</div>
<div class="line"><span class="lineno">  197</span>        {</div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><span class="lineno">  199</span>        }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>        </div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordtype">int</span> x0 = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(mapX);</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordtype">int</span> z0 = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(mapZ);</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordtype">int</span> x1 = x0 + 1;</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordtype">int</span> z1 = z0 + 1;</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>        <span class="comment">// セル内のローカル座標</span></div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordtype">float</span> localX = mapX - x0;</div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordtype">float</span> localY = mapZ - z0;</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>        <span class="comment">// 左上</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">topLeft</a> = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z0][x0];</div>
<div class="line"><span class="lineno">  213</span>        <span class="comment">// 右上</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordtype">float</span> topRight = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z0][x1];</div>
<div class="line"><span class="lineno">  215</span>        <span class="comment">// 左下</span></div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a> = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z1][x0];</div>
<div class="line"><span class="lineno">  217</span>        <span class="comment">// 右下</span></div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordtype">float</span> bottomRight = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a24e6c6b34458766d2a5e19d41d144bd5">quadtreeHeightMap</a>[z1][x1];</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>        <span class="comment">// x方向で線形補間</span></div>
<div class="line"><span class="lineno">  221</span>        <span class="comment">// (1-t) * A + t * B</span></div>
<div class="line"><span class="lineno">  222</span>        <span class="keywordtype">float</span> top = (1 - localX) * <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">topLeft</a> + topRight * localX;</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordtype">float</span> bottom = (1 - localX) * <a class="code hl_enumvalue" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">bottomLeft</a> + bottomRight * localX;</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>        <span class="comment">// y方向で線形補間</span></div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">return</span> (1 - localY) * top + bottom * localY;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a822e23c781ca9754de8de3dd191fae43"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a822e23c781ca9754de8de3dd191fae43">mtgb::TerrainReader::WorldToCellIndex</a></div><div class="ttdeci">int WorldToCellIndex(float _point) const</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00355">TerrainReader.h:355</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa5d42a1b01d408cdd65bb03d50fa0dd22">mtgb::bottomLeft</a>, <a class="el" href="namespacemtgb.html#aaa050496bbbdc66aee7c9aeb96d51dbaa79ad18f72445fe00af22637f175bf878">mtgb::topLeft</a>.</p>

</div>
</div>
<a id="adbfe923f4bd60515b1ccc7fb56c963de" name="adbfe923f4bd60515b1ccc7fb56c963de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbfe923f4bd60515b1ccc7fb56c963de">&#9670;&#160;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::Initialize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>シェーダの初期化処理 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#add59a2eace0eecf37919bb05a769dc7b">mtgb::IShader</a>を再実装しています。</p>

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00174">174</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  175</span>    {</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a87b47a711d66ceca6c212b338b3d946f">CreateTextureMipmap</a>(<a class="code hl_function" href="namespacemtgb.html#a617eca76bf9fafbeec11995aa89bedc9">ToWString</a>(std::string{ <span class="stringliteral">&quot;Image/Dirt.png&quot;</span> }));</div>
<div class="line"><span class="lineno">  177</span>        <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a0a48fda36fcc5e7d07b720128da365f3">ReadTerrain</a>(<span class="stringliteral">&quot;terrain.raw&quot;</span>);</div>
<div class="line"><span class="lineno">  178</span>        <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#ae2bd02b3d4e1bbf4b6f6815403a65232">GenerateQuadtreeHeightMap</a>();</div>
<div class="line"><span class="lineno">  179</span>        <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a40311d6c5437dd7ed0b0b9378f1a7fff">GenerateStageBoundaryCollider</a>();</div>
<div class="line"><span class="lineno">  180</span>        <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#ad0cb5f981330b1880493835f5aa591bc">GenerateTerrainAABBs</a>(&amp;<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a1802c8dc2d5ea3055b0074f232c47342">aabbs</a>);</div>
<div class="line"><span class="lineno">  181</span>        <a class="code hl_function" href="classmtgb_1_1TerrainReader.html#a909efb5dd43dd80cadb504f27b91b8a0">GenerateTerrainMesh</a>();</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>        <a class="code hl_function" href="classmtgb_1_1IShader.html#add59a2eace0eecf37919bb05a769dc7b">IShader::Initialize</a>();</div>
<div class="line"><span class="lineno">  184</span>        </div>
<div class="line"><span class="lineno">  185</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1IShader_html_add59a2eace0eecf37919bb05a769dc7b"><div class="ttname"><a href="classmtgb_1_1IShader.html#add59a2eace0eecf37919bb05a769dc7b">mtgb::IShader::Initialize</a></div><div class="ttdeci">virtual void Initialize()</div><div class="ttdoc">シェーダの初期化処理</div><div class="ttdef"><b>Definition:</b> <a href="IShader_8cpp_source.html#l00014">IShader.cpp:14</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a0a48fda36fcc5e7d07b720128da365f3"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a0a48fda36fcc5e7d07b720128da365f3">mtgb::TerrainReader::ReadTerrain</a></div><div class="ttdeci">void ReadTerrain(const char *fileName)</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00151">TerrainReader.h:151</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a40311d6c5437dd7ed0b0b9378f1a7fff"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a40311d6c5437dd7ed0b0b9378f1a7fff">mtgb::TerrainReader::GenerateStageBoundaryCollider</a></div><div class="ttdeci">void GenerateStageBoundaryCollider()</div><div class="ttdoc">ステージの範囲外と範囲内の境界となるコライダーを作成する</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00532">TerrainReader.h:532</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a87b47a711d66ceca6c212b338b3d946f"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a87b47a711d66ceca6c212b338b3d946f">mtgb::TerrainReader::CreateTextureMipmap</a></div><div class="ttdeci">void CreateTextureMipmap(const std::wstring &amp;_fileName)</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00520">TerrainReader.h:520</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_a909efb5dd43dd80cadb504f27b91b8a0"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#a909efb5dd43dd80cadb504f27b91b8a0">mtgb::TerrainReader::GenerateTerrainMesh</a></div><div class="ttdeci">void GenerateTerrainMesh()</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00396">TerrainReader.h:396</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_ad0cb5f981330b1880493835f5aa591bc"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#ad0cb5f981330b1880493835f5aa591bc">mtgb::TerrainReader::GenerateTerrainAABBs</a></div><div class="ttdeci">void GenerateTerrainAABBs(std::vector&lt; Collider * &gt; *_aabbs)</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00267">TerrainReader.h:267</a></div></div>
<div class="ttc" id="aclassmtgb_1_1TerrainReader_html_ae2bd02b3d4e1bbf4b6f6815403a65232"><div class="ttname"><a href="classmtgb_1_1TerrainReader.html#ae2bd02b3d4e1bbf4b6f6815403a65232">mtgb::TerrainReader::GenerateQuadtreeHeightMap</a></div><div class="ttdeci">void GenerateQuadtreeHeightMap()</div><div class="ttdef"><b>Definition:</b> <a href="TerrainReader_8h_source.html#l00230">TerrainReader.h:230</a></div></div>
<div class="ttc" id="anamespacemtgb_html_a617eca76bf9fafbeec11995aa89bedc9"><div class="ttname"><a href="namespacemtgb.html#a617eca76bf9fafbeec11995aa89bedc9">mtgb::ToWString</a></div><div class="ttdeci">std::wstring ToWString(const std::string &amp;_string)</div><div class="ttdoc">ワイド文字列に変換する</div><div class="ttdef"><b>Definition:</b> <a href="MTStringUtility_8h_source.html#l00027">MTStringUtility.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="IShader_8cpp_source.html#l00014">mtgb::IShader::Initialize()</a>, <a class="el" href="MTStringUtility_8h_source.html#l00027">mtgb::ToWString()</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader_adbfe923f4bd60515b1ccc7fb56c963de_cgraph.svg" width="391" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7f4fa3a5833d4caae5ef8751c2efd871" name="a7f4fa3a5833d4caae5ef8751c2efd871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f4fa3a5833d4caae5ef8751c2efd871">&#9670;&#160;</a></span>InitializeConstantBuffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::InitializeConstantBuffer </td>
          <td>(</td>
          <td class="paramtype">ID3D11Device *&#160;</td>
          <td class="paramname"><em>_pDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>コンスタントバッファの初期化 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#a2efd5e58741a637cfbfc20c88584a802">mtgb::IShader</a>を実装しています。</p>

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00497">497</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  498</span>    {</div>
<div class="line"><span class="lineno">  499</span>        D3D11_BUFFER_DESC bufferDesc =</div>
<div class="line"><span class="lineno">  500</span>        {</div>
<div class="line"><span class="lineno">  501</span>            .ByteWidth = <span class="keyword">sizeof</span>(TerrainConstantBuffer),</div>
<div class="line"><span class="lineno">  502</span>            .Usage = D3D11_USAGE_DYNAMIC,</div>
<div class="line"><span class="lineno">  503</span>            .BindFlags = D3D11_BIND_CONSTANT_BUFFER,</div>
<div class="line"><span class="lineno">  504</span>            .CPUAccessFlags = D3D11_CPU_ACCESS_WRITE</div>
<div class="line"><span class="lineno">  505</span>        };</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>        HRESULT hResult = _pDevice-&gt;CreateBuffer(</div>
<div class="line"><span class="lineno">  508</span>            &amp;bufferDesc,</div>
<div class="line"><span class="lineno">  509</span>            <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  510</span>            <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.ReleaseAndGetAddressOf()</div>
<div class="line"><span class="lineno">  511</span>        );</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult)</div>
<div class="line"><span class="lineno">  514</span>            &amp;&amp; <span class="stringliteral">&quot;コンスタントバッファの作成に失敗 @FbxParts::InitializeConstantBuffer&quot;</span>);</div>
<div class="line"><span class="lineno">  515</span>    }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>.</p>

</div>
</div>
<a id="a13b6e1fbf5498c24104a1f4b4d77ef04" name="a13b6e1fbf5498c24104a1f4b4d77ef04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b6e1fbf5498c24104a1f4b4d77ef04">&#9670;&#160;</a></span>InitializeIndexBuffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::InitializeIndexBuffer </td>
          <td>(</td>
          <td class="paramtype">ID3D11Device *&#160;</td>
          <td class="paramname"><em>_pDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>インデックスバッファの初期化 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#a93078eb9d027567e1071224e104f954a">mtgb::IShader</a>を実装しています。</p>

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00474">474</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  475</span>    {</div>
<div class="line"><span class="lineno">  476</span>        D3D11_BUFFER_DESC bufferDesc =</div>
<div class="line"><span class="lineno">  477</span>        {</div>
<div class="line"><span class="lineno">  478</span>            .ByteWidth = <span class="keyword">static_cast&lt;</span>UINT<span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(DWORD) * <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.size()),</div>
<div class="line"><span class="lineno">  479</span>            .Usage = D3D11_USAGE_DEFAULT,</div>
<div class="line"><span class="lineno">  480</span>            .BindFlags = D3D11_BIND_INDEX_BUFFER,</div>
<div class="line"><span class="lineno">  481</span>            .CPUAccessFlags = 0</div>
<div class="line"><span class="lineno">  482</span>        };</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>        D3D11_SUBRESOURCE_DATA initData =</div>
<div class="line"><span class="lineno">  485</span>        {</div>
<div class="line"><span class="lineno">  486</span>            .pSysMem = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.data()</div>
<div class="line"><span class="lineno">  487</span>        };</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>        HRESULT hResult = _pDevice-&gt;CreateBuffer(</div>
<div class="line"><span class="lineno">  490</span>            &amp;bufferDesc, &amp;initData, &amp;<a class="code hl_variable" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a></div>
<div class="line"><span class="lineno">  491</span>        );</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult) &amp;&amp; <span class="stringliteral">&quot;インデックスバッファの作成に失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  494</span>    }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>.</p>

</div>
</div>
<a id="af3cd1de4d5a729c1853e541a4edd2b6c" name="af3cd1de4d5a729c1853e541a4edd2b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cd1de4d5a729c1853e541a4edd2b6c">&#9670;&#160;</a></span>InitializeVertexBuffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::InitializeVertexBuffer </td>
          <td>(</td>
          <td class="paramtype">ID3D11Device *&#160;</td>
          <td class="paramname"><em>_pDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>頂点バッファの初期化 </p>

<p><a class="el" href="classmtgb_1_1IShader.html#ac138fa61a4127f0db4e15ac0b40608ea">mtgb::IShader</a>を実装しています。</p>

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00452">452</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  453</span>    {</div>
<div class="line"><span class="lineno">  454</span>        D3D11_BUFFER_DESC bufferDesc =</div>
<div class="line"><span class="lineno">  455</span>        {</div>
<div class="line"><span class="lineno">  456</span>            .ByteWidth = <span class="keyword">static_cast&lt;</span>UINT<span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(TerrainVertex) * <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aff512d1fb60bf61d9079d22a322a5810">vertices_</a>.size()),</div>
<div class="line"><span class="lineno">  457</span>            .Usage = D3D11_USAGE_DEFAULT,</div>
<div class="line"><span class="lineno">  458</span>            .BindFlags = D3D11_BIND_VERTEX_BUFFER,</div>
<div class="line"><span class="lineno">  459</span>            .CPUAccessFlags = 0,</div>
<div class="line"><span class="lineno">  460</span>        };</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>        D3D11_SUBRESOURCE_DATA initData =</div>
<div class="line"><span class="lineno">  463</span>        {</div>
<div class="line"><span class="lineno">  464</span>            .pSysMem = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aff512d1fb60bf61d9079d22a322a5810">vertices_</a>.data()</div>
<div class="line"><span class="lineno">  465</span>        };</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>        HRESULT hResult = _pDevice-&gt;CreateBuffer(</div>
<div class="line"><span class="lineno">  468</span>            &amp;bufferDesc, &amp;initData, &amp;<a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>);</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(SUCCEEDED(hResult) &amp;&amp; <span class="stringliteral">&quot;頂点バッファの作成に失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  471</span>    }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>.</p>

</div>
</div>
<a id="a0a48fda36fcc5e7d07b720128da365f3" name="a0a48fda36fcc5e7d07b720128da365f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a48fda36fcc5e7d07b720128da365f3">&#9670;&#160;</a></span>ReadTerrain()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::ReadTerrain </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00151">151</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  152</span>    {</div>
<div class="line"><span class="lineno">  153</span>        <span class="comment">// ファイルをバイナリファイルとして読み込む</span></div>
<div class="line"><span class="lineno">  154</span>        std::ifstream file(fileName, std::ios::binary);</div>
<div class="line"><span class="lineno">  155</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(file &amp;&amp; <span class="stringliteral">&quot;バイナリファイルの読み込みに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>        file.read(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a859f7df4abc4bb5de350722ea2fa4b0b">stageBuffer</a>.data()), <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a859f7df4abc4bb5de350722ea2fa4b0b">stageBuffer</a>.size() * <span class="keyword">sizeof</span>(StageDataBit));</div>
<div class="line"><span class="lineno">  158</span>        <a class="code hl_define" href="MTAssert_8h.html#a7de4bc03eec86d2d1319f77ce98a93d7">massert</a>(file &amp;&amp; <span class="stringliteral">&quot;16bitバイナリファイルの読み込みに失敗&quot;</span>);</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        <span class="comment">/*for (int y = 0; y &lt; height; y++)</span></div>
<div class="line"><span class="lineno">  161</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno">  162</span><span class="comment">            for (int x = 0; x &lt; width; x++)</span></div>
<div class="line"><span class="lineno">  163</span><span class="comment">            {</span></div>
<div class="line"><span class="lineno">  164</span><span class="comment">                StageDataBit value = stageBuffer[y * width + x];</span></div>
<div class="line"><span class="lineno">  165</span><span class="comment">                float normalized = static_cast&lt;float&gt;(value) / (std::numeric_limits&lt;StageDataBit&gt;::max)();</span></div>
<div class="line"><span class="lineno">  166</span><span class="comment">                stageData[y][x] = normalized * heightScale;</span></div>
<div class="line"><span class="lineno">  167</span><span class="comment">            }</span></div>
<div class="line"><span class="lineno">  168</span><span class="comment">        }*/</span></div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>        </div>
<div class="line"><span class="lineno">  171</span>    }</div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="MTAssert_8h_source.html#l00009">massert</a>.</p>

</div>
</div>
<a id="a36db64430ae252fe0278b5be3849c506" name="a36db64430ae252fe0278b5be3849c506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36db64430ae252fe0278b5be3849c506">&#9670;&#160;</a></span>Release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtgb::IShader::Release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classmtgb_1_1FbxParts.html#a2ebacdb10f1a362d0cc2c2e51d2b6548">mtgb::FbxParts</a>, <a class="el" href="classmtgb_1_1Ground.html#a343fc25025587146515bb43226f7ab9f">mtgb::Ground</a>で再実装されています。</p>

<p class="definition"> <a class="el" href="IShader_8cpp_source.html">IShader.cpp</a> の <a class="el" href="IShader_8cpp_source.html#l00021">21</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>{</div>
<div class="line"><span class="lineno">   23</span>    <a class="code hl_variable" href="classmtgb_1_1IShader.html#a1ca0458701c1f244741b2eec2035e529">pVertexBuffer_</a>.Reset();</div>
<div class="line"><span class="lineno">   24</span>    <a class="code hl_variable" href="classmtgb_1_1IShader.html#aa684283886d8b16b40a26c0f7f9d2c69">pIndexBuffer_</a>.Reset();</div>
<div class="line"><span class="lineno">   25</span>    <a class="code hl_variable" href="classmtgb_1_1IShader.html#acfa72729f876f52ada9160eafa3716ac">pConstantBuffer_</a>.Reset();</div>
<div class="line"><span class="lineno">   26</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af83680f408b54e315344688484bce287" name="af83680f408b54e315344688484bce287"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af83680f408b54e315344688484bce287">&#9670;&#160;</a></span>TestDraw()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::TestDraw</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00311">311</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>    {</div>
<div class="line"><span class="lineno">  313</span>        <a class="code hl_function" href="classmtgb_1_1DirectX11Draw.html#a80c3f65ad5458eebc5095d6520d85510">DirectX11Draw::SetIsWriteToDepthBuffer</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  314</span>        <a class="code hl_function" href="classmtgb_1_1DirectX11Draw.html#a8969f8c1b58ab3718d78be65ba3d7a7a">DirectX11Draw::SetBlendMode</a>(<a class="code hl_enumvalue" href="namespacemtgb.html#aead6ef9b5b93082fb6419e3d5676e748a7a1920d61156abc05a60135aefe8bc67">BlendMode::Default</a>);</div>
<div class="line"><span class="lineno">  315</span>        <a class="code hl_function" href="classmtgb_1_1Draw.html#a972e48a671d7610a2a71b8ae76339cf7">Draw::CheckSetShader</a>(<a class="code hl_enumvalue" href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fda4ccfea7a25fae3c1d31555f0856d2b42">ShaderType::Terrain</a>);</div>
<div class="line"><span class="lineno">  316</span>        </div>
<div class="line"><span class="lineno">  317</span>        ID3D11ShaderResourceView* pSRV = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a610258390bfe25b3af288b6ec028ad9b">pTexture_</a>.<a class="code hl_function" href="classmtgb_1_1Texture2D.html#a2c6ff8d54cdc2b032c0b36a1d8dac342">GetShaderResourceView</a>();</div>
<div class="line"><span class="lineno">  318</span>        ID3D11SamplerState* pSampler = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a610258390bfe25b3af288b6ec028ad9b">pTexture_</a>.<a class="code hl_function" href="classmtgb_1_1Texture2D.html#a5da7e1bf04b285da9c8211f154fe6ce6">GetSamplerState</a>();</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        IShader::Draw&lt;TerrainConstantBuffer, TerrainVertex&gt;(</div>
<div class="line"><span class="lineno">  321</span>            <span class="comment">// コンスタントバッファ書き込み</span></div>
<div class="line"><span class="lineno">  322</span>            [&amp;](TerrainConstantBuffer* _pConstantBuffer)</div>
<div class="line"><span class="lineno">  323</span>            {</div>
<div class="line"><span class="lineno">  324</span>                <span class="keyword">const</span> CameraSystem&amp; camera = Game::System&lt;CameraSystem&gt;();</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>                Matrix4x4 world;</div>
<div class="line"><span class="lineno">  327</span>                <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aedcfc6a902dccb70b3733dadb250c019">pTransform</a>-&gt;<a class="code hl_function" href="classmtgb_1_1Transform.html#a2c166b8c575ce4893f881836eee54bc1">GenerateWorldMatrix</a>(&amp;world);</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>                Matrix4x4 view, proj;</div>
<div class="line"><span class="lineno">  330</span>                camera.GetViewMatrix(&amp;view);</div>
<div class="line"><span class="lineno">  331</span>                camera.GetProjMatrix(&amp;proj);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>                _pConstantBuffer-&gt;matWVP = DirectX::XMMatrixTranspose(world * view * proj);</div>
<div class="line"><span class="lineno">  334</span>                _pConstantBuffer-&gt;matNormalTrans = DirectX::XMMatrixTranspose(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aedcfc6a902dccb70b3733dadb250c019">pTransform</a>-&gt;<a class="code hl_variable" href="classmtgb_1_1Transform.html#a4c3875b8138cb5527ee7f78109bfeb1f">matrixRotate_</a> * DirectX::XMMatrixInverse(<span class="keyword">nullptr</span>, <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#aedcfc6a902dccb70b3733dadb250c019">pTransform</a>-&gt;<a class="code hl_variable" href="classmtgb_1_1Transform.html#a23aa6fdb8d583e6529677a225dd2f000">matrixScale_</a>));</div>
<div class="line"><span class="lineno">  335</span>                _pConstantBuffer-&gt;lightDir = DirectX::XMFLOAT4(0.0f, -1.0f, 0.0f, 0.0f);</div>
<div class="line"><span class="lineno">  336</span>            },</div>
<div class="line"><span class="lineno">  337</span>            [&amp;](ID3D11DeviceContext* _pContext)</div>
<div class="line"><span class="lineno">  338</span>            {</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>                _pContext-&gt;PSSetShaderResources(0, 1, &amp;pSRV);</div>
<div class="line"><span class="lineno">  341</span>                _pContext-&gt;PSSetSamplers(0, 1, &amp;pSampler);</div>
<div class="line"><span class="lineno">  342</span>            }, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a3c8adadc18d89ff05ed48b7725c28b9f">indices_</a>.size()));</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>        <span class="comment">/*for (int z = 0; z &lt; cellNum; z++)</span></div>
<div class="line"><span class="lineno">  345</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno">  346</span><span class="comment">            for (int x = 0; x &lt; cellNum; x++)</span></div>
<div class="line"><span class="lineno">  347</span><span class="comment">            {</span></div>
<div class="line"><span class="lineno">  348</span><span class="comment">                </span></div>
<div class="line"><span class="lineno">  349</span><span class="comment">                aabbs[z * cellNum + x]-&gt;Draw();</span></div>
<div class="line"><span class="lineno">  350</span><span class="comment">            }</span></div>
<div class="line"><span class="lineno">  351</span><span class="comment">        }*/</span></div>
<div class="line"><span class="lineno">  352</span>    }</div>
<div class="ttc" id="aclassmtgb_1_1DirectX11Draw_html_a80c3f65ad5458eebc5095d6520d85510"><div class="ttname"><a href="classmtgb_1_1DirectX11Draw.html#a80c3f65ad5458eebc5095d6520d85510">mtgb::DirectX11Draw::SetIsWriteToDepthBuffer</a></div><div class="ttdeci">static void SetIsWriteToDepthBuffer(const bool _enabled)</div><div class="ttdoc">深度バッファへの書き込みをするか</div><div class="ttdef"><b>Definition:</b> <a href="DirectX11Draw_8cpp_source.html#l00053">DirectX11Draw.cpp:53</a></div></div>
<div class="ttc" id="aclassmtgb_1_1DirectX11Draw_html_a8969f8c1b58ab3718d78be65ba3d7a7a"><div class="ttname"><a href="classmtgb_1_1DirectX11Draw.html#a8969f8c1b58ab3718d78be65ba3d7a7a">mtgb::DirectX11Draw::SetBlendMode</a></div><div class="ttdeci">static void SetBlendMode(const BlendMode _mode)</div><div class="ttdoc">描画するブレンドモードをセットする</div><div class="ttdef"><b>Definition:</b> <a href="DirectX11Draw_8cpp_source.html#l00041">DirectX11Draw.cpp:41</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Draw_html_a972e48a671d7610a2a71b8ae76339cf7"><div class="ttname"><a href="classmtgb_1_1Draw.html#a972e48a671d7610a2a71b8ae76339cf7">mtgb::Draw::CheckSetShader</a></div><div class="ttdeci">static void CheckSetShader(const ShaderType _default)</div><div class="ttdoc">シェーダがセットされているかチェックする</div><div class="ttdef"><b>Definition:</b> <a href="Draw_8cpp_source.html#l00022">Draw.cpp:22</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Texture2D_html_a2c6ff8d54cdc2b032c0b36a1d8dac342"><div class="ttname"><a href="classmtgb_1_1Texture2D.html#a2c6ff8d54cdc2b032c0b36a1d8dac342">mtgb::Texture2D::GetShaderResourceView</a></div><div class="ttdeci">ID3D11ShaderResourceView * GetShaderResourceView()</div><div class="ttdoc">シェーダリソースビュを取得</div><div class="ttdef"><b>Definition:</b> <a href="Texture2D_8h_source.html#l00040">Texture2D.h:40</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Texture2D_html_a5da7e1bf04b285da9c8211f154fe6ce6"><div class="ttname"><a href="classmtgb_1_1Texture2D.html#a5da7e1bf04b285da9c8211f154fe6ce6">mtgb::Texture2D::GetSamplerState</a></div><div class="ttdeci">ID3D11SamplerState * GetSamplerState()</div><div class="ttdoc">サンプラーステートを取得</div><div class="ttdef"><b>Definition:</b> <a href="Texture2D_8h_source.html#l00035">Texture2D.h:35</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Transform_html_a23aa6fdb8d583e6529677a225dd2f000"><div class="ttname"><a href="classmtgb_1_1Transform.html#a23aa6fdb8d583e6529677a225dd2f000">mtgb::Transform::matrixScale_</a></div><div class="ttdeci">Matrix4x4 matrixScale_</div><div class="ttdef"><b>Definition:</b> <a href="Transform_8h_source.html#l00182">Transform.h:182</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Transform_html_a2c166b8c575ce4893f881836eee54bc1"><div class="ttname"><a href="classmtgb_1_1Transform.html#a2c166b8c575ce4893f881836eee54bc1">mtgb::Transform::GenerateWorldMatrix</a></div><div class="ttdeci">void GenerateWorldMatrix(Matrix4x4 *_pMatrix) const</div><div class="ttdoc">ワールド行列を生成する</div><div class="ttdef"><b>Definition:</b> <a href="Transform_8cpp_source.html#l00084">Transform.cpp:84</a></div></div>
<div class="ttc" id="aclassmtgb_1_1Transform_html_a4c3875b8138cb5527ee7f78109bfeb1f"><div class="ttname"><a href="classmtgb_1_1Transform.html#a4c3875b8138cb5527ee7f78109bfeb1f">mtgb::Transform::matrixRotate_</a></div><div class="ttdeci">Matrix4x4 matrixRotate_</div><div class="ttdef"><b>Definition:</b> <a href="Transform_8h_source.html#l00181">Transform.h:181</a></div></div>
<div class="ttc" id="anamespacemtgb_html_abd56f621e81af02c018dca9fbb31a5fda4ccfea7a25fae3c1d31555f0856d2b42"><div class="ttname"><a href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fda4ccfea7a25fae3c1d31555f0856d2b42">mtgb::ShaderType::Terrain</a></div><div class="ttdeci">@ Terrain</div></div>
<div class="ttc" id="anamespacemtgb_html_aead6ef9b5b93082fb6419e3d5676e748a7a1920d61156abc05a60135aefe8bc67"><div class="ttname"><a href="namespacemtgb.html#aead6ef9b5b93082fb6419e3d5676e748a7a1920d61156abc05a60135aefe8bc67">mtgb::BlendMode::Default</a></div><div class="ttdeci">@ Default</div></div>
</div><!-- fragment -->
<p class="reference">参照先 <a class="el" href="Draw_8cpp_source.html#l00022">mtgb::Draw::CheckSetShader()</a>, <a class="el" href="namespacemtgb.html#aead6ef9b5b93082fb6419e3d5676e748a7a1920d61156abc05a60135aefe8bc67">mtgb::Default</a>, <a class="el" href="CameraSystem_8cpp_source.html#l00187">mtgb::CameraSystem::GetProjMatrix()</a>, <a class="el" href="CameraSystem_8cpp_source.html#l00171">mtgb::CameraSystem::GetViewMatrix()</a>, <a class="el" href="TerrainReader_8h_source.html#l00048">mtgb::TerrainConstantBuffer::lightDir</a>, <a class="el" href="TerrainReader_8h_source.html#l00047">mtgb::TerrainConstantBuffer::matNormalTrans</a>, <a class="el" href="TerrainReader_8h_source.html#l00046">mtgb::TerrainConstantBuffer::matWVP</a>, <a class="el" href="DirectX11Draw_8cpp_source.html#l00041">mtgb::DirectX11Draw::SetBlendMode()</a>, <a class="el" href="DirectX11Draw_8cpp_source.html#l00053">mtgb::DirectX11Draw::SetIsWriteToDepthBuffer()</a>, <a class="el" href="namespacemtgb.html#abd56f621e81af02c018dca9fbb31a5fda4ccfea7a25fae3c1d31555f0856d2b42">mtgb::Terrain</a>.</p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmtgb_1_1TerrainReader_af83680f408b54e315344688484bce287_cgraph.svg" width="635" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a822e23c781ca9754de8de3dd191fae43" name="a822e23c781ca9754de8de3dd191fae43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a822e23c781ca9754de8de3dd191fae43">&#9670;&#160;</a></span>WorldToCellIndex()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::WorldToCellIndex </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>_point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ワールド座標からそれに対応する terrainのセルの番号を返す </p>
<p>terrainの真ん中を(0,0)、原点とする </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">_point</td><td>セルの番号</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd></dd></dl>

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00355">355</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><span class="lineno">  356</span>    {</div>
<div class="line"><span class="lineno">  357</span>        <span class="comment">// セル単位に変換</span></div>
<div class="line"><span class="lineno">  358</span>        <span class="comment">// 常に小さい方,左側へ丸めたいのでfloorf</span></div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordtype">int</span> cell = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floorf(_point / <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#acbbe0e2f72660c4c652de87bb6daf2bd">widthScale</a>));</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="comment">// セル変換した値の原点をグリッドの中央とするオフセット</span></div>
<div class="line"><span class="lineno">  362</span>        <span class="comment">// cellNumが8なら頂点数は [0 1 2 3 4 5 6 7 8] で4が中央になる</span></div>
<div class="line"><span class="lineno">  363</span>        <span class="comment">// [-4 -3 -2 -1 0 1 2 3 4]をオフセット分ずらす</span></div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordtype">int</span> centerOffset = <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a> / 2;</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>        <span class="comment">// セル単位に変換した値をオフセット分ずらす</span></div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordtype">int</span> cellIndex = cell + centerOffset;</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        <span class="comment">// 境界チェック（頂点数に合わせて0からcellNumまで）</span></div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">if</span> (cellIndex &lt; 0 || cellIndex &gt; <a class="code hl_variable" href="classmtgb_1_1TerrainReader.html#a8e6be0631df8be780dc19d30789e1593">cellNum</a>)</div>
<div class="line"><span class="lineno">  371</span>        {</div>
<div class="line"><span class="lineno">  372</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  373</span>        }</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  375</span>        {</div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">return</span> cellIndex;</div>
<div class="line"><span class="lineno">  377</span>        }</div>
<div class="line"><span class="lineno">  378</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">メンバ詳解</h2>
<a id="a1802c8dc2d5ea3055b0074f232c47342" name="a1802c8dc2d5ea3055b0074f232c47342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1802c8dc2d5ea3055b0074f232c47342">&#9670;&#160;</a></span>aabbs</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classmtgb_1_1Collider.html">Collider</a>*&gt; <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::aabbs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00114">114</a> 行目に定義があります。</p>

</div>
</div>
<a id="a5dd612dd5a1c1d5d7566210dbb6cf02a" name="a5dd612dd5a1c1d5d7566210dbb6cf02a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dd612dd5a1c1d5d7566210dbb6cf02a">&#9670;&#160;</a></span>ceilingOffset</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::ceilingOffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00122">122</a> 行目に定義があります。</p>

</div>
</div>
<a id="a8e6be0631df8be780dc19d30789e1593" name="a8e6be0631df8be780dc19d30789e1593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6be0631df8be780dc19d30789e1593">&#9670;&#160;</a></span>cellNum</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::cellNum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00117">117</a> 行目に定義があります。</p>

</div>
</div>
<a id="a630d977f8cb123fe90e5e466f5788fcc" name="a630d977f8cb123fe90e5e466f5788fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630d977f8cb123fe90e5e466f5788fcc">&#9670;&#160;</a></span>divisions</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::divisions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00116">116</a> 行目に定義があります。</p>

</div>
</div>
<a id="aeee34e02c05d383851b8bf9e16a80419" name="aeee34e02c05d383851b8bf9e16a80419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee34e02c05d383851b8bf9e16a80419">&#9670;&#160;</a></span>height</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::height</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00109">109</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="TerrainReader_8h_source.html#l00134">mtgb::TerrainReader&lt; StageDataBit &gt;::TerrainReader()</a>.</p>

</div>
</div>
<a id="a8335d6786da0e00c61a9238803c497ba" name="a8335d6786da0e00c61a9238803c497ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8335d6786da0e00c61a9238803c497ba">&#9670;&#160;</a></span>heightScale</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::heightScale</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00110">110</a> 行目に定義があります。</p>

</div>
</div>
<a id="a93212e6448fa235a4265567773a84e35" name="a93212e6448fa235a4265567773a84e35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93212e6448fa235a4265567773a84e35">&#9670;&#160;</a></span>highestHeight</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::highestHeight</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00120">120</a> 行目に定義があります。</p>

</div>
</div>
<a id="a2a4e2d45ea45eef13d543e1cf3396125" name="a2a4e2d45ea45eef13d543e1cf3396125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a4e2d45ea45eef13d543e1cf3396125">&#9670;&#160;</a></span>hModelCollider_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemtgb.html#a6d92d01c70f7be66651f2c2f73fc3710">FBXModelHandle</a> <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::hModelCollider_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00125">125</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="TerrainReader_8h_source.html#l00134">mtgb::TerrainReader&lt; StageDataBit &gt;::TerrainReader()</a>.</p>

</div>
</div>
<a id="a3c8adadc18d89ff05ed48b7725c28b9f" name="a3c8adadc18d89ff05ed48b7725c28b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8adadc18d89ff05ed48b7725c28b9f">&#9670;&#160;</a></span>indices_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;DWORD&gt; <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::indices_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00092">92</a> 行目に定義があります。</p>

</div>
</div>
<a id="a81a63950dc827841727af965a221fff6" name="a81a63950dc827841727af965a221fff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81a63950dc827841727af965a221fff6">&#9670;&#160;</a></span>mipLevels_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::mipLevels_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00104">104</a> 行目に定義があります。</p>

</div>
</div>
<a id="acfa72729f876f52ada9160eafa3716ac" name="acfa72729f876f52ada9160eafa3716ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa72729f876f52ada9160eafa3716ac">&#9670;&#160;</a></span>pConstantBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ComPtr&lt;ID3D11Buffer&gt; mtgb::IShader::pConstantBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00077">77</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="IShader_8h_source.html#l00081">mtgb::IShader::Draw()</a>.</p>

</div>
</div>
<a id="aa684283886d8b16b40a26c0f7f9d2c69" name="aa684283886d8b16b40a26c0f7f9d2c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa684283886d8b16b40a26c0f7f9d2c69">&#9670;&#160;</a></span>pIndexBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ComPtr&lt;ID3D11Buffer&gt; mtgb::IShader::pIndexBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00076">76</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="IShader_8h_source.html#l00081">mtgb::IShader::Draw()</a>.</p>

</div>
</div>
<a id="a610258390bfe25b3af288b6ec028ad9b" name="a610258390bfe25b3af288b6ec028ad9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a610258390bfe25b3af288b6ec028ad9b">&#9670;&#160;</a></span>pTexture_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmtgb_1_1Texture2D.html">Texture2D</a> <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::pTexture_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00101">101</a> 行目に定義があります。</p>

</div>
</div>
<a id="aedcfc6a902dccb70b3733dadb250c019" name="aedcfc6a902dccb70b3733dadb250c019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedcfc6a902dccb70b3733dadb250c019">&#9670;&#160;</a></span>pTransform</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmtgb_1_1Transform.html">Transform</a>* <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::pTransform</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00124">124</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="TerrainReader_8h_source.html#l00134">mtgb::TerrainReader&lt; StageDataBit &gt;::TerrainReader()</a>.</p>

</div>
</div>
<a id="a1ca0458701c1f244741b2eec2035e529" name="a1ca0458701c1f244741b2eec2035e529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ca0458701c1f244741b2eec2035e529">&#9670;&#160;</a></span>pVertexBuffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ComPtr&lt;ID3D11Buffer&gt; mtgb::IShader::pVertexBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>カメラの座標系を取得 </p>
<dl class="section return"><dt>戻り値</dt><dd>カメラTransfromの参照ポインタ</dd></dl>

<p class="definition"> <a class="el" href="IShader_8h_source.html">IShader.h</a> の <a class="el" href="IShader_8h_source.html#l00075">75</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="IShader_8h_source.html#l00081">mtgb::IShader::Draw()</a>.</p>

</div>
</div>
<a id="a24e6c6b34458766d2a5e19d41d144bd5" name="a24e6c6b34458766d2a5e19d41d144bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24e6c6b34458766d2a5e19d41d144bd5">&#9670;&#160;</a></span>quadtreeHeightMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;float&gt; &gt; <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::quadtreeHeightMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00115">115</a> 行目に定義があります。</p>

</div>
</div>
<a id="a859f7df4abc4bb5de350722ea2fa4b0b" name="a859f7df4abc4bb5de350722ea2fa4b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859f7df4abc4bb5de350722ea2fa4b0b">&#9670;&#160;</a></span>stageBuffer</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;StageDataBit&gt; <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::stageBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00112">112</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="TerrainReader_8h_source.html#l00134">mtgb::TerrainReader&lt; StageDataBit &gt;::TerrainReader()</a>.</p>

</div>
</div>
<a id="aff512d1fb60bf61d9079d22a322a5810" name="aff512d1fb60bf61d9079d22a322a5810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff512d1fb60bf61d9079d22a322a5810">&#9670;&#160;</a></span>vertices_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structmtgb_1_1TerrainVertex.html">TerrainVertex</a>&gt; <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::vertices_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00091">91</a> 行目に定義があります。</p>

</div>
</div>
<a id="afbf0194fa82f1aef01bbc1cb531cfd6b" name="afbf0194fa82f1aef01bbc1cb531cfd6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf0194fa82f1aef01bbc1cb531cfd6b">&#9670;&#160;</a></span>width</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::width</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00109">109</a> 行目に定義があります。</p>

<p class="reference">参照元 <a class="el" href="TerrainReader_8h_source.html#l00134">mtgb::TerrainReader&lt; StageDataBit &gt;::TerrainReader()</a>.</p>

</div>
</div>
<a id="acbbe0e2f72660c4c652de87bb6daf2bd" name="acbbe0e2f72660c4c652de87bb6daf2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbbe0e2f72660c4c652de87bb6daf2bd">&#9670;&#160;</a></span>widthScale</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename StageDataBit &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classmtgb_1_1TerrainReader.html">mtgb::TerrainReader</a>&lt; StageDataBit &gt;::widthScale</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"> <a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a> の <a class="el" href="TerrainReader_8h_source.html#l00111">111</a> 行目に定義があります。</p>

</div>
</div>
<hr/>このクラス詳解は次のファイルから抽出されました:<ul>
<li><a class="el" href="TerrainReader_8h_source.html">TerrainReader.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemtgb.html">mtgb</a></li><li class="navelem"><a class="el" href="classmtgb_1_1TerrainReader.html">TerrainReader</a></li>
    <li class="footer">構築: <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
